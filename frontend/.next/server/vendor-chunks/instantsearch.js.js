"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/instantsearch.js";
exports.ids = ["vendor-chunks/instantsearch.js"];
exports.modules = {

/***/ "(ssr)/./node_modules/instantsearch.js/es/connectors/chat/connectChat.js":
/*!*************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/connectors/chat/connectChat.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var ai__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ai */ \"(ssr)/./node_modules/ai/dist/index.mjs\");\n/* harmony import */ var _lib_chat_index_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../lib/chat/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/chat/chat.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/documentation.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/noop.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/checkRendering.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/logger.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/getAppIdAndApiKey.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/getAlgoliaAgent.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/createSendEventForHits.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nvar _excluded = [\"resume\", \"tools\", \"type\"],\n  _excluded2 = [\"messages\", \"trigger\"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\n\n\n\nvar withUsage = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__.createDocumentationMessageGenerator)({\n  name: 'chat',\n  connector: true\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (function connectChat(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.noop;\n  (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.checkRendering)(renderFn, withUsage());\n  return function (widgetParams) {\n     true ? (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.warning)(false, 'Chat is not yet stable and will change in the future.') : 0;\n    var _ref = widgetParams || {},\n      _ref$resume = _ref.resume,\n      resume = _ref$resume === void 0 ? false : _ref$resume,\n      _ref$tools = _ref.tools,\n      tools = _ref$tools === void 0 ? {} : _ref$tools,\n      _ref$type = _ref.type,\n      type = _ref$type === void 0 ? 'chat' : _ref$type,\n      options = _objectWithoutProperties(_ref, _excluded);\n    var _chatInstance;\n    var input = '';\n    var open = false;\n    var isClearing = false;\n    var sendEvent;\n    var setInput;\n    var setOpen;\n    var setIsClearing;\n    var agentId = 'agentId' in options ? options.agentId : undefined;\n\n    // Extract suggestions from the last assistant message's data-suggestions part\n    var getSuggestionsFromMessages = function getSuggestionsFromMessages(messages) {\n      // Find the last assistant message (iterate from end)\n      var lastAssistantMessage = _toConsumableArray(messages).reverse().find(function (message) {\n        return message.role === 'assistant' && message.parts;\n      });\n      if (!(lastAssistantMessage !== null && lastAssistantMessage !== void 0 && lastAssistantMessage.parts)) {\n        return undefined;\n      }\n\n      // Find the data-suggestions part\n      var suggestionsPart = lastAssistantMessage.parts.find(function (part) {\n        var _data;\n        return 'type' in part && part.type === 'data-suggestions' && 'data' in part && Array.isArray((_data = part.data) === null || _data === void 0 ? void 0 : _data.suggestions);\n      });\n      return suggestionsPart === null || suggestionsPart === void 0 ? void 0 : suggestionsPart.data.suggestions;\n    };\n    var setMessages = function setMessages(messagesParam) {\n      if (typeof messagesParam === 'function') {\n        messagesParam = messagesParam(_chatInstance.messages);\n      }\n      _chatInstance.messages = messagesParam;\n    };\n    var clearMessages = function clearMessages() {\n      if (!_chatInstance.messages || _chatInstance.messages.length === 0) {\n        return;\n      }\n      setIsClearing(true);\n    };\n    var onClearTransitionEnd = function onClearTransitionEnd() {\n      setMessages([]);\n      _chatInstance.clearError();\n      setIsClearing(false);\n    };\n    var makeChatInstance = function makeChatInstance(instantSearchInstance) {\n      var transport;\n      var _getAppIdAndApiKey = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_4__.getAppIdAndApiKey)(instantSearchInstance.client),\n        _getAppIdAndApiKey2 = _slicedToArray(_getAppIdAndApiKey, 2),\n        appId = _getAppIdAndApiKey2[0],\n        apiKey = _getAppIdAndApiKey2[1];\n\n      // Filter out custom data parts (like data-suggestions) that the backend doesn't accept\n      var filterDataParts = function filterDataParts(messages) {\n        return messages.map(function (message) {\n          var _message$parts;\n          return _objectSpread(_objectSpread({}, message), {}, {\n            parts: (_message$parts = message.parts) === null || _message$parts === void 0 ? void 0 : _message$parts.filter(function (part) {\n              return !('type' in part && part.type.startsWith('data-'));\n            })\n          });\n        });\n      };\n      if ('transport' in options && options.transport) {\n        var originalPrepare = options.transport.prepareSendMessagesRequest;\n        transport = new ai__WEBPACK_IMPORTED_MODULE_5__.DefaultChatTransport(_objectSpread(_objectSpread({}, options.transport), {}, {\n          prepareSendMessagesRequest: function prepareSendMessagesRequest(params) {\n            // Call the original prepareSendMessagesRequest if it exists,\n            // otherwise construct the default body\n            var preparedOrPromise = originalPrepare ? originalPrepare(params) : {\n              body: _objectSpread({}, params)\n            };\n            // Then filter out data-* parts\n            var applyFilter = function applyFilter(prepared) {\n              return _objectSpread(_objectSpread({}, prepared), {}, {\n                body: _objectSpread(_objectSpread({}, prepared.body), {}, {\n                  messages: filterDataParts(prepared.body.messages)\n                })\n              });\n            };\n\n            // Handle both sync and async cases\n            if (preparedOrPromise && 'then' in preparedOrPromise) {\n              return preparedOrPromise.then(applyFilter);\n            }\n            return applyFilter(preparedOrPromise);\n          }\n        }));\n      }\n      if ('agentId' in options && options.agentId) {\n        if (!appId || !apiKey) {\n          throw new Error(withUsage('Could not extract Algolia credentials from the search client.'));\n        }\n        var baseApi = \"https://\".concat(appId, \".algolia.net/agent-studio/1/agents/\").concat(agentId, \"/completions?compatibilityMode=ai-sdk-5\");\n        transport = new ai__WEBPACK_IMPORTED_MODULE_5__.DefaultChatTransport({\n          api: baseApi,\n          headers: {\n            'x-algolia-application-id': appId,\n            'x-algolia-api-Key': apiKey,\n            'x-algolia-agent': (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_6__.getAlgoliaAgent)(instantSearchInstance.client)\n          },\n          prepareSendMessagesRequest: function prepareSendMessagesRequest(_ref2) {\n            var messages = _ref2.messages,\n              trigger = _ref2.trigger,\n              rest = _objectWithoutProperties(_ref2, _excluded2);\n            return {\n              // Bypass cache when regenerating to ensure fresh responses\n              api: trigger === 'regenerate-message' ? \"\".concat(baseApi, \"&cache=false\") : baseApi,\n              body: _objectSpread(_objectSpread({}, rest), {}, {\n                messages: filterDataParts(messages)\n              })\n            };\n          }\n        });\n      }\n      if (!transport) {\n        throw new Error(withUsage('You need to provide either an `agentId` or a `transport`.'));\n      }\n      if ('chat' in options) {\n        return options.chat;\n      }\n      return new _lib_chat_index_js__WEBPACK_IMPORTED_MODULE_7__.Chat(_objectSpread(_objectSpread({}, options), {}, {\n        transport: transport,\n        sendAutomaticallyWhen: ai__WEBPACK_IMPORTED_MODULE_5__.lastAssistantMessageIsCompleteWithToolCalls,\n        onToolCall: function onToolCall(_ref3) {\n          var toolCall = _ref3.toolCall;\n          var tool = tools[toolCall.toolName];\n          if (!tool) {\n            if (true) {\n              throw new Error(\"No tool implementation found for \\\"\".concat(toolCall.toolName, \"\\\". Please provide a tool implementation in the `tools` prop.\"));\n            }\n            return _chatInstance.addToolResult({\n              output: \"No tool implemented for \\\"\".concat(toolCall.toolName, \"\\\".\"),\n              tool: toolCall.toolName,\n              toolCallId: toolCall.toolCallId\n            });\n          }\n          if (tool.onToolCall) {\n            var addToolResult = function addToolResult(_ref4) {\n              var output = _ref4.output;\n              return _chatInstance.addToolResult({\n                output: output,\n                tool: toolCall.toolName,\n                toolCallId: toolCall.toolCallId\n              });\n            };\n            return tool.onToolCall(_objectSpread(_objectSpread({}, toolCall), {}, {\n              addToolResult: addToolResult\n            }));\n          }\n          return Promise.resolve();\n        }\n      }));\n    };\n    return {\n      $$type: 'ais.chat',\n      init: function init(initOptions) {\n        var _this = this;\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        _chatInstance = makeChatInstance(instantSearchInstance);\n        var render = function render() {\n          renderFn(_objectSpread(_objectSpread({}, _this.getWidgetRenderState(initOptions)), {}, {\n            instantSearchInstance: initOptions.instantSearchInstance\n          }), false);\n        };\n        setOpen = function setOpen(o) {\n          open = o;\n          render();\n        };\n        setInput = function setInput(i) {\n          input = i;\n          render();\n        };\n        setIsClearing = function setIsClearing(value) {\n          isClearing = value;\n          render();\n        };\n        _chatInstance['~registerErrorCallback'](render);\n        _chatInstance['~registerMessagesCallback'](render);\n        _chatInstance['~registerStatusCallback'](render);\n        if (resume) {\n          _chatInstance.resumeStream();\n        }\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: renderOptions.instantSearchInstance\n        }), false);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions\n      // Type is explicitly redefined, to avoid having the TWidgetParams type in the definition\n      ) {\n        return _objectSpread(_objectSpread({}, renderState), {}, _defineProperty({}, type, this.getWidgetRenderState(renderOptions)));\n      },\n      getWidgetRenderState: function getWidgetRenderState(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance,\n          parent = renderOptions.parent;\n        if (!_chatInstance) {\n          this.init(_objectSpread(_objectSpread({}, renderOptions), {}, {\n            uiState: {},\n            results: undefined\n          }));\n        }\n        if (!sendEvent) {\n          sendEvent = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_8__.createSendEventForHits)({\n            instantSearchInstance: renderOptions.instantSearchInstance,\n            helper: renderOptions.helper,\n            widgetType: this.$$type\n          });\n        }\n        var toolsWithAddToolResult = {};\n        Object.entries(tools).forEach(function (_ref5) {\n          var _ref6 = _slicedToArray(_ref5, 2),\n            key = _ref6[0],\n            tool = _ref6[1];\n          var toolWithAddToolResult = _objectSpread(_objectSpread({}, tool), {}, {\n            addToolResult: _chatInstance.addToolResult\n          });\n          toolsWithAddToolResult[key] = toolWithAddToolResult;\n        });\n        return {\n          indexUiState: instantSearchInstance.getUiState()[parent.getIndexId()],\n          input: input,\n          open: open,\n          sendEvent: sendEvent,\n          setIndexUiState: parent.setIndexUiState.bind(parent),\n          setInput: setInput,\n          setOpen: setOpen,\n          setMessages: setMessages,\n          suggestions: getSuggestionsFromMessages(_chatInstance.messages),\n          isClearing: isClearing,\n          clearMessages: clearMessages,\n          onClearTransitionEnd: onClearTransitionEnd,\n          tools: toolsWithAddToolResult,\n          widgetParams: widgetParams,\n          // Chat instance render state\n          addToolResult: _chatInstance.addToolResult,\n          clearError: _chatInstance.clearError,\n          error: _chatInstance.error,\n          id: _chatInstance.id,\n          messages: _chatInstance.messages,\n          regenerate: _chatInstance.regenerate,\n          resumeStream: _chatInstance.resumeStream,\n          sendMessage: _chatInstance.sendMessage,\n          status: _chatInstance.status,\n          stop: _chatInstance.stop\n        };\n      },\n      dispose: function dispose() {\n        unmountFn();\n      },\n      shouldRender: function shouldRender() {\n        return true;\n      },\n      get chatInstance() {\n        return _chatInstance;\n      }\n    };\n  };\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9jb25uZWN0b3JzL2NoYXQvY29ubmVjdENoYXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBLHNCQUFzQiwyQkFBMkIsb0dBQW9HLG1CQUFtQixpQkFBaUIsc0hBQXNIO0FBQy9TO0FBQ0E7QUFDQSx5QkFBeUIsd0JBQXdCLG9DQUFvQyx5Q0FBeUMsa0NBQWtDLDBEQUEwRCwwQkFBMEI7QUFDcFAsNEJBQTRCLGdCQUFnQixzQkFBc0IsT0FBTyxrREFBa0Qsc0RBQXNELDhCQUE4QixtSkFBbUoscUVBQXFFLEtBQUs7QUFDNWEsb0NBQW9DLG9FQUFvRSwwREFBMEQ7QUFDbEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1EsZ0NBQWdDO0FBQ2hDLDhCQUE4QjtBQUM5Qix1Q0FBdUMsa0dBQWtHLGlCQUFpQix3Q0FBd0MsTUFBTSx5Q0FBeUMsNkJBQTZCLFVBQVUsWUFBWSxrRUFBa0UsV0FBVyxZQUFZLGlCQUFpQixVQUFVLE1BQU0sMkVBQTJFLFVBQVUsb0JBQW9CO0FBQ3ZnQiw4QkFBOEI7QUFDOUIsaUNBQWlDO0FBQ2pDLGdDQUFnQztBQUNoQyw2Q0FBNkMsU0FBUywwREFBMEQsVUFBVSxnQ0FBZ0M7QUFDMUosK0JBQStCO0FBQy9CLGlDQUFpQztBQUNqQyxtQ0FBbUMsK0NBQStDLDhCQUE4QixPQUFPLGtCQUFrQjtBQUN6SSwwQ0FBMEMsMEJBQTBCLG1EQUFtRCxvQ0FBb0MseUNBQXlDLFlBQVksY0FBYyx3Q0FBd0MscURBQXFEO0FBQzNULCtDQUErQywwQkFBMEIsWUFBWSx1QkFBdUIsOEJBQThCLG1DQUFtQyxlQUFlO0FBQ3JHO0FBQ3hDO0FBQzJIO0FBQzFLLGdCQUFnQix3RkFBbUM7QUFDbkQ7QUFDQTtBQUNBLENBQUM7QUFDRCxpRUFBZ0I7QUFDaEIsc0ZBQXNGLHFEQUFJO0FBQzFGLEVBQUUsbUVBQWM7QUFDaEI7QUFDQSxJQUFJLEtBQXNDLEdBQUcsNERBQU8sbUVBQW1FLENBQU07QUFDN0gsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHNFQUFpQjtBQUNoRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsY0FBYztBQUM3RDtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG9EQUFvQiwrQkFBK0Isd0JBQXdCO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxlQUFlO0FBQ2xFLG9EQUFvRCxvQkFBb0I7QUFDeEU7QUFDQSxpQkFBaUI7QUFDakIsZUFBZTtBQUNmOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isb0RBQW9CO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLG9FQUFlO0FBQzlDLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxXQUFXO0FBQzdEO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsb0RBQUksK0JBQStCLGNBQWM7QUFDbEU7QUFDQSwrQkFBK0IsMkVBQTJDO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLElBQXNDO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0EsaUVBQWlFLGVBQWU7QUFDaEY7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsOENBQThDO0FBQy9GO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLDZDQUE2QztBQUM1RjtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSwrQ0FBK0MsK0NBQStDO0FBQzlGO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsa0JBQWtCLG9CQUFvQjtBQUNuRixPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsb0JBQW9CO0FBQ3RFLHVCQUF1QjtBQUN2QjtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0Esc0JBQXNCLDJFQUFzQjtBQUM1QztBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLFdBQVc7QUFDL0U7QUFDQSxXQUFXO0FBQ1g7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3NwZWMtbG9naWMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9jb25uZWN0b3JzL2NoYXQvY29ubmVjdENoYXQuanM/ZWFhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG52YXIgX2V4Y2x1ZGVkID0gW1wicmVzdW1lXCIsIFwidG9vbHNcIiwgXCJ0eXBlXCJdLFxuICBfZXhjbHVkZWQyID0gW1wibWVzc2FnZXNcIiwgXCJ0cmlnZ2VyXCJdO1xuZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShyLCBlKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMocikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGUpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBlKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBsKSB7IHZhciB0ID0gbnVsbCA9PSByID8gbnVsbCA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiByW1N5bWJvbC5pdGVyYXRvcl0gfHwgcltcIkBAaXRlcmF0b3JcIl07IGlmIChudWxsICE9IHQpIHsgdmFyIGUsIG4sIGksIHUsIGEgPSBbXSwgZiA9ICEwLCBvID0gITE7IHRyeSB7IGlmIChpID0gKHQgPSB0LmNhbGwocikpLm5leHQsIDAgPT09IGwpIHsgaWYgKE9iamVjdCh0KSAhPT0gdCkgcmV0dXJuOyBmID0gITE7IH0gZWxzZSBmb3IgKDsgIShmID0gKGUgPSBpLmNhbGwodCkpLmRvbmUpICYmIChhLnB1c2goZS52YWx1ZSksIGEubGVuZ3RoICE9PSBsKTsgZiA9ICEwKTsgfSBjYXRjaCAocikgeyBvID0gITAsIG4gPSByOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIWYgJiYgbnVsbCAhPSB0LnJldHVybiAmJiAodSA9IHQucmV0dXJuKCksIE9iamVjdCh1KSAhPT0gdSkpIHJldHVybjsgfSBmaW5hbGx5IHsgaWYgKG8pIHRocm93IG47IH0gfSByZXR1cm4gYTsgfSB9XG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMocikgeyBpZiAoQXJyYXkuaXNBcnJheShyKSkgcmV0dXJuIHI7IH1cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMocikgfHwgX2l0ZXJhYmxlVG9BcnJheShyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkocikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmIChcInN0cmluZ1wiID09IHR5cGVvZiByKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkociwgYSk7IHZhciB0ID0ge30udG9TdHJpbmcuY2FsbChyKS5zbGljZSg4LCAtMSk7IHJldHVybiBcIk9iamVjdFwiID09PSB0ICYmIHIuY29uc3RydWN0b3IgJiYgKHQgPSByLmNvbnN0cnVjdG9yLm5hbWUpLCBcIk1hcFwiID09PSB0IHx8IFwiU2V0XCIgPT09IHQgPyBBcnJheS5mcm9tKHIpIDogXCJBcmd1bWVudHNcIiA9PT0gdCB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSA/IF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIDogdm9pZCAwOyB9IH1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkocikgeyBpZiAoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIG51bGwgIT0gcltTeW1ib2wuaXRlcmF0b3JdIHx8IG51bGwgIT0gcltcIkBAaXRlcmF0b3JcIl0pIHJldHVybiBBcnJheS5mcm9tKHIpOyB9XG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMocikgeyBpZiAoQXJyYXkuaXNBcnJheShyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIpOyB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9XG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoZSwgdCkgeyBpZiAobnVsbCA9PSBlKSByZXR1cm4ge307IHZhciBvLCByLCBpID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoZSwgdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBuID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgZm9yIChyID0gMDsgciA8IG4ubGVuZ3RoOyByKyspIG8gPSBuW3JdLCAtMSA9PT0gdC5pbmRleE9mKG8pICYmIHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSwgbykgJiYgKGlbb10gPSBlW29dKTsgfSByZXR1cm4gaTsgfVxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UociwgZSkgeyBpZiAobnVsbCA9PSByKSByZXR1cm4ge307IHZhciB0ID0ge307IGZvciAodmFyIG4gaW4gcikgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwociwgbikpIHsgaWYgKC0xICE9PSBlLmluZGV4T2YobikpIGNvbnRpbnVlOyB0W25dID0gcltuXTsgfSByZXR1cm4gdDsgfVxuaW1wb3J0IHsgRGVmYXVsdENoYXRUcmFuc3BvcnQsIGxhc3RBc3Npc3RhbnRNZXNzYWdlSXNDb21wbGV0ZVdpdGhUb29sQ2FsbHMgfSBmcm9tICdhaSc7XG5pbXBvcnQgeyBDaGF0IH0gZnJvbSBcIi4uLy4uL2xpYi9jaGF0L2luZGV4LmpzXCI7XG5pbXBvcnQgeyBjaGVja1JlbmRlcmluZywgY3JlYXRlRG9jdW1lbnRhdGlvbk1lc3NhZ2VHZW5lcmF0b3IsIGNyZWF0ZVNlbmRFdmVudEZvckhpdHMsIGdldEFsZ29saWFBZ2VudCwgZ2V0QXBwSWRBbmRBcGlLZXksIG5vb3AsIHdhcm5pbmcgfSBmcm9tIFwiLi4vLi4vbGliL3V0aWxzL2luZGV4LmpzXCI7XG52YXIgd2l0aFVzYWdlID0gY3JlYXRlRG9jdW1lbnRhdGlvbk1lc3NhZ2VHZW5lcmF0b3Ioe1xuICBuYW1lOiAnY2hhdCcsXG4gIGNvbm5lY3RvcjogdHJ1ZVxufSk7XG5leHBvcnQgZGVmYXVsdCAoZnVuY3Rpb24gY29ubmVjdENoYXQocmVuZGVyRm4pIHtcbiAgdmFyIHVubW91bnRGbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbm9vcDtcbiAgY2hlY2tSZW5kZXJpbmcocmVuZGVyRm4sIHdpdGhVc2FnZSgpKTtcbiAgcmV0dXJuIGZ1bmN0aW9uICh3aWRnZXRQYXJhbXMpIHtcbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IHdhcm5pbmcoZmFsc2UsICdDaGF0IGlzIG5vdCB5ZXQgc3RhYmxlIGFuZCB3aWxsIGNoYW5nZSBpbiB0aGUgZnV0dXJlLicpIDogdm9pZCAwO1xuICAgIHZhciBfcmVmID0gd2lkZ2V0UGFyYW1zIHx8IHt9LFxuICAgICAgX3JlZiRyZXN1bWUgPSBfcmVmLnJlc3VtZSxcbiAgICAgIHJlc3VtZSA9IF9yZWYkcmVzdW1lID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkcmVzdW1lLFxuICAgICAgX3JlZiR0b29scyA9IF9yZWYudG9vbHMsXG4gICAgICB0b29scyA9IF9yZWYkdG9vbHMgPT09IHZvaWQgMCA/IHt9IDogX3JlZiR0b29scyxcbiAgICAgIF9yZWYkdHlwZSA9IF9yZWYudHlwZSxcbiAgICAgIHR5cGUgPSBfcmVmJHR5cGUgPT09IHZvaWQgMCA/ICdjaGF0JyA6IF9yZWYkdHlwZSxcbiAgICAgIG9wdGlvbnMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgX2V4Y2x1ZGVkKTtcbiAgICB2YXIgX2NoYXRJbnN0YW5jZTtcbiAgICB2YXIgaW5wdXQgPSAnJztcbiAgICB2YXIgb3BlbiA9IGZhbHNlO1xuICAgIHZhciBpc0NsZWFyaW5nID0gZmFsc2U7XG4gICAgdmFyIHNlbmRFdmVudDtcbiAgICB2YXIgc2V0SW5wdXQ7XG4gICAgdmFyIHNldE9wZW47XG4gICAgdmFyIHNldElzQ2xlYXJpbmc7XG4gICAgdmFyIGFnZW50SWQgPSAnYWdlbnRJZCcgaW4gb3B0aW9ucyA/IG9wdGlvbnMuYWdlbnRJZCA6IHVuZGVmaW5lZDtcblxuICAgIC8vIEV4dHJhY3Qgc3VnZ2VzdGlvbnMgZnJvbSB0aGUgbGFzdCBhc3Npc3RhbnQgbWVzc2FnZSdzIGRhdGEtc3VnZ2VzdGlvbnMgcGFydFxuICAgIHZhciBnZXRTdWdnZXN0aW9uc0Zyb21NZXNzYWdlcyA9IGZ1bmN0aW9uIGdldFN1Z2dlc3Rpb25zRnJvbU1lc3NhZ2VzKG1lc3NhZ2VzKSB7XG4gICAgICAvLyBGaW5kIHRoZSBsYXN0IGFzc2lzdGFudCBtZXNzYWdlIChpdGVyYXRlIGZyb20gZW5kKVxuICAgICAgdmFyIGxhc3RBc3Npc3RhbnRNZXNzYWdlID0gX3RvQ29uc3VtYWJsZUFycmF5KG1lc3NhZ2VzKS5yZXZlcnNlKCkuZmluZChmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbWVzc2FnZS5yb2xlID09PSAnYXNzaXN0YW50JyAmJiBtZXNzYWdlLnBhcnRzO1xuICAgICAgfSk7XG4gICAgICBpZiAoIShsYXN0QXNzaXN0YW50TWVzc2FnZSAhPT0gbnVsbCAmJiBsYXN0QXNzaXN0YW50TWVzc2FnZSAhPT0gdm9pZCAwICYmIGxhc3RBc3Npc3RhbnRNZXNzYWdlLnBhcnRzKSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuXG4gICAgICAvLyBGaW5kIHRoZSBkYXRhLXN1Z2dlc3Rpb25zIHBhcnRcbiAgICAgIHZhciBzdWdnZXN0aW9uc1BhcnQgPSBsYXN0QXNzaXN0YW50TWVzc2FnZS5wYXJ0cy5maW5kKGZ1bmN0aW9uIChwYXJ0KSB7XG4gICAgICAgIHZhciBfZGF0YTtcbiAgICAgICAgcmV0dXJuICd0eXBlJyBpbiBwYXJ0ICYmIHBhcnQudHlwZSA9PT0gJ2RhdGEtc3VnZ2VzdGlvbnMnICYmICdkYXRhJyBpbiBwYXJ0ICYmIEFycmF5LmlzQXJyYXkoKF9kYXRhID0gcGFydC5kYXRhKSA9PT0gbnVsbCB8fCBfZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2RhdGEuc3VnZ2VzdGlvbnMpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gc3VnZ2VzdGlvbnNQYXJ0ID09PSBudWxsIHx8IHN1Z2dlc3Rpb25zUGFydCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3VnZ2VzdGlvbnNQYXJ0LmRhdGEuc3VnZ2VzdGlvbnM7XG4gICAgfTtcbiAgICB2YXIgc2V0TWVzc2FnZXMgPSBmdW5jdGlvbiBzZXRNZXNzYWdlcyhtZXNzYWdlc1BhcmFtKSB7XG4gICAgICBpZiAodHlwZW9mIG1lc3NhZ2VzUGFyYW0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgbWVzc2FnZXNQYXJhbSA9IG1lc3NhZ2VzUGFyYW0oX2NoYXRJbnN0YW5jZS5tZXNzYWdlcyk7XG4gICAgICB9XG4gICAgICBfY2hhdEluc3RhbmNlLm1lc3NhZ2VzID0gbWVzc2FnZXNQYXJhbTtcbiAgICB9O1xuICAgIHZhciBjbGVhck1lc3NhZ2VzID0gZnVuY3Rpb24gY2xlYXJNZXNzYWdlcygpIHtcbiAgICAgIGlmICghX2NoYXRJbnN0YW5jZS5tZXNzYWdlcyB8fCBfY2hhdEluc3RhbmNlLm1lc3NhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRJc0NsZWFyaW5nKHRydWUpO1xuICAgIH07XG4gICAgdmFyIG9uQ2xlYXJUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24gb25DbGVhclRyYW5zaXRpb25FbmQoKSB7XG4gICAgICBzZXRNZXNzYWdlcyhbXSk7XG4gICAgICBfY2hhdEluc3RhbmNlLmNsZWFyRXJyb3IoKTtcbiAgICAgIHNldElzQ2xlYXJpbmcoZmFsc2UpO1xuICAgIH07XG4gICAgdmFyIG1ha2VDaGF0SW5zdGFuY2UgPSBmdW5jdGlvbiBtYWtlQ2hhdEluc3RhbmNlKGluc3RhbnRTZWFyY2hJbnN0YW5jZSkge1xuICAgICAgdmFyIHRyYW5zcG9ydDtcbiAgICAgIHZhciBfZ2V0QXBwSWRBbmRBcGlLZXkgPSBnZXRBcHBJZEFuZEFwaUtleShpbnN0YW50U2VhcmNoSW5zdGFuY2UuY2xpZW50KSxcbiAgICAgICAgX2dldEFwcElkQW5kQXBpS2V5MiA9IF9zbGljZWRUb0FycmF5KF9nZXRBcHBJZEFuZEFwaUtleSwgMiksXG4gICAgICAgIGFwcElkID0gX2dldEFwcElkQW5kQXBpS2V5MlswXSxcbiAgICAgICAgYXBpS2V5ID0gX2dldEFwcElkQW5kQXBpS2V5MlsxXTtcblxuICAgICAgLy8gRmlsdGVyIG91dCBjdXN0b20gZGF0YSBwYXJ0cyAobGlrZSBkYXRhLXN1Z2dlc3Rpb25zKSB0aGF0IHRoZSBiYWNrZW5kIGRvZXNuJ3QgYWNjZXB0XG4gICAgICB2YXIgZmlsdGVyRGF0YVBhcnRzID0gZnVuY3Rpb24gZmlsdGVyRGF0YVBhcnRzKG1lc3NhZ2VzKSB7XG4gICAgICAgIHJldHVybiBtZXNzYWdlcy5tYXAoZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgICB2YXIgX21lc3NhZ2UkcGFydHM7XG4gICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbWVzc2FnZSksIHt9LCB7XG4gICAgICAgICAgICBwYXJ0czogKF9tZXNzYWdlJHBhcnRzID0gbWVzc2FnZS5wYXJ0cykgPT09IG51bGwgfHwgX21lc3NhZ2UkcGFydHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9tZXNzYWdlJHBhcnRzLmZpbHRlcihmdW5jdGlvbiAocGFydCkge1xuICAgICAgICAgICAgICByZXR1cm4gISgndHlwZScgaW4gcGFydCAmJiBwYXJ0LnR5cGUuc3RhcnRzV2l0aCgnZGF0YS0nKSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBpZiAoJ3RyYW5zcG9ydCcgaW4gb3B0aW9ucyAmJiBvcHRpb25zLnRyYW5zcG9ydCkge1xuICAgICAgICB2YXIgb3JpZ2luYWxQcmVwYXJlID0gb3B0aW9ucy50cmFuc3BvcnQucHJlcGFyZVNlbmRNZXNzYWdlc1JlcXVlc3Q7XG4gICAgICAgIHRyYW5zcG9ydCA9IG5ldyBEZWZhdWx0Q2hhdFRyYW5zcG9ydChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG9wdGlvbnMudHJhbnNwb3J0KSwge30sIHtcbiAgICAgICAgICBwcmVwYXJlU2VuZE1lc3NhZ2VzUmVxdWVzdDogZnVuY3Rpb24gcHJlcGFyZVNlbmRNZXNzYWdlc1JlcXVlc3QocGFyYW1zKSB7XG4gICAgICAgICAgICAvLyBDYWxsIHRoZSBvcmlnaW5hbCBwcmVwYXJlU2VuZE1lc3NhZ2VzUmVxdWVzdCBpZiBpdCBleGlzdHMsXG4gICAgICAgICAgICAvLyBvdGhlcndpc2UgY29uc3RydWN0IHRoZSBkZWZhdWx0IGJvZHlcbiAgICAgICAgICAgIHZhciBwcmVwYXJlZE9yUHJvbWlzZSA9IG9yaWdpbmFsUHJlcGFyZSA/IG9yaWdpbmFsUHJlcGFyZShwYXJhbXMpIDoge1xuICAgICAgICAgICAgICBib2R5OiBfb2JqZWN0U3ByZWFkKHt9LCBwYXJhbXMpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gVGhlbiBmaWx0ZXIgb3V0IGRhdGEtKiBwYXJ0c1xuICAgICAgICAgICAgdmFyIGFwcGx5RmlsdGVyID0gZnVuY3Rpb24gYXBwbHlGaWx0ZXIocHJlcGFyZWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcHJlcGFyZWQpLCB7fSwge1xuICAgICAgICAgICAgICAgIGJvZHk6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcHJlcGFyZWQuYm9keSksIHt9LCB7XG4gICAgICAgICAgICAgICAgICBtZXNzYWdlczogZmlsdGVyRGF0YVBhcnRzKHByZXBhcmVkLmJvZHkubWVzc2FnZXMpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBIYW5kbGUgYm90aCBzeW5jIGFuZCBhc3luYyBjYXNlc1xuICAgICAgICAgICAgaWYgKHByZXBhcmVkT3JQcm9taXNlICYmICd0aGVuJyBpbiBwcmVwYXJlZE9yUHJvbWlzZSkge1xuICAgICAgICAgICAgICByZXR1cm4gcHJlcGFyZWRPclByb21pc2UudGhlbihhcHBseUZpbHRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYXBwbHlGaWx0ZXIocHJlcGFyZWRPclByb21pc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgICAgaWYgKCdhZ2VudElkJyBpbiBvcHRpb25zICYmIG9wdGlvbnMuYWdlbnRJZCkge1xuICAgICAgICBpZiAoIWFwcElkIHx8ICFhcGlLZXkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3Iod2l0aFVzYWdlKCdDb3VsZCBub3QgZXh0cmFjdCBBbGdvbGlhIGNyZWRlbnRpYWxzIGZyb20gdGhlIHNlYXJjaCBjbGllbnQuJykpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiYXNlQXBpID0gXCJodHRwczovL1wiLmNvbmNhdChhcHBJZCwgXCIuYWxnb2xpYS5uZXQvYWdlbnQtc3R1ZGlvLzEvYWdlbnRzL1wiKS5jb25jYXQoYWdlbnRJZCwgXCIvY29tcGxldGlvbnM/Y29tcGF0aWJpbGl0eU1vZGU9YWktc2RrLTVcIik7XG4gICAgICAgIHRyYW5zcG9ydCA9IG5ldyBEZWZhdWx0Q2hhdFRyYW5zcG9ydCh7XG4gICAgICAgICAgYXBpOiBiYXNlQXBpLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICd4LWFsZ29saWEtYXBwbGljYXRpb24taWQnOiBhcHBJZCxcbiAgICAgICAgICAgICd4LWFsZ29saWEtYXBpLUtleSc6IGFwaUtleSxcbiAgICAgICAgICAgICd4LWFsZ29saWEtYWdlbnQnOiBnZXRBbGdvbGlhQWdlbnQoaW5zdGFudFNlYXJjaEluc3RhbmNlLmNsaWVudClcbiAgICAgICAgICB9LFxuICAgICAgICAgIHByZXBhcmVTZW5kTWVzc2FnZXNSZXF1ZXN0OiBmdW5jdGlvbiBwcmVwYXJlU2VuZE1lc3NhZ2VzUmVxdWVzdChfcmVmMikge1xuICAgICAgICAgICAgdmFyIG1lc3NhZ2VzID0gX3JlZjIubWVzc2FnZXMsXG4gICAgICAgICAgICAgIHRyaWdnZXIgPSBfcmVmMi50cmlnZ2VyLFxuICAgICAgICAgICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYyLCBfZXhjbHVkZWQyKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC8vIEJ5cGFzcyBjYWNoZSB3aGVuIHJlZ2VuZXJhdGluZyB0byBlbnN1cmUgZnJlc2ggcmVzcG9uc2VzXG4gICAgICAgICAgICAgIGFwaTogdHJpZ2dlciA9PT0gJ3JlZ2VuZXJhdGUtbWVzc2FnZScgPyBcIlwiLmNvbmNhdChiYXNlQXBpLCBcIiZjYWNoZT1mYWxzZVwiKSA6IGJhc2VBcGksXG4gICAgICAgICAgICAgIGJvZHk6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcmVzdCksIHt9LCB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZXM6IGZpbHRlckRhdGFQYXJ0cyhtZXNzYWdlcylcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICghdHJhbnNwb3J0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih3aXRoVXNhZ2UoJ1lvdSBuZWVkIHRvIHByb3ZpZGUgZWl0aGVyIGFuIGBhZ2VudElkYCBvciBhIGB0cmFuc3BvcnRgLicpKTtcbiAgICAgIH1cbiAgICAgIGlmICgnY2hhdCcgaW4gb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gb3B0aW9ucy5jaGF0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ldyBDaGF0KF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgb3B0aW9ucyksIHt9LCB7XG4gICAgICAgIHRyYW5zcG9ydDogdHJhbnNwb3J0LFxuICAgICAgICBzZW5kQXV0b21hdGljYWxseVdoZW46IGxhc3RBc3Npc3RhbnRNZXNzYWdlSXNDb21wbGV0ZVdpdGhUb29sQ2FsbHMsXG4gICAgICAgIG9uVG9vbENhbGw6IGZ1bmN0aW9uIG9uVG9vbENhbGwoX3JlZjMpIHtcbiAgICAgICAgICB2YXIgdG9vbENhbGwgPSBfcmVmMy50b29sQ2FsbDtcbiAgICAgICAgICB2YXIgdG9vbCA9IHRvb2xzW3Rvb2xDYWxsLnRvb2xOYW1lXTtcbiAgICAgICAgICBpZiAoIXRvb2wpIHtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyB0b29sIGltcGxlbWVudGF0aW9uIGZvdW5kIGZvciBcXFwiXCIuY29uY2F0KHRvb2xDYWxsLnRvb2xOYW1lLCBcIlxcXCIuIFBsZWFzZSBwcm92aWRlIGEgdG9vbCBpbXBsZW1lbnRhdGlvbiBpbiB0aGUgYHRvb2xzYCBwcm9wLlwiKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX2NoYXRJbnN0YW5jZS5hZGRUb29sUmVzdWx0KHtcbiAgICAgICAgICAgICAgb3V0cHV0OiBcIk5vIHRvb2wgaW1wbGVtZW50ZWQgZm9yIFxcXCJcIi5jb25jYXQodG9vbENhbGwudG9vbE5hbWUsIFwiXFxcIi5cIiksXG4gICAgICAgICAgICAgIHRvb2w6IHRvb2xDYWxsLnRvb2xOYW1lLFxuICAgICAgICAgICAgICB0b29sQ2FsbElkOiB0b29sQ2FsbC50b29sQ2FsbElkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHRvb2wub25Ub29sQ2FsbCkge1xuICAgICAgICAgICAgdmFyIGFkZFRvb2xSZXN1bHQgPSBmdW5jdGlvbiBhZGRUb29sUmVzdWx0KF9yZWY0KSB7XG4gICAgICAgICAgICAgIHZhciBvdXRwdXQgPSBfcmVmNC5vdXRwdXQ7XG4gICAgICAgICAgICAgIHJldHVybiBfY2hhdEluc3RhbmNlLmFkZFRvb2xSZXN1bHQoe1xuICAgICAgICAgICAgICAgIG91dHB1dDogb3V0cHV0LFxuICAgICAgICAgICAgICAgIHRvb2w6IHRvb2xDYWxsLnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHRvb2xDYWxsLnRvb2xDYWxsSWRcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHRvb2wub25Ub29sQ2FsbChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRvb2xDYWxsKSwge30sIHtcbiAgICAgICAgICAgICAgYWRkVG9vbFJlc3VsdDogYWRkVG9vbFJlc3VsdFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICB9O1xuICAgIHJldHVybiB7XG4gICAgICAkJHR5cGU6ICdhaXMuY2hhdCcsXG4gICAgICBpbml0OiBmdW5jdGlvbiBpbml0KGluaXRPcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBpbnN0YW50U2VhcmNoSW5zdGFuY2UgPSBpbml0T3B0aW9ucy5pbnN0YW50U2VhcmNoSW5zdGFuY2U7XG4gICAgICAgIF9jaGF0SW5zdGFuY2UgPSBtYWtlQ2hhdEluc3RhbmNlKGluc3RhbnRTZWFyY2hJbnN0YW5jZSk7XG4gICAgICAgIHZhciByZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgcmVuZGVyRm4oX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBfdGhpcy5nZXRXaWRnZXRSZW5kZXJTdGF0ZShpbml0T3B0aW9ucykpLCB7fSwge1xuICAgICAgICAgICAgaW5zdGFudFNlYXJjaEluc3RhbmNlOiBpbml0T3B0aW9ucy5pbnN0YW50U2VhcmNoSW5zdGFuY2VcbiAgICAgICAgICB9KSwgZmFsc2UpO1xuICAgICAgICB9O1xuICAgICAgICBzZXRPcGVuID0gZnVuY3Rpb24gc2V0T3BlbihvKSB7XG4gICAgICAgICAgb3BlbiA9IG87XG4gICAgICAgICAgcmVuZGVyKCk7XG4gICAgICAgIH07XG4gICAgICAgIHNldElucHV0ID0gZnVuY3Rpb24gc2V0SW5wdXQoaSkge1xuICAgICAgICAgIGlucHV0ID0gaTtcbiAgICAgICAgICByZW5kZXIoKTtcbiAgICAgICAgfTtcbiAgICAgICAgc2V0SXNDbGVhcmluZyA9IGZ1bmN0aW9uIHNldElzQ2xlYXJpbmcodmFsdWUpIHtcbiAgICAgICAgICBpc0NsZWFyaW5nID0gdmFsdWU7XG4gICAgICAgICAgcmVuZGVyKCk7XG4gICAgICAgIH07XG4gICAgICAgIF9jaGF0SW5zdGFuY2VbJ35yZWdpc3RlckVycm9yQ2FsbGJhY2snXShyZW5kZXIpO1xuICAgICAgICBfY2hhdEluc3RhbmNlWyd+cmVnaXN0ZXJNZXNzYWdlc0NhbGxiYWNrJ10ocmVuZGVyKTtcbiAgICAgICAgX2NoYXRJbnN0YW5jZVsnfnJlZ2lzdGVyU3RhdHVzQ2FsbGJhY2snXShyZW5kZXIpO1xuICAgICAgICBpZiAocmVzdW1lKSB7XG4gICAgICAgICAgX2NoYXRJbnN0YW5jZS5yZXN1bWVTdHJlYW0oKTtcbiAgICAgICAgfVxuICAgICAgICByZW5kZXJGbihfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMuZ2V0V2lkZ2V0UmVuZGVyU3RhdGUoaW5pdE9wdGlvbnMpKSwge30sIHtcbiAgICAgICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2U6IGluc3RhbnRTZWFyY2hJbnN0YW5jZVxuICAgICAgICB9KSwgdHJ1ZSk7XG4gICAgICB9LFxuICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIocmVuZGVyT3B0aW9ucykge1xuICAgICAgICByZW5kZXJGbihfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMuZ2V0V2lkZ2V0UmVuZGVyU3RhdGUocmVuZGVyT3B0aW9ucykpLCB7fSwge1xuICAgICAgICAgIGluc3RhbnRTZWFyY2hJbnN0YW5jZTogcmVuZGVyT3B0aW9ucy5pbnN0YW50U2VhcmNoSW5zdGFuY2VcbiAgICAgICAgfSksIGZhbHNlKTtcbiAgICAgIH0sXG4gICAgICBnZXRSZW5kZXJTdGF0ZTogZnVuY3Rpb24gZ2V0UmVuZGVyU3RhdGUocmVuZGVyU3RhdGUsIHJlbmRlck9wdGlvbnNcbiAgICAgIC8vIFR5cGUgaXMgZXhwbGljaXRseSByZWRlZmluZWQsIHRvIGF2b2lkIGhhdmluZyB0aGUgVFdpZGdldFBhcmFtcyB0eXBlIGluIHRoZSBkZWZpbml0aW9uXG4gICAgICApIHtcbiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcmVuZGVyU3RhdGUpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCB0eXBlLCB0aGlzLmdldFdpZGdldFJlbmRlclN0YXRlKHJlbmRlck9wdGlvbnMpKSk7XG4gICAgICB9LFxuICAgICAgZ2V0V2lkZ2V0UmVuZGVyU3RhdGU6IGZ1bmN0aW9uIGdldFdpZGdldFJlbmRlclN0YXRlKHJlbmRlck9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGluc3RhbnRTZWFyY2hJbnN0YW5jZSA9IHJlbmRlck9wdGlvbnMuaW5zdGFudFNlYXJjaEluc3RhbmNlLFxuICAgICAgICAgIHBhcmVudCA9IHJlbmRlck9wdGlvbnMucGFyZW50O1xuICAgICAgICBpZiAoIV9jaGF0SW5zdGFuY2UpIHtcbiAgICAgICAgICB0aGlzLmluaXQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCByZW5kZXJPcHRpb25zKSwge30sIHtcbiAgICAgICAgICAgIHVpU3RhdGU6IHt9LFxuICAgICAgICAgICAgcmVzdWx0czogdW5kZWZpbmVkXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2VuZEV2ZW50KSB7XG4gICAgICAgICAgc2VuZEV2ZW50ID0gY3JlYXRlU2VuZEV2ZW50Rm9ySGl0cyh7XG4gICAgICAgICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2U6IHJlbmRlck9wdGlvbnMuaW5zdGFudFNlYXJjaEluc3RhbmNlLFxuICAgICAgICAgICAgaGVscGVyOiByZW5kZXJPcHRpb25zLmhlbHBlcixcbiAgICAgICAgICAgIHdpZGdldFR5cGU6IHRoaXMuJCR0eXBlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRvb2xzV2l0aEFkZFRvb2xSZXN1bHQgPSB7fTtcbiAgICAgICAgT2JqZWN0LmVudHJpZXModG9vbHMpLmZvckVhY2goZnVuY3Rpb24gKF9yZWY1KSB7XG4gICAgICAgICAgdmFyIF9yZWY2ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjUsIDIpLFxuICAgICAgICAgICAga2V5ID0gX3JlZjZbMF0sXG4gICAgICAgICAgICB0b29sID0gX3JlZjZbMV07XG4gICAgICAgICAgdmFyIHRvb2xXaXRoQWRkVG9vbFJlc3VsdCA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdG9vbCksIHt9LCB7XG4gICAgICAgICAgICBhZGRUb29sUmVzdWx0OiBfY2hhdEluc3RhbmNlLmFkZFRvb2xSZXN1bHRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0b29sc1dpdGhBZGRUb29sUmVzdWx0W2tleV0gPSB0b29sV2l0aEFkZFRvb2xSZXN1bHQ7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGluZGV4VWlTdGF0ZTogaW5zdGFudFNlYXJjaEluc3RhbmNlLmdldFVpU3RhdGUoKVtwYXJlbnQuZ2V0SW5kZXhJZCgpXSxcbiAgICAgICAgICBpbnB1dDogaW5wdXQsXG4gICAgICAgICAgb3Blbjogb3BlbixcbiAgICAgICAgICBzZW5kRXZlbnQ6IHNlbmRFdmVudCxcbiAgICAgICAgICBzZXRJbmRleFVpU3RhdGU6IHBhcmVudC5zZXRJbmRleFVpU3RhdGUuYmluZChwYXJlbnQpLFxuICAgICAgICAgIHNldElucHV0OiBzZXRJbnB1dCxcbiAgICAgICAgICBzZXRPcGVuOiBzZXRPcGVuLFxuICAgICAgICAgIHNldE1lc3NhZ2VzOiBzZXRNZXNzYWdlcyxcbiAgICAgICAgICBzdWdnZXN0aW9uczogZ2V0U3VnZ2VzdGlvbnNGcm9tTWVzc2FnZXMoX2NoYXRJbnN0YW5jZS5tZXNzYWdlcyksXG4gICAgICAgICAgaXNDbGVhcmluZzogaXNDbGVhcmluZyxcbiAgICAgICAgICBjbGVhck1lc3NhZ2VzOiBjbGVhck1lc3NhZ2VzLFxuICAgICAgICAgIG9uQ2xlYXJUcmFuc2l0aW9uRW5kOiBvbkNsZWFyVHJhbnNpdGlvbkVuZCxcbiAgICAgICAgICB0b29sczogdG9vbHNXaXRoQWRkVG9vbFJlc3VsdCxcbiAgICAgICAgICB3aWRnZXRQYXJhbXM6IHdpZGdldFBhcmFtcyxcbiAgICAgICAgICAvLyBDaGF0IGluc3RhbmNlIHJlbmRlciBzdGF0ZVxuICAgICAgICAgIGFkZFRvb2xSZXN1bHQ6IF9jaGF0SW5zdGFuY2UuYWRkVG9vbFJlc3VsdCxcbiAgICAgICAgICBjbGVhckVycm9yOiBfY2hhdEluc3RhbmNlLmNsZWFyRXJyb3IsXG4gICAgICAgICAgZXJyb3I6IF9jaGF0SW5zdGFuY2UuZXJyb3IsXG4gICAgICAgICAgaWQ6IF9jaGF0SW5zdGFuY2UuaWQsXG4gICAgICAgICAgbWVzc2FnZXM6IF9jaGF0SW5zdGFuY2UubWVzc2FnZXMsXG4gICAgICAgICAgcmVnZW5lcmF0ZTogX2NoYXRJbnN0YW5jZS5yZWdlbmVyYXRlLFxuICAgICAgICAgIHJlc3VtZVN0cmVhbTogX2NoYXRJbnN0YW5jZS5yZXN1bWVTdHJlYW0sXG4gICAgICAgICAgc2VuZE1lc3NhZ2U6IF9jaGF0SW5zdGFuY2Uuc2VuZE1lc3NhZ2UsXG4gICAgICAgICAgc3RhdHVzOiBfY2hhdEluc3RhbmNlLnN0YXR1cyxcbiAgICAgICAgICBzdG9wOiBfY2hhdEluc3RhbmNlLnN0b3BcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBkaXNwb3NlOiBmdW5jdGlvbiBkaXNwb3NlKCkge1xuICAgICAgICB1bm1vdW50Rm4oKTtcbiAgICAgIH0sXG4gICAgICBzaG91bGRSZW5kZXI6IGZ1bmN0aW9uIHNob3VsZFJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9LFxuICAgICAgZ2V0IGNoYXRJbnN0YW5jZSgpIHtcbiAgICAgICAgcmV0dXJuIF9jaGF0SW5zdGFuY2U7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn0pOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/connectors/chat/connectChat.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/connectors/configure/connectConfigure.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/connectors/configure/connectConfigure.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var algoliasearch_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! algoliasearch-helper */ \"(ssr)/./node_modules/algoliasearch-helper/index.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/documentation.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/noop.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/isPlainObject.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/mergeSearchParameters.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\n\n\n/**\n * Refine the given search parameters.\n */\n\nvar withUsage = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.createDocumentationMessageGenerator)({\n  name: 'configure',\n  connector: true\n});\nfunction getInitialSearchParameters(state, widgetParams) {\n  // We leverage the helper internals to remove the `widgetParams` from\n  // the state. The function `setQueryParameters` omits the values that\n  // are `undefined` on the next state.\n  return state.setQueryParameters(Object.keys(widgetParams.searchParameters).reduce(function (acc, key) {\n    return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, undefined));\n  }, {}));\n}\nvar connectConfigure = function connectConfigure() {\n  var renderFn = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.noop;\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.noop;\n  return function (widgetParams) {\n    if (!widgetParams || !(0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.isPlainObject)(widgetParams.searchParameters)) {\n      throw new Error(withUsage('The `searchParameters` option expects an object.'));\n    }\n    var connectorState = {};\n    function refine(helper) {\n      return function (searchParameters) {\n        // Merge new `searchParameters` with the ones set from other widgets\n        var actualState = getInitialSearchParameters(helper.state, widgetParams);\n        var nextSearchParameters = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_4__.mergeSearchParameters)(actualState, new algoliasearch_helper__WEBPACK_IMPORTED_MODULE_0__.SearchParameters(searchParameters));\n\n        // Update original `widgetParams.searchParameters` to the new refined one\n        widgetParams.searchParameters = searchParameters;\n\n        // Trigger a search with the resolved search parameters\n        helper.setState(nextSearchParameters).search();\n      };\n    }\n    return {\n      $$type: 'ais.configure',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref) {\n        var state = _ref.state;\n        unmountFn();\n        return getInitialSearchParameters(state, widgetParams);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        var _renderState$configur;\n        var widgetRenderState = this.getWidgetRenderState(renderOptions);\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          configure: _objectSpread(_objectSpread({}, widgetRenderState), {}, {\n            widgetParams: _objectSpread(_objectSpread({}, widgetRenderState.widgetParams), {}, {\n              searchParameters: (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_4__.mergeSearchParameters)(new algoliasearch_helper__WEBPACK_IMPORTED_MODULE_0__.SearchParameters((_renderState$configur = renderState.configure) === null || _renderState$configur === void 0 ? void 0 : _renderState$configur.widgetParams.searchParameters), new algoliasearch_helper__WEBPACK_IMPORTED_MODULE_0__.SearchParameters(widgetRenderState.widgetParams.searchParameters)).getQueryParams()\n            })\n          })\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var helper = _ref2.helper;\n        if (!connectorState.refine) {\n          connectorState.refine = refine(helper);\n        }\n        return {\n          refine: connectorState.refine,\n          widgetParams: widgetParams\n        };\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(state, _ref3) {\n        var uiState = _ref3.uiState;\n        return (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_4__.mergeSearchParameters)(state, new algoliasearch_helper__WEBPACK_IMPORTED_MODULE_0__.SearchParameters(_objectSpread(_objectSpread({}, uiState.configure), widgetParams.searchParameters)));\n      },\n      getWidgetUiState: function getWidgetUiState(uiState) {\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          configure: _objectSpread(_objectSpread({}, uiState.configure), widgetParams.searchParameters)\n        });\n      }\n    };\n  };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (connectConfigure);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9jb25uZWN0b3JzL2NvbmZpZ3VyZS9jb25uZWN0Q29uZmlndXJlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLHNCQUFzQiwyQkFBMkIsb0dBQW9HLG1CQUFtQixpQkFBaUIsc0hBQXNIO0FBQy9TLHlCQUF5Qix3QkFBd0Isb0NBQW9DLHlDQUF5QyxrQ0FBa0MsMERBQTBELDBCQUEwQjtBQUNwUCw0QkFBNEIsZ0JBQWdCLHNCQUFzQixPQUFPLGtEQUFrRCxzREFBc0QsOEJBQThCLG1KQUFtSixxRUFBcUUsS0FBSztBQUM1YSxvQ0FBb0Msb0VBQW9FLDBEQUEwRDtBQUNsSyw2QkFBNkIsbUNBQW1DO0FBQ2hFLDhCQUE4Qiw0Q0FBNEMsK0JBQStCLG9CQUFvQixtQ0FBbUMsc0NBQXNDLHVFQUF1RTtBQUN0TjtBQUNvRTs7QUFFM0g7QUFDQTtBQUNBOztBQUVBLGdCQUFnQix3RkFBbUM7QUFDbkQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLFVBQVUsb0JBQW9CO0FBQ3ZFLEdBQUcsSUFBSTtBQUNQO0FBQ0E7QUFDQSxxRkFBcUYscURBQUk7QUFDekYsc0ZBQXNGLHFEQUFJO0FBQzFGO0FBQ0EsMEJBQTBCLGtFQUFhO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDBFQUFxQixrQkFBa0Isa0VBQW9DOztBQUU5RztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsNkNBQTZDO0FBQzVGO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0EsK0NBQStDLCtDQUErQztBQUM5RjtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGtCQUFrQjtBQUMvRCxtREFBbUQsd0JBQXdCO0FBQzNFLHdEQUF3RCxxQ0FBcUM7QUFDN0YsZ0NBQWdDLDBFQUFxQixLQUFLLGtFQUFvQyxtS0FBbUssa0VBQW9DO0FBQ3JTLGFBQWE7QUFDYixXQUFXO0FBQ1gsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLGVBQWUsMEVBQXFCLFlBQVksa0VBQW9DLCtCQUErQjtBQUNuSCxPQUFPO0FBQ1A7QUFDQSw2Q0FBNkMsY0FBYztBQUMzRCxtREFBbUQ7QUFDbkQsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsZ0JBQWdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2Nvbm5lY3RvcnMvY29uZmlndXJlL2Nvbm5lY3RDb25maWd1cmUuanM/NDY0ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5mdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0KSB7IHJldHVybiAociA9IF90b1Byb3BlcnR5S2V5KHIpKSBpbiBlID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIHsgdmFsdWU6IHQsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSkgOiBlW3JdID0gdCwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmltcG9ydCBhbGdvbGlhc2VhcmNoSGVscGVyIGZyb20gJ2FsZ29saWFzZWFyY2gtaGVscGVyJztcbmltcG9ydCB7IGNyZWF0ZURvY3VtZW50YXRpb25NZXNzYWdlR2VuZXJhdG9yLCBpc1BsYWluT2JqZWN0LCBtZXJnZVNlYXJjaFBhcmFtZXRlcnMsIG5vb3AgfSBmcm9tIFwiLi4vLi4vbGliL3V0aWxzL2luZGV4LmpzXCI7XG5cbi8qKlxuICogUmVmaW5lIHRoZSBnaXZlbiBzZWFyY2ggcGFyYW1ldGVycy5cbiAqL1xuXG52YXIgd2l0aFVzYWdlID0gY3JlYXRlRG9jdW1lbnRhdGlvbk1lc3NhZ2VHZW5lcmF0b3Ioe1xuICBuYW1lOiAnY29uZmlndXJlJyxcbiAgY29ubmVjdG9yOiB0cnVlXG59KTtcbmZ1bmN0aW9uIGdldEluaXRpYWxTZWFyY2hQYXJhbWV0ZXJzKHN0YXRlLCB3aWRnZXRQYXJhbXMpIHtcbiAgLy8gV2UgbGV2ZXJhZ2UgdGhlIGhlbHBlciBpbnRlcm5hbHMgdG8gcmVtb3ZlIHRoZSBgd2lkZ2V0UGFyYW1zYCBmcm9tXG4gIC8vIHRoZSBzdGF0ZS4gVGhlIGZ1bmN0aW9uIGBzZXRRdWVyeVBhcmFtZXRlcnNgIG9taXRzIHRoZSB2YWx1ZXMgdGhhdFxuICAvLyBhcmUgYHVuZGVmaW5lZGAgb24gdGhlIG5leHQgc3RhdGUuXG4gIHJldHVybiBzdGF0ZS5zZXRRdWVyeVBhcmFtZXRlcnMoT2JqZWN0LmtleXMod2lkZ2V0UGFyYW1zLnNlYXJjaFBhcmFtZXRlcnMpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBhY2MpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBrZXksIHVuZGVmaW5lZCkpO1xuICB9LCB7fSkpO1xufVxudmFyIGNvbm5lY3RDb25maWd1cmUgPSBmdW5jdGlvbiBjb25uZWN0Q29uZmlndXJlKCkge1xuICB2YXIgcmVuZGVyRm4gPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IG5vb3A7XG4gIHZhciB1bm1vdW50Rm4gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IG5vb3A7XG4gIHJldHVybiBmdW5jdGlvbiAod2lkZ2V0UGFyYW1zKSB7XG4gICAgaWYgKCF3aWRnZXRQYXJhbXMgfHwgIWlzUGxhaW5PYmplY3Qod2lkZ2V0UGFyYW1zLnNlYXJjaFBhcmFtZXRlcnMpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3Iod2l0aFVzYWdlKCdUaGUgYHNlYXJjaFBhcmFtZXRlcnNgIG9wdGlvbiBleHBlY3RzIGFuIG9iamVjdC4nKSk7XG4gICAgfVxuICAgIHZhciBjb25uZWN0b3JTdGF0ZSA9IHt9O1xuICAgIGZ1bmN0aW9uIHJlZmluZShoZWxwZXIpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoc2VhcmNoUGFyYW1ldGVycykge1xuICAgICAgICAvLyBNZXJnZSBuZXcgYHNlYXJjaFBhcmFtZXRlcnNgIHdpdGggdGhlIG9uZXMgc2V0IGZyb20gb3RoZXIgd2lkZ2V0c1xuICAgICAgICB2YXIgYWN0dWFsU3RhdGUgPSBnZXRJbml0aWFsU2VhcmNoUGFyYW1ldGVycyhoZWxwZXIuc3RhdGUsIHdpZGdldFBhcmFtcyk7XG4gICAgICAgIHZhciBuZXh0U2VhcmNoUGFyYW1ldGVycyA9IG1lcmdlU2VhcmNoUGFyYW1ldGVycyhhY3R1YWxTdGF0ZSwgbmV3IGFsZ29saWFzZWFyY2hIZWxwZXIuU2VhcmNoUGFyYW1ldGVycyhzZWFyY2hQYXJhbWV0ZXJzKSk7XG5cbiAgICAgICAgLy8gVXBkYXRlIG9yaWdpbmFsIGB3aWRnZXRQYXJhbXMuc2VhcmNoUGFyYW1ldGVyc2AgdG8gdGhlIG5ldyByZWZpbmVkIG9uZVxuICAgICAgICB3aWRnZXRQYXJhbXMuc2VhcmNoUGFyYW1ldGVycyA9IHNlYXJjaFBhcmFtZXRlcnM7XG5cbiAgICAgICAgLy8gVHJpZ2dlciBhIHNlYXJjaCB3aXRoIHRoZSByZXNvbHZlZCBzZWFyY2ggcGFyYW1ldGVyc1xuICAgICAgICBoZWxwZXIuc2V0U3RhdGUobmV4dFNlYXJjaFBhcmFtZXRlcnMpLnNlYXJjaCgpO1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICQkdHlwZTogJ2Fpcy5jb25maWd1cmUnLFxuICAgICAgaW5pdDogZnVuY3Rpb24gaW5pdChpbml0T3B0aW9ucykge1xuICAgICAgICB2YXIgaW5zdGFudFNlYXJjaEluc3RhbmNlID0gaW5pdE9wdGlvbnMuaW5zdGFudFNlYXJjaEluc3RhbmNlO1xuICAgICAgICByZW5kZXJGbihfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMuZ2V0V2lkZ2V0UmVuZGVyU3RhdGUoaW5pdE9wdGlvbnMpKSwge30sIHtcbiAgICAgICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2U6IGluc3RhbnRTZWFyY2hJbnN0YW5jZVxuICAgICAgICB9KSwgdHJ1ZSk7XG4gICAgICB9LFxuICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIocmVuZGVyT3B0aW9ucykge1xuICAgICAgICB2YXIgaW5zdGFudFNlYXJjaEluc3RhbmNlID0gcmVuZGVyT3B0aW9ucy5pbnN0YW50U2VhcmNoSW5zdGFuY2U7XG4gICAgICAgIHJlbmRlckZuKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5nZXRXaWRnZXRSZW5kZXJTdGF0ZShyZW5kZXJPcHRpb25zKSksIHt9LCB7XG4gICAgICAgICAgaW5zdGFudFNlYXJjaEluc3RhbmNlOiBpbnN0YW50U2VhcmNoSW5zdGFuY2VcbiAgICAgICAgfSksIGZhbHNlKTtcbiAgICAgIH0sXG4gICAgICBkaXNwb3NlOiBmdW5jdGlvbiBkaXNwb3NlKF9yZWYpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gX3JlZi5zdGF0ZTtcbiAgICAgICAgdW5tb3VudEZuKCk7XG4gICAgICAgIHJldHVybiBnZXRJbml0aWFsU2VhcmNoUGFyYW1ldGVycyhzdGF0ZSwgd2lkZ2V0UGFyYW1zKTtcbiAgICAgIH0sXG4gICAgICBnZXRSZW5kZXJTdGF0ZTogZnVuY3Rpb24gZ2V0UmVuZGVyU3RhdGUocmVuZGVyU3RhdGUsIHJlbmRlck9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9yZW5kZXJTdGF0ZSRjb25maWd1cjtcbiAgICAgICAgdmFyIHdpZGdldFJlbmRlclN0YXRlID0gdGhpcy5nZXRXaWRnZXRSZW5kZXJTdGF0ZShyZW5kZXJPcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcmVuZGVyU3RhdGUpLCB7fSwge1xuICAgICAgICAgIGNvbmZpZ3VyZTogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB3aWRnZXRSZW5kZXJTdGF0ZSksIHt9LCB7XG4gICAgICAgICAgICB3aWRnZXRQYXJhbXM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgd2lkZ2V0UmVuZGVyU3RhdGUud2lkZ2V0UGFyYW1zKSwge30sIHtcbiAgICAgICAgICAgICAgc2VhcmNoUGFyYW1ldGVyczogbWVyZ2VTZWFyY2hQYXJhbWV0ZXJzKG5ldyBhbGdvbGlhc2VhcmNoSGVscGVyLlNlYXJjaFBhcmFtZXRlcnMoKF9yZW5kZXJTdGF0ZSRjb25maWd1ciA9IHJlbmRlclN0YXRlLmNvbmZpZ3VyZSkgPT09IG51bGwgfHwgX3JlbmRlclN0YXRlJGNvbmZpZ3VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVuZGVyU3RhdGUkY29uZmlndXIud2lkZ2V0UGFyYW1zLnNlYXJjaFBhcmFtZXRlcnMpLCBuZXcgYWxnb2xpYXNlYXJjaEhlbHBlci5TZWFyY2hQYXJhbWV0ZXJzKHdpZGdldFJlbmRlclN0YXRlLndpZGdldFBhcmFtcy5zZWFyY2hQYXJhbWV0ZXJzKSkuZ2V0UXVlcnlQYXJhbXMoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBnZXRXaWRnZXRSZW5kZXJTdGF0ZTogZnVuY3Rpb24gZ2V0V2lkZ2V0UmVuZGVyU3RhdGUoX3JlZjIpIHtcbiAgICAgICAgdmFyIGhlbHBlciA9IF9yZWYyLmhlbHBlcjtcbiAgICAgICAgaWYgKCFjb25uZWN0b3JTdGF0ZS5yZWZpbmUpIHtcbiAgICAgICAgICBjb25uZWN0b3JTdGF0ZS5yZWZpbmUgPSByZWZpbmUoaGVscGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJlZmluZTogY29ubmVjdG9yU3RhdGUucmVmaW5lLFxuICAgICAgICAgIHdpZGdldFBhcmFtczogd2lkZ2V0UGFyYW1zXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgZ2V0V2lkZ2V0U2VhcmNoUGFyYW1ldGVyczogZnVuY3Rpb24gZ2V0V2lkZ2V0U2VhcmNoUGFyYW1ldGVycyhzdGF0ZSwgX3JlZjMpIHtcbiAgICAgICAgdmFyIHVpU3RhdGUgPSBfcmVmMy51aVN0YXRlO1xuICAgICAgICByZXR1cm4gbWVyZ2VTZWFyY2hQYXJhbWV0ZXJzKHN0YXRlLCBuZXcgYWxnb2xpYXNlYXJjaEhlbHBlci5TZWFyY2hQYXJhbWV0ZXJzKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdWlTdGF0ZS5jb25maWd1cmUpLCB3aWRnZXRQYXJhbXMuc2VhcmNoUGFyYW1ldGVycykpKTtcbiAgICAgIH0sXG4gICAgICBnZXRXaWRnZXRVaVN0YXRlOiBmdW5jdGlvbiBnZXRXaWRnZXRVaVN0YXRlKHVpU3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdWlTdGF0ZSksIHt9LCB7XG4gICAgICAgICAgY29uZmlndXJlOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHVpU3RhdGUuY29uZmlndXJlKSwgd2lkZ2V0UGFyYW1zLnNlYXJjaFBhcmFtZXRlcnMpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgY29ubmVjdENvbmZpZ3VyZTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/connectors/configure/connectConfigure.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/connectors/hits/connectHits.js":
/*!*************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/connectors/hits/connectHits.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/documentation.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/noop.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/checkRendering.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/createSendEventForHits.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/escape-highlight.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/hits-absolute-position.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/hits-query-id.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\nvar withUsage = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__.createDocumentationMessageGenerator)({\n  name: 'hits',\n  connector: true\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (function connectHits(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.noop;\n  (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.checkRendering)(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n      _ref$escapeHTML = _ref.escapeHTML,\n      escapeHTML = _ref$escapeHTML === void 0 ? true : _ref$escapeHTML,\n      _ref$transformItems = _ref.transformItems,\n      transformItems = _ref$transformItems === void 0 ? function (items) {\n        return items;\n      } : _ref$transformItems;\n    var sendEvent;\n    var bindEvent;\n    return {\n      $$type: 'ais.hits',\n      init: function init(initOptions) {\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: initOptions.instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var renderState = this.getWidgetRenderState(renderOptions);\n        renderFn(_objectSpread(_objectSpread({}, renderState), {}, {\n          instantSearchInstance: renderOptions.instantSearchInstance\n        }), false);\n        renderState.sendEvent('view:internal', renderState.items);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions\n      // Type is explicitly redefined, to avoid having the TWidgetParams type in the definition\n      ) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          hits: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref2) {\n        var _results$renderingCon, _results$renderingCon2, _results$renderingCon3;\n        var results = _ref2.results,\n          helper = _ref2.helper,\n          instantSearchInstance = _ref2.instantSearchInstance;\n        if (!sendEvent) {\n          sendEvent = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.createSendEventForHits)({\n            instantSearchInstance: instantSearchInstance,\n            helper: helper,\n            widgetType: this.$$type\n          });\n        }\n        if (!bindEvent) {\n          bindEvent = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.createBindEventForHits)({\n            helper: helper,\n            widgetType: this.$$type,\n            instantSearchInstance: instantSearchInstance\n          });\n        }\n        if (!results) {\n          return {\n            hits: [],\n            items: [],\n            results: undefined,\n            banner: undefined,\n            sendEvent: sendEvent,\n            bindEvent: bindEvent,\n            widgetParams: widgetParams\n          };\n        }\n        if (escapeHTML && results.hits.length > 0) {\n          results.hits = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_4__.escapeHits)(results.hits);\n        }\n        var hitsWithAbsolutePosition = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_5__.addAbsolutePosition)(results.hits, results.page, results.hitsPerPage);\n        var hitsWithAbsolutePositionAndQueryID = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_6__.addQueryID)(hitsWithAbsolutePosition, results.queryID);\n        var items = transformItems(hitsWithAbsolutePositionAndQueryID, {\n          results: results\n        });\n        var banner = (_results$renderingCon = results.renderingContent) === null || _results$renderingCon === void 0 ? void 0 : (_results$renderingCon2 = _results$renderingCon.widgets) === null || _results$renderingCon2 === void 0 ? void 0 : (_results$renderingCon3 = _results$renderingCon2.banners) === null || _results$renderingCon3 === void 0 ? void 0 : _results$renderingCon3[0];\n        return {\n          hits: items,\n          items: items,\n          results: results,\n          banner: banner,\n          sendEvent: sendEvent,\n          bindEvent: bindEvent,\n          widgetParams: widgetParams\n        };\n      },\n      dispose: function dispose(_ref3) {\n        var state = _ref3.state;\n        unmountFn();\n        if (!escapeHTML) {\n          return state;\n        }\n        return state.setQueryParameters(Object.keys(_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_4__.TAG_PLACEHOLDER).reduce(function (acc, key) {\n          return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, undefined));\n        }, {}));\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(state, _uiState) {\n        if (!escapeHTML) {\n          return state;\n        }\n\n        // @MAJOR: set this globally, not in the Hits widget to allow Hits to be conditionally used\n        return state.setQueryParameters(_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_4__.TAG_PLACEHOLDER);\n      }\n    };\n  };\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9jb25uZWN0b3JzL2hpdHMvY29ubmVjdEhpdHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUMvUyx5QkFBeUIsd0JBQXdCLG9DQUFvQyx5Q0FBeUMsa0NBQWtDLDBEQUEwRCwwQkFBMEI7QUFDcFAsNEJBQTRCLGdCQUFnQixzQkFBc0IsT0FBTyxrREFBa0Qsc0RBQXNELDhCQUE4QixtSkFBbUoscUVBQXFFLEtBQUs7QUFDNWEsb0NBQW9DLG9FQUFvRSwwREFBMEQ7QUFDbEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDMUQ7QUFDbk4sZ0JBQWdCLHdGQUFtQztBQUNuRDtBQUNBO0FBQ0EsQ0FBQztBQUNELGlFQUFnQjtBQUNoQixzRkFBc0YscURBQUk7QUFDMUYsRUFBRSxtRUFBYztBQUNoQjtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsNkNBQTZDO0FBQzVGO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0EsK0NBQStDLGtCQUFrQjtBQUNqRTtBQUNBLFNBQVM7QUFDVDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsa0JBQWtCO0FBQy9EO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMkVBQXNCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0Esc0JBQXNCLDJFQUFzQjtBQUM1QztBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsK0RBQVU7QUFDbkM7QUFDQSx1Q0FBdUMsd0VBQW1CO0FBQzFELGlEQUFpRCwrREFBVTtBQUMzRDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxnRUFBZTtBQUNuRSwrQ0FBK0MsVUFBVSxvQkFBb0I7QUFDN0UsU0FBUyxJQUFJO0FBQ2IsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esd0NBQXdDLGdFQUFlO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGVjLWxvZ2ljLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2luc3RhbnRzZWFyY2guanMvZXMvY29ubmVjdG9ycy9oaXRzL2Nvbm5lY3RIaXRzLmpzPzg1YjYiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5pbXBvcnQgeyBlc2NhcGVIaXRzLCBUQUdfUExBQ0VIT0xERVIsIGNoZWNrUmVuZGVyaW5nLCBjcmVhdGVEb2N1bWVudGF0aW9uTWVzc2FnZUdlbmVyYXRvciwgYWRkQWJzb2x1dGVQb3NpdGlvbiwgYWRkUXVlcnlJRCwgY3JlYXRlU2VuZEV2ZW50Rm9ySGl0cywgY3JlYXRlQmluZEV2ZW50Rm9ySGl0cywgbm9vcCB9IGZyb20gXCIuLi8uLi9saWIvdXRpbHMvaW5kZXguanNcIjtcbnZhciB3aXRoVXNhZ2UgPSBjcmVhdGVEb2N1bWVudGF0aW9uTWVzc2FnZUdlbmVyYXRvcih7XG4gIG5hbWU6ICdoaXRzJyxcbiAgY29ubmVjdG9yOiB0cnVlXG59KTtcbmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiBjb25uZWN0SGl0cyhyZW5kZXJGbikge1xuICB2YXIgdW5tb3VudEZuID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBub29wO1xuICBjaGVja1JlbmRlcmluZyhyZW5kZXJGbiwgd2l0aFVzYWdlKCkpO1xuICByZXR1cm4gZnVuY3Rpb24gKHdpZGdldFBhcmFtcykge1xuICAgIHZhciBfcmVmID0gd2lkZ2V0UGFyYW1zIHx8IHt9LFxuICAgICAgX3JlZiRlc2NhcGVIVE1MID0gX3JlZi5lc2NhcGVIVE1MLFxuICAgICAgZXNjYXBlSFRNTCA9IF9yZWYkZXNjYXBlSFRNTCA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9yZWYkZXNjYXBlSFRNTCxcbiAgICAgIF9yZWYkdHJhbnNmb3JtSXRlbXMgPSBfcmVmLnRyYW5zZm9ybUl0ZW1zLFxuICAgICAgdHJhbnNmb3JtSXRlbXMgPSBfcmVmJHRyYW5zZm9ybUl0ZW1zID09PSB2b2lkIDAgPyBmdW5jdGlvbiAoaXRlbXMpIHtcbiAgICAgICAgcmV0dXJuIGl0ZW1zO1xuICAgICAgfSA6IF9yZWYkdHJhbnNmb3JtSXRlbXM7XG4gICAgdmFyIHNlbmRFdmVudDtcbiAgICB2YXIgYmluZEV2ZW50O1xuICAgIHJldHVybiB7XG4gICAgICAkJHR5cGU6ICdhaXMuaGl0cycsXG4gICAgICBpbml0OiBmdW5jdGlvbiBpbml0KGluaXRPcHRpb25zKSB7XG4gICAgICAgIHJlbmRlckZuKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5nZXRXaWRnZXRSZW5kZXJTdGF0ZShpbml0T3B0aW9ucykpLCB7fSwge1xuICAgICAgICAgIGluc3RhbnRTZWFyY2hJbnN0YW5jZTogaW5pdE9wdGlvbnMuaW5zdGFudFNlYXJjaEluc3RhbmNlXG4gICAgICAgIH0pLCB0cnVlKTtcbiAgICAgIH0sXG4gICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihyZW5kZXJPcHRpb25zKSB7XG4gICAgICAgIHZhciByZW5kZXJTdGF0ZSA9IHRoaXMuZ2V0V2lkZ2V0UmVuZGVyU3RhdGUocmVuZGVyT3B0aW9ucyk7XG4gICAgICAgIHJlbmRlckZuKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcmVuZGVyU3RhdGUpLCB7fSwge1xuICAgICAgICAgIGluc3RhbnRTZWFyY2hJbnN0YW5jZTogcmVuZGVyT3B0aW9ucy5pbnN0YW50U2VhcmNoSW5zdGFuY2VcbiAgICAgICAgfSksIGZhbHNlKTtcbiAgICAgICAgcmVuZGVyU3RhdGUuc2VuZEV2ZW50KCd2aWV3OmludGVybmFsJywgcmVuZGVyU3RhdGUuaXRlbXMpO1xuICAgICAgfSxcbiAgICAgIGdldFJlbmRlclN0YXRlOiBmdW5jdGlvbiBnZXRSZW5kZXJTdGF0ZShyZW5kZXJTdGF0ZSwgcmVuZGVyT3B0aW9uc1xuICAgICAgLy8gVHlwZSBpcyBleHBsaWNpdGx5IHJlZGVmaW5lZCwgdG8gYXZvaWQgaGF2aW5nIHRoZSBUV2lkZ2V0UGFyYW1zIHR5cGUgaW4gdGhlIGRlZmluaXRpb25cbiAgICAgICkge1xuICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCByZW5kZXJTdGF0ZSksIHt9LCB7XG4gICAgICAgICAgaGl0czogdGhpcy5nZXRXaWRnZXRSZW5kZXJTdGF0ZShyZW5kZXJPcHRpb25zKVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBnZXRXaWRnZXRSZW5kZXJTdGF0ZTogZnVuY3Rpb24gZ2V0V2lkZ2V0UmVuZGVyU3RhdGUoX3JlZjIpIHtcbiAgICAgICAgdmFyIF9yZXN1bHRzJHJlbmRlcmluZ0NvbiwgX3Jlc3VsdHMkcmVuZGVyaW5nQ29uMiwgX3Jlc3VsdHMkcmVuZGVyaW5nQ29uMztcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBfcmVmMi5yZXN1bHRzLFxuICAgICAgICAgIGhlbHBlciA9IF9yZWYyLmhlbHBlcixcbiAgICAgICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2UgPSBfcmVmMi5pbnN0YW50U2VhcmNoSW5zdGFuY2U7XG4gICAgICAgIGlmICghc2VuZEV2ZW50KSB7XG4gICAgICAgICAgc2VuZEV2ZW50ID0gY3JlYXRlU2VuZEV2ZW50Rm9ySGl0cyh7XG4gICAgICAgICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2U6IGluc3RhbnRTZWFyY2hJbnN0YW5jZSxcbiAgICAgICAgICAgIGhlbHBlcjogaGVscGVyLFxuICAgICAgICAgICAgd2lkZ2V0VHlwZTogdGhpcy4kJHR5cGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJpbmRFdmVudCkge1xuICAgICAgICAgIGJpbmRFdmVudCA9IGNyZWF0ZUJpbmRFdmVudEZvckhpdHMoe1xuICAgICAgICAgICAgaGVscGVyOiBoZWxwZXIsXG4gICAgICAgICAgICB3aWRnZXRUeXBlOiB0aGlzLiQkdHlwZSxcbiAgICAgICAgICAgIGluc3RhbnRTZWFyY2hJbnN0YW5jZTogaW5zdGFudFNlYXJjaEluc3RhbmNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyZXN1bHRzKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhpdHM6IFtdLFxuICAgICAgICAgICAgaXRlbXM6IFtdLFxuICAgICAgICAgICAgcmVzdWx0czogdW5kZWZpbmVkLFxuICAgICAgICAgICAgYmFubmVyOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBzZW5kRXZlbnQ6IHNlbmRFdmVudCxcbiAgICAgICAgICAgIGJpbmRFdmVudDogYmluZEV2ZW50LFxuICAgICAgICAgICAgd2lkZ2V0UGFyYW1zOiB3aWRnZXRQYXJhbXNcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChlc2NhcGVIVE1MICYmIHJlc3VsdHMuaGl0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmVzdWx0cy5oaXRzID0gZXNjYXBlSGl0cyhyZXN1bHRzLmhpdHMpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBoaXRzV2l0aEFic29sdXRlUG9zaXRpb24gPSBhZGRBYnNvbHV0ZVBvc2l0aW9uKHJlc3VsdHMuaGl0cywgcmVzdWx0cy5wYWdlLCByZXN1bHRzLmhpdHNQZXJQYWdlKTtcbiAgICAgICAgdmFyIGhpdHNXaXRoQWJzb2x1dGVQb3NpdGlvbkFuZFF1ZXJ5SUQgPSBhZGRRdWVyeUlEKGhpdHNXaXRoQWJzb2x1dGVQb3NpdGlvbiwgcmVzdWx0cy5xdWVyeUlEKTtcbiAgICAgICAgdmFyIGl0ZW1zID0gdHJhbnNmb3JtSXRlbXMoaGl0c1dpdGhBYnNvbHV0ZVBvc2l0aW9uQW5kUXVlcnlJRCwge1xuICAgICAgICAgIHJlc3VsdHM6IHJlc3VsdHNcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBiYW5uZXIgPSAoX3Jlc3VsdHMkcmVuZGVyaW5nQ29uID0gcmVzdWx0cy5yZW5kZXJpbmdDb250ZW50KSA9PT0gbnVsbCB8fCBfcmVzdWx0cyRyZW5kZXJpbmdDb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfcmVzdWx0cyRyZW5kZXJpbmdDb24yID0gX3Jlc3VsdHMkcmVuZGVyaW5nQ29uLndpZGdldHMpID09PSBudWxsIHx8IF9yZXN1bHRzJHJlbmRlcmluZ0NvbjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfcmVzdWx0cyRyZW5kZXJpbmdDb24zID0gX3Jlc3VsdHMkcmVuZGVyaW5nQ29uMi5iYW5uZXJzKSA9PT0gbnVsbCB8fCBfcmVzdWx0cyRyZW5kZXJpbmdDb24zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVzdWx0cyRyZW5kZXJpbmdDb24zWzBdO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGhpdHM6IGl0ZW1zLFxuICAgICAgICAgIGl0ZW1zOiBpdGVtcyxcbiAgICAgICAgICByZXN1bHRzOiByZXN1bHRzLFxuICAgICAgICAgIGJhbm5lcjogYmFubmVyLFxuICAgICAgICAgIHNlbmRFdmVudDogc2VuZEV2ZW50LFxuICAgICAgICAgIGJpbmRFdmVudDogYmluZEV2ZW50LFxuICAgICAgICAgIHdpZGdldFBhcmFtczogd2lkZ2V0UGFyYW1zXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgZGlzcG9zZTogZnVuY3Rpb24gZGlzcG9zZShfcmVmMykge1xuICAgICAgICB2YXIgc3RhdGUgPSBfcmVmMy5zdGF0ZTtcbiAgICAgICAgdW5tb3VudEZuKCk7XG4gICAgICAgIGlmICghZXNjYXBlSFRNTCkge1xuICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RhdGUuc2V0UXVlcnlQYXJhbWV0ZXJzKE9iamVjdC5rZXlzKFRBR19QTEFDRUhPTERFUikucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGFjYyksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIGtleSwgdW5kZWZpbmVkKSk7XG4gICAgICAgIH0sIHt9KSk7XG4gICAgICB9LFxuICAgICAgZ2V0V2lkZ2V0U2VhcmNoUGFyYW1ldGVyczogZnVuY3Rpb24gZ2V0V2lkZ2V0U2VhcmNoUGFyYW1ldGVycyhzdGF0ZSwgX3VpU3RhdGUpIHtcbiAgICAgICAgaWYgKCFlc2NhcGVIVE1MKSB7XG4gICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQE1BSk9SOiBzZXQgdGhpcyBnbG9iYWxseSwgbm90IGluIHRoZSBIaXRzIHdpZGdldCB0byBhbGxvdyBIaXRzIHRvIGJlIGNvbmRpdGlvbmFsbHkgdXNlZFxuICAgICAgICByZXR1cm4gc3RhdGUuc2V0UXVlcnlQYXJhbWV0ZXJzKFRBR19QTEFDRUhPTERFUik7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn0pOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/connectors/hits/connectHits.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/connectors/pagination/Paginator.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/connectors/pagination/Paginator.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/range.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\nvar Paginator = /*#__PURE__*/function () {\n  function Paginator(params) {\n    _classCallCheck(this, Paginator);\n    _defineProperty(this, \"currentPage\", void 0);\n    _defineProperty(this, \"total\", void 0);\n    _defineProperty(this, \"padding\", void 0);\n    this.currentPage = params.currentPage;\n    this.total = params.total;\n    this.padding = params.padding;\n  }\n  _createClass(Paginator, [{\n    key: \"pages\",\n    value: function pages() {\n      var total = this.total,\n        currentPage = this.currentPage,\n        padding = this.padding;\n      if (total === 0) return [0];\n      var totalDisplayedPages = this.nbPagesDisplayed(padding, total);\n      if (totalDisplayedPages === total) {\n        return (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__.range)({\n          end: total\n        });\n      }\n      var paddingLeft = this.calculatePaddingLeft(currentPage, padding, total, totalDisplayedPages);\n      var paddingRight = totalDisplayedPages - paddingLeft;\n      var first = currentPage - paddingLeft;\n      var last = currentPage + paddingRight;\n      return (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__.range)({\n        start: first,\n        end: last\n      });\n    }\n  }, {\n    key: \"nbPagesDisplayed\",\n    value: function nbPagesDisplayed(padding, total) {\n      return Math.min(2 * padding + 1, total);\n    }\n  }, {\n    key: \"calculatePaddingLeft\",\n    value: function calculatePaddingLeft(current, padding, total, totalDisplayedPages) {\n      if (current <= padding) {\n        return current;\n      }\n      if (current >= total - padding) {\n        return totalDisplayedPages - (total - current);\n      }\n      return padding;\n    }\n  }, {\n    key: \"isLastPage\",\n    value: function isLastPage() {\n      return this.currentPage >= this.total - 1;\n    }\n  }, {\n    key: \"isFirstPage\",\n    value: function isFirstPage() {\n      return this.currentPage <= 0;\n    }\n  }]);\n  return Paginator;\n}();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Paginator);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9jb25uZWN0b3JzL3BhZ2luYXRpb24vUGFnaW5hdG9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MsaUNBQWlDO0FBQ2pDLG1DQUFtQyxnQkFBZ0IsY0FBYyxPQUFPLGNBQWM7QUFDdEYsaUNBQWlDLHFIQUFxSCxjQUFjO0FBQ3BLLG9DQUFvQyxvRUFBb0UsMERBQTBEO0FBQ2xLLDZCQUE2QixtQ0FBbUM7QUFDaEUsOEJBQThCLDRDQUE0QywrQkFBK0Isb0JBQW9CLG1DQUFtQyxzQ0FBc0MsdUVBQXVFO0FBQzVOO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSwwREFBSztBQUNwQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSwwREFBSztBQUNsQjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsQ0FBQztBQUNELGlFQUFlLFNBQVMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGVjLWxvZ2ljLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2luc3RhbnRzZWFyY2guanMvZXMvY29ubmVjdG9ycy9wYWdpbmF0aW9uL1BhZ2luYXRvci5qcz82NGFiIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhhLCBuKSB7IGlmICghKGEgaW5zdGFuY2VvZiBuKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXMoZSwgcikgeyBmb3IgKHZhciB0ID0gMDsgdCA8IHIubGVuZ3RoOyB0KyspIHsgdmFyIG8gPSByW3RdOyBvLmVudW1lcmFibGUgPSBvLmVudW1lcmFibGUgfHwgITEsIG8uY29uZmlndXJhYmxlID0gITAsIFwidmFsdWVcIiBpbiBvICYmIChvLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgX3RvUHJvcGVydHlLZXkoby5rZXkpLCBvKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoZSwgciwgdCkgeyByZXR1cm4gciAmJiBfZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSwgciksIHQgJiYgX2RlZmluZVByb3BlcnRpZXMoZSwgdCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KGUsIHIsIHQpIHsgcmV0dXJuIChyID0gX3RvUHJvcGVydHlLZXkocikpIGluIGUgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgeyB2YWx1ZTogdCwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSA6IGVbcl0gPSB0LCBlOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxuaW1wb3J0IHsgcmFuZ2UgfSBmcm9tIFwiLi4vLi4vbGliL3V0aWxzL2luZGV4LmpzXCI7XG52YXIgUGFnaW5hdG9yID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUGFnaW5hdG9yKHBhcmFtcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQYWdpbmF0b3IpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImN1cnJlbnRQYWdlXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwidG90YWxcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJwYWRkaW5nXCIsIHZvaWQgMCk7XG4gICAgdGhpcy5jdXJyZW50UGFnZSA9IHBhcmFtcy5jdXJyZW50UGFnZTtcbiAgICB0aGlzLnRvdGFsID0gcGFyYW1zLnRvdGFsO1xuICAgIHRoaXMucGFkZGluZyA9IHBhcmFtcy5wYWRkaW5nO1xuICB9XG4gIF9jcmVhdGVDbGFzcyhQYWdpbmF0b3IsIFt7XG4gICAga2V5OiBcInBhZ2VzXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhZ2VzKCkge1xuICAgICAgdmFyIHRvdGFsID0gdGhpcy50b3RhbCxcbiAgICAgICAgY3VycmVudFBhZ2UgPSB0aGlzLmN1cnJlbnRQYWdlLFxuICAgICAgICBwYWRkaW5nID0gdGhpcy5wYWRkaW5nO1xuICAgICAgaWYgKHRvdGFsID09PSAwKSByZXR1cm4gWzBdO1xuICAgICAgdmFyIHRvdGFsRGlzcGxheWVkUGFnZXMgPSB0aGlzLm5iUGFnZXNEaXNwbGF5ZWQocGFkZGluZywgdG90YWwpO1xuICAgICAgaWYgKHRvdGFsRGlzcGxheWVkUGFnZXMgPT09IHRvdGFsKSB7XG4gICAgICAgIHJldHVybiByYW5nZSh7XG4gICAgICAgICAgZW5kOiB0b3RhbFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHZhciBwYWRkaW5nTGVmdCA9IHRoaXMuY2FsY3VsYXRlUGFkZGluZ0xlZnQoY3VycmVudFBhZ2UsIHBhZGRpbmcsIHRvdGFsLCB0b3RhbERpc3BsYXllZFBhZ2VzKTtcbiAgICAgIHZhciBwYWRkaW5nUmlnaHQgPSB0b3RhbERpc3BsYXllZFBhZ2VzIC0gcGFkZGluZ0xlZnQ7XG4gICAgICB2YXIgZmlyc3QgPSBjdXJyZW50UGFnZSAtIHBhZGRpbmdMZWZ0O1xuICAgICAgdmFyIGxhc3QgPSBjdXJyZW50UGFnZSArIHBhZGRpbmdSaWdodDtcbiAgICAgIHJldHVybiByYW5nZSh7XG4gICAgICAgIHN0YXJ0OiBmaXJzdCxcbiAgICAgICAgZW5kOiBsYXN0XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwibmJQYWdlc0Rpc3BsYXllZFwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBuYlBhZ2VzRGlzcGxheWVkKHBhZGRpbmcsIHRvdGFsKSB7XG4gICAgICByZXR1cm4gTWF0aC5taW4oMiAqIHBhZGRpbmcgKyAxLCB0b3RhbCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImNhbGN1bGF0ZVBhZGRpbmdMZWZ0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNhbGN1bGF0ZVBhZGRpbmdMZWZ0KGN1cnJlbnQsIHBhZGRpbmcsIHRvdGFsLCB0b3RhbERpc3BsYXllZFBhZ2VzKSB7XG4gICAgICBpZiAoY3VycmVudCA8PSBwYWRkaW5nKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnQgPj0gdG90YWwgLSBwYWRkaW5nKSB7XG4gICAgICAgIHJldHVybiB0b3RhbERpc3BsYXllZFBhZ2VzIC0gKHRvdGFsIC0gY3VycmVudCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGFkZGluZztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiaXNMYXN0UGFnZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0xhc3RQYWdlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFBhZ2UgPj0gdGhpcy50b3RhbCAtIDE7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImlzRmlyc3RQYWdlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzRmlyc3RQYWdlKCkge1xuICAgICAgcmV0dXJuIHRoaXMuY3VycmVudFBhZ2UgPD0gMDtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIFBhZ2luYXRvcjtcbn0oKTtcbmV4cG9ydCBkZWZhdWx0IFBhZ2luYXRvcjsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/connectors/pagination/Paginator.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/connectors/pagination/connectPagination.js":
/*!*************************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/connectors/pagination/connectPagination.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/documentation.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/noop.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/checkRendering.js\");\n/* harmony import */ var _Paginator_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Paginator.js */ \"(ssr)/./node_modules/instantsearch.js/es/connectors/pagination/Paginator.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\n\nvar withUsage = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__.createDocumentationMessageGenerator)({\n  name: 'pagination',\n  connector: true\n});\n/**\n * **Pagination** connector provides the logic to build a widget that will let the user\n * choose the current page of the results.\n *\n * When using the pagination with Algolia, you should be aware that the engine won't provide you pages\n * beyond the 1000th hits by default. You can find more information on the [Algolia documentation](https://www.algolia.com/doc/guides/searching/pagination/#pagination-limitations).\n */\nvar connectPagination = function connectPagination(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.noop;\n  (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.checkRendering)(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n      totalPages = _ref.totalPages,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? 3 : _ref$padding;\n    var pager = new _Paginator_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\n      currentPage: 0,\n      total: 0,\n      padding: padding\n    });\n    var connectorState = {};\n    function getMaxPage(_ref2) {\n      var nbPages = _ref2.nbPages;\n      return totalPages !== undefined ? Math.min(totalPages, nbPages) : nbPages;\n    }\n    return {\n      $$type: 'ais.pagination',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref3) {\n        var state = _ref3.state;\n        unmountFn();\n        return state.setQueryParameter('page', undefined);\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref4) {\n        var searchParameters = _ref4.searchParameters;\n        var page = searchParameters.page || 0;\n        if (!page) {\n          return uiState;\n        }\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          page: page + 1\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref5) {\n        var uiState = _ref5.uiState;\n        var page = uiState.page ? uiState.page - 1 : 0;\n        return searchParameters.setQueryParameter('page', page);\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref6) {\n        var results = _ref6.results,\n          helper = _ref6.helper,\n          state = _ref6.state,\n          createURL = _ref6.createURL;\n        if (!connectorState.refine) {\n          connectorState.refine = function (page) {\n            helper.setPage(page);\n            helper.search();\n          };\n        }\n        if (!connectorState.createURL) {\n          connectorState.createURL = function (page) {\n            return createURL(function (uiState) {\n              return _objectSpread(_objectSpread({}, uiState), {}, {\n                page: page + 1\n              });\n            });\n          };\n        }\n        var page = state.page || 0;\n        var nbPages = getMaxPage(results || {\n          nbPages: 0\n        });\n        pager.currentPage = page;\n        pager.total = nbPages;\n        return {\n          createURL: connectorState.createURL,\n          refine: connectorState.refine,\n          canRefine: nbPages > 1,\n          currentRefinement: page,\n          nbHits: (results === null || results === void 0 ? void 0 : results.nbHits) || 0,\n          nbPages: nbPages,\n          pages: results ? pager.pages() : [],\n          isFirstPage: pager.isFirstPage(),\n          isLastPage: pager.isLastPage(),\n          widgetParams: widgetParams\n        };\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          pagination: this.getWidgetRenderState(renderOptions)\n        });\n      }\n    };\n  };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (connectPagination);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9jb25uZWN0b3JzL3BhZ2luYXRpb24vY29ubmVjdFBhZ2luYXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUMvUyx5QkFBeUIsd0JBQXdCLG9DQUFvQyx5Q0FBeUMsa0NBQWtDLDBEQUEwRCwwQkFBMEI7QUFDcFAsNEJBQTRCLGdCQUFnQixzQkFBc0IsT0FBTyxrREFBa0Qsc0RBQXNELDhCQUE4QixtSkFBbUoscUVBQXFFLEtBQUs7QUFDNWEsb0NBQW9DLG9FQUFvRSwwREFBMEQ7QUFDbEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDeEs7QUFDOUQ7QUFDdkMsZ0JBQWdCLHdGQUFtQztBQUNuRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRkFBc0YscURBQUk7QUFDMUYsRUFBRSxtRUFBYztBQUNoQjtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQSxvQkFBb0IscURBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyw2Q0FBNkM7QUFDNUY7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQSwrQ0FBK0MsK0NBQStDO0FBQzlGO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsY0FBYztBQUMzRDtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxjQUFjO0FBQ2pFO0FBQ0EsZUFBZTtBQUNmLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSw2Q0FBNkMsa0JBQWtCO0FBQy9EO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2Nvbm5lY3RvcnMvcGFnaW5hdGlvbi9jb25uZWN0UGFnaW5hdGlvbi5qcz81N2IwIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KGUsIHIsIHQpIHsgcmV0dXJuIChyID0gX3RvUHJvcGVydHlLZXkocikpIGluIGUgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgeyB2YWx1ZTogdCwgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCB9KSA6IGVbcl0gPSB0LCBlOyB9XG5mdW5jdGlvbiBfdG9Qcm9wZXJ0eUtleSh0KSB7IHZhciBpID0gX3RvUHJpbWl0aXZlKHQsIFwic3RyaW5nXCIpOyByZXR1cm4gXCJzeW1ib2xcIiA9PSBfdHlwZW9mKGkpID8gaSA6IGkgKyBcIlwiOyB9XG5mdW5jdGlvbiBfdG9QcmltaXRpdmUodCwgcikgeyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKHQpIHx8ICF0KSByZXR1cm4gdDsgdmFyIGUgPSB0W1N5bWJvbC50b1ByaW1pdGl2ZV07IGlmICh2b2lkIDAgIT09IGUpIHsgdmFyIGkgPSBlLmNhbGwodCwgciB8fCBcImRlZmF1bHRcIik7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YoaSkpIHJldHVybiBpOyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIik7IH0gcmV0dXJuIChcInN0cmluZ1wiID09PSByID8gU3RyaW5nIDogTnVtYmVyKSh0KTsgfVxuaW1wb3J0IHsgY2hlY2tSZW5kZXJpbmcsIGNyZWF0ZURvY3VtZW50YXRpb25NZXNzYWdlR2VuZXJhdG9yLCBub29wIH0gZnJvbSBcIi4uLy4uL2xpYi91dGlscy9pbmRleC5qc1wiO1xuaW1wb3J0IFBhZ2luYXRvciBmcm9tIFwiLi9QYWdpbmF0b3IuanNcIjtcbnZhciB3aXRoVXNhZ2UgPSBjcmVhdGVEb2N1bWVudGF0aW9uTWVzc2FnZUdlbmVyYXRvcih7XG4gIG5hbWU6ICdwYWdpbmF0aW9uJyxcbiAgY29ubmVjdG9yOiB0cnVlXG59KTtcbi8qKlxuICogKipQYWdpbmF0aW9uKiogY29ubmVjdG9yIHByb3ZpZGVzIHRoZSBsb2dpYyB0byBidWlsZCBhIHdpZGdldCB0aGF0IHdpbGwgbGV0IHRoZSB1c2VyXG4gKiBjaG9vc2UgdGhlIGN1cnJlbnQgcGFnZSBvZiB0aGUgcmVzdWx0cy5cbiAqXG4gKiBXaGVuIHVzaW5nIHRoZSBwYWdpbmF0aW9uIHdpdGggQWxnb2xpYSwgeW91IHNob3VsZCBiZSBhd2FyZSB0aGF0IHRoZSBlbmdpbmUgd29uJ3QgcHJvdmlkZSB5b3UgcGFnZXNcbiAqIGJleW9uZCB0aGUgMTAwMHRoIGhpdHMgYnkgZGVmYXVsdC4gWW91IGNhbiBmaW5kIG1vcmUgaW5mb3JtYXRpb24gb24gdGhlIFtBbGdvbGlhIGRvY3VtZW50YXRpb25dKGh0dHBzOi8vd3d3LmFsZ29saWEuY29tL2RvYy9ndWlkZXMvc2VhcmNoaW5nL3BhZ2luYXRpb24vI3BhZ2luYXRpb24tbGltaXRhdGlvbnMpLlxuICovXG52YXIgY29ubmVjdFBhZ2luYXRpb24gPSBmdW5jdGlvbiBjb25uZWN0UGFnaW5hdGlvbihyZW5kZXJGbikge1xuICB2YXIgdW5tb3VudEZuID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBub29wO1xuICBjaGVja1JlbmRlcmluZyhyZW5kZXJGbiwgd2l0aFVzYWdlKCkpO1xuICByZXR1cm4gZnVuY3Rpb24gKHdpZGdldFBhcmFtcykge1xuICAgIHZhciBfcmVmID0gd2lkZ2V0UGFyYW1zIHx8IHt9LFxuICAgICAgdG90YWxQYWdlcyA9IF9yZWYudG90YWxQYWdlcyxcbiAgICAgIF9yZWYkcGFkZGluZyA9IF9yZWYucGFkZGluZyxcbiAgICAgIHBhZGRpbmcgPSBfcmVmJHBhZGRpbmcgPT09IHZvaWQgMCA/IDMgOiBfcmVmJHBhZGRpbmc7XG4gICAgdmFyIHBhZ2VyID0gbmV3IFBhZ2luYXRvcih7XG4gICAgICBjdXJyZW50UGFnZTogMCxcbiAgICAgIHRvdGFsOiAwLFxuICAgICAgcGFkZGluZzogcGFkZGluZ1xuICAgIH0pO1xuICAgIHZhciBjb25uZWN0b3JTdGF0ZSA9IHt9O1xuICAgIGZ1bmN0aW9uIGdldE1heFBhZ2UoX3JlZjIpIHtcbiAgICAgIHZhciBuYlBhZ2VzID0gX3JlZjIubmJQYWdlcztcbiAgICAgIHJldHVybiB0b3RhbFBhZ2VzICE9PSB1bmRlZmluZWQgPyBNYXRoLm1pbih0b3RhbFBhZ2VzLCBuYlBhZ2VzKSA6IG5iUGFnZXM7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAkJHR5cGU6ICdhaXMucGFnaW5hdGlvbicsXG4gICAgICBpbml0OiBmdW5jdGlvbiBpbml0KGluaXRPcHRpb25zKSB7XG4gICAgICAgIHZhciBpbnN0YW50U2VhcmNoSW5zdGFuY2UgPSBpbml0T3B0aW9ucy5pbnN0YW50U2VhcmNoSW5zdGFuY2U7XG4gICAgICAgIHJlbmRlckZuKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5nZXRXaWRnZXRSZW5kZXJTdGF0ZShpbml0T3B0aW9ucykpLCB7fSwge1xuICAgICAgICAgIGluc3RhbnRTZWFyY2hJbnN0YW5jZTogaW5zdGFudFNlYXJjaEluc3RhbmNlXG4gICAgICAgIH0pLCB0cnVlKTtcbiAgICAgIH0sXG4gICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihyZW5kZXJPcHRpb25zKSB7XG4gICAgICAgIHZhciBpbnN0YW50U2VhcmNoSW5zdGFuY2UgPSByZW5kZXJPcHRpb25zLmluc3RhbnRTZWFyY2hJbnN0YW5jZTtcbiAgICAgICAgcmVuZGVyRm4oX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmdldFdpZGdldFJlbmRlclN0YXRlKHJlbmRlck9wdGlvbnMpKSwge30sIHtcbiAgICAgICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2U6IGluc3RhbnRTZWFyY2hJbnN0YW5jZVxuICAgICAgICB9KSwgZmFsc2UpO1xuICAgICAgfSxcbiAgICAgIGRpc3Bvc2U6IGZ1bmN0aW9uIGRpc3Bvc2UoX3JlZjMpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gX3JlZjMuc3RhdGU7XG4gICAgICAgIHVubW91bnRGbigpO1xuICAgICAgICByZXR1cm4gc3RhdGUuc2V0UXVlcnlQYXJhbWV0ZXIoJ3BhZ2UnLCB1bmRlZmluZWQpO1xuICAgICAgfSxcbiAgICAgIGdldFdpZGdldFVpU3RhdGU6IGZ1bmN0aW9uIGdldFdpZGdldFVpU3RhdGUodWlTdGF0ZSwgX3JlZjQpIHtcbiAgICAgICAgdmFyIHNlYXJjaFBhcmFtZXRlcnMgPSBfcmVmNC5zZWFyY2hQYXJhbWV0ZXJzO1xuICAgICAgICB2YXIgcGFnZSA9IHNlYXJjaFBhcmFtZXRlcnMucGFnZSB8fCAwO1xuICAgICAgICBpZiAoIXBhZ2UpIHtcbiAgICAgICAgICByZXR1cm4gdWlTdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB1aVN0YXRlKSwge30sIHtcbiAgICAgICAgICBwYWdlOiBwYWdlICsgMVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBnZXRXaWRnZXRTZWFyY2hQYXJhbWV0ZXJzOiBmdW5jdGlvbiBnZXRXaWRnZXRTZWFyY2hQYXJhbWV0ZXJzKHNlYXJjaFBhcmFtZXRlcnMsIF9yZWY1KSB7XG4gICAgICAgIHZhciB1aVN0YXRlID0gX3JlZjUudWlTdGF0ZTtcbiAgICAgICAgdmFyIHBhZ2UgPSB1aVN0YXRlLnBhZ2UgPyB1aVN0YXRlLnBhZ2UgLSAxIDogMDtcbiAgICAgICAgcmV0dXJuIHNlYXJjaFBhcmFtZXRlcnMuc2V0UXVlcnlQYXJhbWV0ZXIoJ3BhZ2UnLCBwYWdlKTtcbiAgICAgIH0sXG4gICAgICBnZXRXaWRnZXRSZW5kZXJTdGF0ZTogZnVuY3Rpb24gZ2V0V2lkZ2V0UmVuZGVyU3RhdGUoX3JlZjYpIHtcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBfcmVmNi5yZXN1bHRzLFxuICAgICAgICAgIGhlbHBlciA9IF9yZWY2LmhlbHBlcixcbiAgICAgICAgICBzdGF0ZSA9IF9yZWY2LnN0YXRlLFxuICAgICAgICAgIGNyZWF0ZVVSTCA9IF9yZWY2LmNyZWF0ZVVSTDtcbiAgICAgICAgaWYgKCFjb25uZWN0b3JTdGF0ZS5yZWZpbmUpIHtcbiAgICAgICAgICBjb25uZWN0b3JTdGF0ZS5yZWZpbmUgPSBmdW5jdGlvbiAocGFnZSkge1xuICAgICAgICAgICAgaGVscGVyLnNldFBhZ2UocGFnZSk7XG4gICAgICAgICAgICBoZWxwZXIuc2VhcmNoKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNvbm5lY3RvclN0YXRlLmNyZWF0ZVVSTCkge1xuICAgICAgICAgIGNvbm5lY3RvclN0YXRlLmNyZWF0ZVVSTCA9IGZ1bmN0aW9uIChwYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlVVJMKGZ1bmN0aW9uICh1aVN0YXRlKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHVpU3RhdGUpLCB7fSwge1xuICAgICAgICAgICAgICAgIHBhZ2U6IHBhZ2UgKyAxXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFnZSA9IHN0YXRlLnBhZ2UgfHwgMDtcbiAgICAgICAgdmFyIG5iUGFnZXMgPSBnZXRNYXhQYWdlKHJlc3VsdHMgfHwge1xuICAgICAgICAgIG5iUGFnZXM6IDBcbiAgICAgICAgfSk7XG4gICAgICAgIHBhZ2VyLmN1cnJlbnRQYWdlID0gcGFnZTtcbiAgICAgICAgcGFnZXIudG90YWwgPSBuYlBhZ2VzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGNyZWF0ZVVSTDogY29ubmVjdG9yU3RhdGUuY3JlYXRlVVJMLFxuICAgICAgICAgIHJlZmluZTogY29ubmVjdG9yU3RhdGUucmVmaW5lLFxuICAgICAgICAgIGNhblJlZmluZTogbmJQYWdlcyA+IDEsXG4gICAgICAgICAgY3VycmVudFJlZmluZW1lbnQ6IHBhZ2UsXG4gICAgICAgICAgbmJIaXRzOiAocmVzdWx0cyA9PT0gbnVsbCB8fCByZXN1bHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZXN1bHRzLm5iSGl0cykgfHwgMCxcbiAgICAgICAgICBuYlBhZ2VzOiBuYlBhZ2VzLFxuICAgICAgICAgIHBhZ2VzOiByZXN1bHRzID8gcGFnZXIucGFnZXMoKSA6IFtdLFxuICAgICAgICAgIGlzRmlyc3RQYWdlOiBwYWdlci5pc0ZpcnN0UGFnZSgpLFxuICAgICAgICAgIGlzTGFzdFBhZ2U6IHBhZ2VyLmlzTGFzdFBhZ2UoKSxcbiAgICAgICAgICB3aWRnZXRQYXJhbXM6IHdpZGdldFBhcmFtc1xuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIGdldFJlbmRlclN0YXRlOiBmdW5jdGlvbiBnZXRSZW5kZXJTdGF0ZShyZW5kZXJTdGF0ZSwgcmVuZGVyT3B0aW9ucykge1xuICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCByZW5kZXJTdGF0ZSksIHt9LCB7XG4gICAgICAgICAgcGFnaW5hdGlvbjogdGhpcy5nZXRXaWRnZXRSZW5kZXJTdGF0ZShyZW5kZXJPcHRpb25zKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3RQYWdpbmF0aW9uOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/connectors/pagination/connectPagination.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/connectors/refinement-list/connectRefinementList.js":
/*!**********************************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/connectors/refinement-list/connectRefinementList.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/documentation.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/noop.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/checkRendering.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/escape-highlight.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/createSendEventForFacet.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/logger.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nvar _excluded = [\"name\", \"escapedValue\"],\n  _excluded2 = [\"escapedValue\", \"value\"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\n\nvar withUsage = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__.createDocumentationMessageGenerator)({\n  name: 'refinement-list',\n  connector: true\n});\nvar DEFAULT_SORT = ['isRefined', 'count:desc', 'name:asc'];\n/**\n * **RefinementList** connector provides the logic to build a custom widget that\n * will let the user filter the results based on the values of a specific facet.\n *\n * **Requirement:** the attribute passed as `attribute` must be present in\n * attributesForFaceting of the searched index.\n *\n * This connector provides:\n * - a `refine()` function to select an item.\n * - a `toggleShowMore()` function to display more or less items\n * - a `searchForItems()` function to search within the items.\n */\nvar connectRefinementList = function connectRefinementList(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.noop;\n  (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.checkRendering)(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n      attribute = _ref.attribute,\n      _ref$operator = _ref.operator,\n      operator = _ref$operator === void 0 ? 'or' : _ref$operator,\n      _ref$limit = _ref.limit,\n      limit = _ref$limit === void 0 ? 10 : _ref$limit,\n      _ref$showMore = _ref.showMore,\n      showMore = _ref$showMore === void 0 ? false : _ref$showMore,\n      _ref$showMoreLimit = _ref.showMoreLimit,\n      showMoreLimit = _ref$showMoreLimit === void 0 ? 20 : _ref$showMoreLimit,\n      _ref$sortBy = _ref.sortBy,\n      sortBy = _ref$sortBy === void 0 ? DEFAULT_SORT : _ref$sortBy,\n      _ref$escapeFacetValue = _ref.escapeFacetValues,\n      escapeFacetValues = _ref$escapeFacetValue === void 0 ? true : _ref$escapeFacetValue,\n      _ref$transformItems = _ref.transformItems,\n      transformItems = _ref$transformItems === void 0 ? function (items) {\n        return items;\n      } : _ref$transformItems;\n    if (!attribute) {\n      throw new Error(withUsage('The `attribute` option is required.'));\n    }\n    if (!/^(and|or)$/.test(operator)) {\n      throw new Error(withUsage(\"The `operator` must one of: `\\\"and\\\"`, `\\\"or\\\"` (got \\\"\".concat(operator, \"\\\").\")));\n    }\n    if (showMore === true && showMoreLimit <= limit) {\n      throw new Error(withUsage('`showMoreLimit` should be greater than `limit`.'));\n    }\n    var formatItems = function formatItems(_ref2) {\n      var label = _ref2.name,\n        value = _ref2.escapedValue,\n        item = _objectWithoutProperties(_ref2, _excluded);\n      return _objectSpread(_objectSpread({}, item), {}, {\n        value: value,\n        label: label,\n        highlighted: label\n      });\n    };\n    var lastResultsFromMainSearch;\n    var lastItemsFromMainSearch = [];\n    var hasExhaustiveItems = true;\n    var triggerRefine;\n    var sendEvent;\n    var isShowingMore = false;\n    // Provide the same function to the `renderFn` so that way the user\n    // has to only bind it once when `isFirstRendering` for instance\n    var toggleShowMore = function toggleShowMore() {};\n    function cachedToggleShowMore() {\n      toggleShowMore();\n    }\n    function createToggleShowMore(renderOptions, widget) {\n      return function () {\n        isShowingMore = !isShowingMore;\n        widget.render(renderOptions);\n      };\n    }\n    function getLimit() {\n      return isShowingMore ? showMoreLimit : limit;\n    }\n    var searchForFacetValues = function searchForFacetValues() {\n      return function () {};\n    };\n    var createSearchForFacetValues = function createSearchForFacetValues(helper, widget) {\n      return function (renderOptions) {\n        return function (query) {\n          var instantSearchInstance = renderOptions.instantSearchInstance,\n            searchResults = renderOptions.results;\n          if (query === '' && lastItemsFromMainSearch) {\n            // render with previous data from the helper.\n            renderFn(_objectSpread(_objectSpread({}, widget.getWidgetRenderState(_objectSpread(_objectSpread({}, renderOptions), {}, {\n              results: lastResultsFromMainSearch\n            }))), {}, {\n              instantSearchInstance: instantSearchInstance\n            }), false);\n          } else {\n            var tags = {\n              highlightPreTag: escapeFacetValues ? _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.TAG_PLACEHOLDER.highlightPreTag : _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.TAG_REPLACEMENT.highlightPreTag,\n              highlightPostTag: escapeFacetValues ? _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.TAG_PLACEHOLDER.highlightPostTag : _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.TAG_REPLACEMENT.highlightPostTag\n            };\n            helper.searchForFacetValues(attribute, query,\n            // We cap the `maxFacetHits` value to 100 because the Algolia API\n            // doesn't support a greater number.\n            // See https://www.algolia.com/doc/api-reference/api-parameters/maxFacetHits/\n            Math.min(getLimit(), 100), tags).then(function (results) {\n              var facetValues = escapeFacetValues ? (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.escapeFacets)(results.facetHits) : results.facetHits;\n              var normalizedFacetValues = transformItems(facetValues.map(function (_ref3) {\n                var escapedValue = _ref3.escapedValue,\n                  value = _ref3.value,\n                  item = _objectWithoutProperties(_ref3, _excluded2);\n                return _objectSpread(_objectSpread({}, item), {}, {\n                  value: escapedValue,\n                  label: value\n                });\n              }), {\n                results: searchResults\n              });\n              renderFn(_objectSpread(_objectSpread({}, widget.getWidgetRenderState(_objectSpread(_objectSpread({}, renderOptions), {}, {\n                results: lastResultsFromMainSearch\n              }))), {}, {\n                items: normalizedFacetValues,\n                canToggleShowMore: false,\n                canRefine: true,\n                isFromSearch: true,\n                instantSearchInstance: instantSearchInstance\n              }), false);\n            });\n          }\n        };\n      };\n    };\n    return {\n      $$type: 'ais.refinementList',\n      init: function init(initOptions) {\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: initOptions.instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: renderOptions.instantSearchInstance\n        }), false);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          refinementList: _objectSpread(_objectSpread({}, renderState.refinementList), {}, _defineProperty({}, attribute, this.getWidgetRenderState(renderOptions)))\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(renderOptions) {\n        var _this = this;\n        var results = renderOptions.results,\n          state = renderOptions.state,\n          _createURL = renderOptions.createURL,\n          instantSearchInstance = renderOptions.instantSearchInstance,\n          helper = renderOptions.helper;\n        var items = [];\n        var facetValues = [];\n        if (!sendEvent || !triggerRefine || !searchForFacetValues) {\n          sendEvent = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_4__.createSendEventForFacet)({\n            instantSearchInstance: instantSearchInstance,\n            helper: helper,\n            attribute: attribute,\n            widgetType: this.$$type\n          });\n          triggerRefine = function triggerRefine(facetValue) {\n            sendEvent('click:internal', facetValue);\n            helper.toggleFacetRefinement(attribute, facetValue).search();\n          };\n          searchForFacetValues = createSearchForFacetValues(helper, this);\n        }\n        if (results) {\n          var values = results.getFacetValues(attribute, {\n            sortBy: sortBy,\n            facetOrdering: sortBy === DEFAULT_SORT\n          });\n          facetValues = values && Array.isArray(values) ? values : [];\n          items = transformItems(facetValues.slice(0, getLimit()).map(formatItems), {\n            results: results\n          });\n          var maxValuesPerFacetConfig = state.maxValuesPerFacet;\n          var currentLimit = getLimit();\n          // If the limit is the max number of facet retrieved it is impossible to know\n          // if the facets are exhaustive. The only moment we are sure it is exhaustive\n          // is when it is strictly under the number requested unless we know that another\n          // widget has requested more values (maxValuesPerFacet > getLimit()).\n          // Because this is used for making the search of facets unable or not, it is important\n          // to be conservative here.\n          hasExhaustiveItems = maxValuesPerFacetConfig > currentLimit ? facetValues.length <= currentLimit : facetValues.length < currentLimit;\n          lastResultsFromMainSearch = results;\n          lastItemsFromMainSearch = items;\n          if (renderOptions.results) {\n            toggleShowMore = createToggleShowMore(renderOptions, this);\n          }\n        }\n\n        // Do not mistake searchForFacetValues and searchFacetValues which is the actual search\n        // function\n        var searchFacetValues = searchForFacetValues && searchForFacetValues(renderOptions);\n        var canShowLess = isShowingMore && lastItemsFromMainSearch.length > limit;\n        var canShowMore = showMore && !hasExhaustiveItems;\n        var canToggleShowMore = canShowLess || canShowMore;\n        return {\n          createURL: function createURL(facetValue) {\n            return _createURL(function (uiState) {\n              return _this.getWidgetUiState(uiState, {\n                searchParameters: state.resetPage().toggleFacetRefinement(attribute, facetValue),\n                helper: helper\n              });\n            });\n          },\n          items: items,\n          refine: triggerRefine,\n          searchForItems: searchFacetValues,\n          isFromSearch: false,\n          canRefine: items.length > 0,\n          widgetParams: widgetParams,\n          isShowingMore: isShowingMore,\n          canToggleShowMore: canToggleShowMore,\n          toggleShowMore: cachedToggleShowMore,\n          sendEvent: sendEvent,\n          hasExhaustiveItems: hasExhaustiveItems\n        };\n      },\n      dispose: function dispose(_ref4) {\n        var state = _ref4.state;\n        unmountFn();\n        var withoutMaxValuesPerFacet = state.setQueryParameter('maxValuesPerFacet', undefined);\n        if (operator === 'and') {\n          return withoutMaxValuesPerFacet.removeFacet(attribute);\n        }\n        return withoutMaxValuesPerFacet.removeDisjunctiveFacet(attribute);\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref5) {\n        var searchParameters = _ref5.searchParameters;\n        var values = operator === 'or' ? searchParameters.getDisjunctiveRefinements(attribute) : searchParameters.getConjunctiveRefinements(attribute);\n        return removeEmptyRefinementsFromUiState(_objectSpread(_objectSpread({}, uiState), {}, {\n          refinementList: _objectSpread(_objectSpread({}, uiState.refinementList), {}, _defineProperty({}, attribute, values))\n        }), attribute);\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref6) {\n        var uiState = _ref6.uiState;\n        var isDisjunctive = operator === 'or';\n        if (searchParameters.isHierarchicalFacet(attribute)) {\n           true ? (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_5__.warning)(false, \"RefinementList: Attribute \\\"\".concat(attribute, \"\\\" is already used by another widget applying hierarchical faceting.\\nAs this is not supported, please make sure to remove this other widget or this RefinementList widget will not work at all.\")) : 0;\n          return searchParameters;\n        }\n        if (isDisjunctive && searchParameters.isConjunctiveFacet(attribute) || !isDisjunctive && searchParameters.isDisjunctiveFacet(attribute)) {\n           true ? (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_5__.warning)(false, \"RefinementList: Attribute \\\"\".concat(attribute, \"\\\" is used by another refinement list with a different operator.\\nAs this is not supported, please make sure to only use this attribute with one of the two operators.\")) : 0;\n          return searchParameters;\n        }\n        var values = uiState.refinementList && uiState.refinementList[attribute];\n        var withFacetConfiguration = isDisjunctive ? searchParameters.addDisjunctiveFacet(attribute).removeDisjunctiveFacetRefinement(attribute) : searchParameters.addFacet(attribute).removeFacetRefinement(attribute);\n        var currentMaxValuesPerFacet = withFacetConfiguration.maxValuesPerFacet || 0;\n        var nextMaxValuesPerFacet = Math.max(currentMaxValuesPerFacet, showMore ? showMoreLimit : limit);\n        var withMaxValuesPerFacet = withFacetConfiguration.setQueryParameter('maxValuesPerFacet', nextMaxValuesPerFacet);\n        if (!values) {\n          var key = isDisjunctive ? 'disjunctiveFacetsRefinements' : 'facetsRefinements';\n          return withMaxValuesPerFacet.setQueryParameters(_defineProperty({}, key, _objectSpread(_objectSpread({}, withMaxValuesPerFacet[key]), {}, _defineProperty({}, attribute, []))));\n        }\n        return values.reduce(function (parameters, value) {\n          return isDisjunctive ? parameters.addDisjunctiveFacetRefinement(attribute, value) : parameters.addFacetRefinement(attribute, value);\n        }, withMaxValuesPerFacet);\n      }\n    };\n  };\n};\nfunction removeEmptyRefinementsFromUiState(indexUiState, attribute) {\n  if (!indexUiState.refinementList) {\n    return indexUiState;\n  }\n  if (!indexUiState.refinementList[attribute] || indexUiState.refinementList[attribute].length === 0) {\n    delete indexUiState.refinementList[attribute];\n  }\n  if (Object.keys(indexUiState.refinementList).length === 0) {\n    delete indexUiState.refinementList;\n  }\n  return indexUiState;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (connectRefinementList);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9jb25uZWN0b3JzL3JlZmluZW1lbnQtbGlzdC9jb25uZWN0UmVmaW5lbWVudExpc3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLHNCQUFzQiwyQkFBMkIsb0dBQW9HLG1CQUFtQixpQkFBaUIsc0hBQXNIO0FBQy9TO0FBQ0E7QUFDQSx5QkFBeUIsd0JBQXdCLG9DQUFvQyx5Q0FBeUMsa0NBQWtDLDBEQUEwRCwwQkFBMEI7QUFDcFAsNEJBQTRCLGdCQUFnQixzQkFBc0IsT0FBTyxrREFBa0Qsc0RBQXNELDhCQUE4QixtSkFBbUoscUVBQXFFLEtBQUs7QUFDNWEsb0NBQW9DLG9FQUFvRSwwREFBMEQ7QUFDbEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1EsMENBQTBDLDBCQUEwQixtREFBbUQsb0NBQW9DLHlDQUF5QyxZQUFZLGNBQWMsd0NBQXdDLHFEQUFxRDtBQUMzVCwrQ0FBK0MsMEJBQTBCLFlBQVksdUJBQXVCLDhCQUE4QixtQ0FBbUMsZUFBZTtBQUNMO0FBQ3ZMLGdCQUFnQix3RkFBbUM7QUFDbkQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0ZBQXNGLHFEQUFJO0FBQzFGLEVBQUUsbUVBQWM7QUFDaEI7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsV0FBVztBQUN0RDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCw0REFBNEQsb0JBQW9CO0FBQ25JO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCO0FBQ0EsYUFBYTtBQUNiLFlBQVk7QUFDWjtBQUNBLG1EQUFtRCxnRUFBZSxtQkFBbUIsZ0VBQWU7QUFDcEcsb0RBQW9ELGdFQUFlLG9CQUFvQixnRUFBZTtBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsaUVBQVk7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsV0FBVztBQUNoRTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGVBQWU7QUFDZjtBQUNBLGVBQWU7QUFDZixxREFBcUQsNERBQTRELG9CQUFvQjtBQUNySTtBQUNBLGVBQWUsT0FBTztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyw2Q0FBNkM7QUFDNUY7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0EsK0NBQStDLCtDQUErQztBQUM5RjtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQSw2Q0FBNkMsa0JBQWtCO0FBQy9ELHdEQUF3RCxpQ0FBaUMsb0JBQW9CO0FBQzdHLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsNEVBQXVCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLGFBQWE7QUFDYixXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsK0VBQStFLGNBQWM7QUFDN0Ysd0RBQXdELDZCQUE2QixvQkFBb0I7QUFDekcsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsS0FBc0MsR0FBRyw0REFBTyxnUUFBZ1EsQ0FBTTtBQUNoVTtBQUNBO0FBQ0E7QUFDQSxVQUFVLEtBQXNDLEdBQUcsNERBQU8sc09BQXNPLENBQU07QUFDdFM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLHFDQUFxQyxpQ0FBaUMsb0JBQW9CO0FBQ3RLO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFlLHFCQUFxQiIsInNvdXJjZXMiOlsid2VicGFjazovL3NwZWMtbG9naWMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9jb25uZWN0b3JzL3JlZmluZW1lbnQtbGlzdC9jb25uZWN0UmVmaW5lbWVudExpc3QuanM/ZWM0YiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG52YXIgX2V4Y2x1ZGVkID0gW1wibmFtZVwiLCBcImVzY2FwZWRWYWx1ZVwiXSxcbiAgX2V4Y2x1ZGVkMiA9IFtcImVzY2FwZWRWYWx1ZVwiLCBcInZhbHVlXCJdO1xuZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoZSwgdCkgeyBpZiAobnVsbCA9PSBlKSByZXR1cm4ge307IHZhciBvLCByLCBpID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoZSwgdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBuID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgZm9yIChyID0gMDsgciA8IG4ubGVuZ3RoOyByKyspIG8gPSBuW3JdLCAtMSA9PT0gdC5pbmRleE9mKG8pICYmIHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSwgbykgJiYgKGlbb10gPSBlW29dKTsgfSByZXR1cm4gaTsgfVxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UociwgZSkgeyBpZiAobnVsbCA9PSByKSByZXR1cm4ge307IHZhciB0ID0ge307IGZvciAodmFyIG4gaW4gcikgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwociwgbikpIHsgaWYgKC0xICE9PSBlLmluZGV4T2YobikpIGNvbnRpbnVlOyB0W25dID0gcltuXTsgfSByZXR1cm4gdDsgfVxuaW1wb3J0IHsgZXNjYXBlRmFjZXRzLCBUQUdfUExBQ0VIT0xERVIsIFRBR19SRVBMQUNFTUVOVCwgY2hlY2tSZW5kZXJpbmcsIGNyZWF0ZURvY3VtZW50YXRpb25NZXNzYWdlR2VuZXJhdG9yLCBjcmVhdGVTZW5kRXZlbnRGb3JGYWNldCwgbm9vcCwgd2FybmluZyB9IGZyb20gXCIuLi8uLi9saWIvdXRpbHMvaW5kZXguanNcIjtcbnZhciB3aXRoVXNhZ2UgPSBjcmVhdGVEb2N1bWVudGF0aW9uTWVzc2FnZUdlbmVyYXRvcih7XG4gIG5hbWU6ICdyZWZpbmVtZW50LWxpc3QnLFxuICBjb25uZWN0b3I6IHRydWVcbn0pO1xudmFyIERFRkFVTFRfU09SVCA9IFsnaXNSZWZpbmVkJywgJ2NvdW50OmRlc2MnLCAnbmFtZTphc2MnXTtcbi8qKlxuICogKipSZWZpbmVtZW50TGlzdCoqIGNvbm5lY3RvciBwcm92aWRlcyB0aGUgbG9naWMgdG8gYnVpbGQgYSBjdXN0b20gd2lkZ2V0IHRoYXRcbiAqIHdpbGwgbGV0IHRoZSB1c2VyIGZpbHRlciB0aGUgcmVzdWx0cyBiYXNlZCBvbiB0aGUgdmFsdWVzIG9mIGEgc3BlY2lmaWMgZmFjZXQuXG4gKlxuICogKipSZXF1aXJlbWVudDoqKiB0aGUgYXR0cmlidXRlIHBhc3NlZCBhcyBgYXR0cmlidXRlYCBtdXN0IGJlIHByZXNlbnQgaW5cbiAqIGF0dHJpYnV0ZXNGb3JGYWNldGluZyBvZiB0aGUgc2VhcmNoZWQgaW5kZXguXG4gKlxuICogVGhpcyBjb25uZWN0b3IgcHJvdmlkZXM6XG4gKiAtIGEgYHJlZmluZSgpYCBmdW5jdGlvbiB0byBzZWxlY3QgYW4gaXRlbS5cbiAqIC0gYSBgdG9nZ2xlU2hvd01vcmUoKWAgZnVuY3Rpb24gdG8gZGlzcGxheSBtb3JlIG9yIGxlc3MgaXRlbXNcbiAqIC0gYSBgc2VhcmNoRm9ySXRlbXMoKWAgZnVuY3Rpb24gdG8gc2VhcmNoIHdpdGhpbiB0aGUgaXRlbXMuXG4gKi9cbnZhciBjb25uZWN0UmVmaW5lbWVudExpc3QgPSBmdW5jdGlvbiBjb25uZWN0UmVmaW5lbWVudExpc3QocmVuZGVyRm4pIHtcbiAgdmFyIHVubW91bnRGbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbm9vcDtcbiAgY2hlY2tSZW5kZXJpbmcocmVuZGVyRm4sIHdpdGhVc2FnZSgpKTtcbiAgcmV0dXJuIGZ1bmN0aW9uICh3aWRnZXRQYXJhbXMpIHtcbiAgICB2YXIgX3JlZiA9IHdpZGdldFBhcmFtcyB8fCB7fSxcbiAgICAgIGF0dHJpYnV0ZSA9IF9yZWYuYXR0cmlidXRlLFxuICAgICAgX3JlZiRvcGVyYXRvciA9IF9yZWYub3BlcmF0b3IsXG4gICAgICBvcGVyYXRvciA9IF9yZWYkb3BlcmF0b3IgPT09IHZvaWQgMCA/ICdvcicgOiBfcmVmJG9wZXJhdG9yLFxuICAgICAgX3JlZiRsaW1pdCA9IF9yZWYubGltaXQsXG4gICAgICBsaW1pdCA9IF9yZWYkbGltaXQgPT09IHZvaWQgMCA/IDEwIDogX3JlZiRsaW1pdCxcbiAgICAgIF9yZWYkc2hvd01vcmUgPSBfcmVmLnNob3dNb3JlLFxuICAgICAgc2hvd01vcmUgPSBfcmVmJHNob3dNb3JlID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkc2hvd01vcmUsXG4gICAgICBfcmVmJHNob3dNb3JlTGltaXQgPSBfcmVmLnNob3dNb3JlTGltaXQsXG4gICAgICBzaG93TW9yZUxpbWl0ID0gX3JlZiRzaG93TW9yZUxpbWl0ID09PSB2b2lkIDAgPyAyMCA6IF9yZWYkc2hvd01vcmVMaW1pdCxcbiAgICAgIF9yZWYkc29ydEJ5ID0gX3JlZi5zb3J0QnksXG4gICAgICBzb3J0QnkgPSBfcmVmJHNvcnRCeSA9PT0gdm9pZCAwID8gREVGQVVMVF9TT1JUIDogX3JlZiRzb3J0QnksXG4gICAgICBfcmVmJGVzY2FwZUZhY2V0VmFsdWUgPSBfcmVmLmVzY2FwZUZhY2V0VmFsdWVzLFxuICAgICAgZXNjYXBlRmFjZXRWYWx1ZXMgPSBfcmVmJGVzY2FwZUZhY2V0VmFsdWUgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmJGVzY2FwZUZhY2V0VmFsdWUsXG4gICAgICBfcmVmJHRyYW5zZm9ybUl0ZW1zID0gX3JlZi50cmFuc2Zvcm1JdGVtcyxcbiAgICAgIHRyYW5zZm9ybUl0ZW1zID0gX3JlZiR0cmFuc2Zvcm1JdGVtcyA9PT0gdm9pZCAwID8gZnVuY3Rpb24gKGl0ZW1zKSB7XG4gICAgICAgIHJldHVybiBpdGVtcztcbiAgICAgIH0gOiBfcmVmJHRyYW5zZm9ybUl0ZW1zO1xuICAgIGlmICghYXR0cmlidXRlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3Iod2l0aFVzYWdlKCdUaGUgYGF0dHJpYnV0ZWAgb3B0aW9uIGlzIHJlcXVpcmVkLicpKTtcbiAgICB9XG4gICAgaWYgKCEvXihhbmR8b3IpJC8udGVzdChvcGVyYXRvcikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcih3aXRoVXNhZ2UoXCJUaGUgYG9wZXJhdG9yYCBtdXN0IG9uZSBvZjogYFxcXCJhbmRcXFwiYCwgYFxcXCJvclxcXCJgIChnb3QgXFxcIlwiLmNvbmNhdChvcGVyYXRvciwgXCJcXFwiKS5cIikpKTtcbiAgICB9XG4gICAgaWYgKHNob3dNb3JlID09PSB0cnVlICYmIHNob3dNb3JlTGltaXQgPD0gbGltaXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcih3aXRoVXNhZ2UoJ2BzaG93TW9yZUxpbWl0YCBzaG91bGQgYmUgZ3JlYXRlciB0aGFuIGBsaW1pdGAuJykpO1xuICAgIH1cbiAgICB2YXIgZm9ybWF0SXRlbXMgPSBmdW5jdGlvbiBmb3JtYXRJdGVtcyhfcmVmMikge1xuICAgICAgdmFyIGxhYmVsID0gX3JlZjIubmFtZSxcbiAgICAgICAgdmFsdWUgPSBfcmVmMi5lc2NhcGVkVmFsdWUsXG4gICAgICAgIGl0ZW0gPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZjIsIF9leGNsdWRlZCk7XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBpdGVtKSwge30sIHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBsYWJlbDogbGFiZWwsXG4gICAgICAgIGhpZ2hsaWdodGVkOiBsYWJlbFxuICAgICAgfSk7XG4gICAgfTtcbiAgICB2YXIgbGFzdFJlc3VsdHNGcm9tTWFpblNlYXJjaDtcbiAgICB2YXIgbGFzdEl0ZW1zRnJvbU1haW5TZWFyY2ggPSBbXTtcbiAgICB2YXIgaGFzRXhoYXVzdGl2ZUl0ZW1zID0gdHJ1ZTtcbiAgICB2YXIgdHJpZ2dlclJlZmluZTtcbiAgICB2YXIgc2VuZEV2ZW50O1xuICAgIHZhciBpc1Nob3dpbmdNb3JlID0gZmFsc2U7XG4gICAgLy8gUHJvdmlkZSB0aGUgc2FtZSBmdW5jdGlvbiB0byB0aGUgYHJlbmRlckZuYCBzbyB0aGF0IHdheSB0aGUgdXNlclxuICAgIC8vIGhhcyB0byBvbmx5IGJpbmQgaXQgb25jZSB3aGVuIGBpc0ZpcnN0UmVuZGVyaW5nYCBmb3IgaW5zdGFuY2VcbiAgICB2YXIgdG9nZ2xlU2hvd01vcmUgPSBmdW5jdGlvbiB0b2dnbGVTaG93TW9yZSgpIHt9O1xuICAgIGZ1bmN0aW9uIGNhY2hlZFRvZ2dsZVNob3dNb3JlKCkge1xuICAgICAgdG9nZ2xlU2hvd01vcmUoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY3JlYXRlVG9nZ2xlU2hvd01vcmUocmVuZGVyT3B0aW9ucywgd2lkZ2V0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBpc1Nob3dpbmdNb3JlID0gIWlzU2hvd2luZ01vcmU7XG4gICAgICAgIHdpZGdldC5yZW5kZXIocmVuZGVyT3B0aW9ucyk7XG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRMaW1pdCgpIHtcbiAgICAgIHJldHVybiBpc1Nob3dpbmdNb3JlID8gc2hvd01vcmVMaW1pdCA6IGxpbWl0O1xuICAgIH1cbiAgICB2YXIgc2VhcmNoRm9yRmFjZXRWYWx1ZXMgPSBmdW5jdGlvbiBzZWFyY2hGb3JGYWNldFZhbHVlcygpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7fTtcbiAgICB9O1xuICAgIHZhciBjcmVhdGVTZWFyY2hGb3JGYWNldFZhbHVlcyA9IGZ1bmN0aW9uIGNyZWF0ZVNlYXJjaEZvckZhY2V0VmFsdWVzKGhlbHBlciwgd2lkZ2V0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHJlbmRlck9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChxdWVyeSkge1xuICAgICAgICAgIHZhciBpbnN0YW50U2VhcmNoSW5zdGFuY2UgPSByZW5kZXJPcHRpb25zLmluc3RhbnRTZWFyY2hJbnN0YW5jZSxcbiAgICAgICAgICAgIHNlYXJjaFJlc3VsdHMgPSByZW5kZXJPcHRpb25zLnJlc3VsdHM7XG4gICAgICAgICAgaWYgKHF1ZXJ5ID09PSAnJyAmJiBsYXN0SXRlbXNGcm9tTWFpblNlYXJjaCkge1xuICAgICAgICAgICAgLy8gcmVuZGVyIHdpdGggcHJldmlvdXMgZGF0YSBmcm9tIHRoZSBoZWxwZXIuXG4gICAgICAgICAgICByZW5kZXJGbihfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHdpZGdldC5nZXRXaWRnZXRSZW5kZXJTdGF0ZShfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHJlbmRlck9wdGlvbnMpLCB7fSwge1xuICAgICAgICAgICAgICByZXN1bHRzOiBsYXN0UmVzdWx0c0Zyb21NYWluU2VhcmNoXG4gICAgICAgICAgICB9KSkpLCB7fSwge1xuICAgICAgICAgICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2U6IGluc3RhbnRTZWFyY2hJbnN0YW5jZVxuICAgICAgICAgICAgfSksIGZhbHNlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRhZ3MgPSB7XG4gICAgICAgICAgICAgIGhpZ2hsaWdodFByZVRhZzogZXNjYXBlRmFjZXRWYWx1ZXMgPyBUQUdfUExBQ0VIT0xERVIuaGlnaGxpZ2h0UHJlVGFnIDogVEFHX1JFUExBQ0VNRU5ULmhpZ2hsaWdodFByZVRhZyxcbiAgICAgICAgICAgICAgaGlnaGxpZ2h0UG9zdFRhZzogZXNjYXBlRmFjZXRWYWx1ZXMgPyBUQUdfUExBQ0VIT0xERVIuaGlnaGxpZ2h0UG9zdFRhZyA6IFRBR19SRVBMQUNFTUVOVC5oaWdobGlnaHRQb3N0VGFnXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaGVscGVyLnNlYXJjaEZvckZhY2V0VmFsdWVzKGF0dHJpYnV0ZSwgcXVlcnksXG4gICAgICAgICAgICAvLyBXZSBjYXAgdGhlIGBtYXhGYWNldEhpdHNgIHZhbHVlIHRvIDEwMCBiZWNhdXNlIHRoZSBBbGdvbGlhIEFQSVxuICAgICAgICAgICAgLy8gZG9lc24ndCBzdXBwb3J0IGEgZ3JlYXRlciBudW1iZXIuXG4gICAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly93d3cuYWxnb2xpYS5jb20vZG9jL2FwaS1yZWZlcmVuY2UvYXBpLXBhcmFtZXRlcnMvbWF4RmFjZXRIaXRzL1xuICAgICAgICAgICAgTWF0aC5taW4oZ2V0TGltaXQoKSwgMTAwKSwgdGFncykudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICAgICAgICB2YXIgZmFjZXRWYWx1ZXMgPSBlc2NhcGVGYWNldFZhbHVlcyA/IGVzY2FwZUZhY2V0cyhyZXN1bHRzLmZhY2V0SGl0cykgOiByZXN1bHRzLmZhY2V0SGl0cztcbiAgICAgICAgICAgICAgdmFyIG5vcm1hbGl6ZWRGYWNldFZhbHVlcyA9IHRyYW5zZm9ybUl0ZW1zKGZhY2V0VmFsdWVzLm1hcChmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXNjYXBlZFZhbHVlID0gX3JlZjMuZXNjYXBlZFZhbHVlLFxuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmMy52YWx1ZSxcbiAgICAgICAgICAgICAgICAgIGl0ZW0gPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZjMsIF9leGNsdWRlZDIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGl0ZW0pLCB7fSwge1xuICAgICAgICAgICAgICAgICAgdmFsdWU6IGVzY2FwZWRWYWx1ZSxcbiAgICAgICAgICAgICAgICAgIGxhYmVsOiB2YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KSwge1xuICAgICAgICAgICAgICAgIHJlc3VsdHM6IHNlYXJjaFJlc3VsdHNcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIHJlbmRlckZuKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgd2lkZ2V0LmdldFdpZGdldFJlbmRlclN0YXRlKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcmVuZGVyT3B0aW9ucyksIHt9LCB7XG4gICAgICAgICAgICAgICAgcmVzdWx0czogbGFzdFJlc3VsdHNGcm9tTWFpblNlYXJjaFxuICAgICAgICAgICAgICB9KSkpLCB7fSwge1xuICAgICAgICAgICAgICAgIGl0ZW1zOiBub3JtYWxpemVkRmFjZXRWYWx1ZXMsXG4gICAgICAgICAgICAgICAgY2FuVG9nZ2xlU2hvd01vcmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNhblJlZmluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpc0Zyb21TZWFyY2g6IHRydWUsXG4gICAgICAgICAgICAgICAgaW5zdGFudFNlYXJjaEluc3RhbmNlOiBpbnN0YW50U2VhcmNoSW5zdGFuY2VcbiAgICAgICAgICAgICAgfSksIGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgJCR0eXBlOiAnYWlzLnJlZmluZW1lbnRMaXN0JyxcbiAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoaW5pdE9wdGlvbnMpIHtcbiAgICAgICAgcmVuZGVyRm4oX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmdldFdpZGdldFJlbmRlclN0YXRlKGluaXRPcHRpb25zKSksIHt9LCB7XG4gICAgICAgICAgaW5zdGFudFNlYXJjaEluc3RhbmNlOiBpbml0T3B0aW9ucy5pbnN0YW50U2VhcmNoSW5zdGFuY2VcbiAgICAgICAgfSksIHRydWUpO1xuICAgICAgfSxcbiAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKHJlbmRlck9wdGlvbnMpIHtcbiAgICAgICAgcmVuZGVyRm4oX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmdldFdpZGdldFJlbmRlclN0YXRlKHJlbmRlck9wdGlvbnMpKSwge30sIHtcbiAgICAgICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2U6IHJlbmRlck9wdGlvbnMuaW5zdGFudFNlYXJjaEluc3RhbmNlXG4gICAgICAgIH0pLCBmYWxzZSk7XG4gICAgICB9LFxuICAgICAgZ2V0UmVuZGVyU3RhdGU6IGZ1bmN0aW9uIGdldFJlbmRlclN0YXRlKHJlbmRlclN0YXRlLCByZW5kZXJPcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHJlbmRlclN0YXRlKSwge30sIHtcbiAgICAgICAgICByZWZpbmVtZW50TGlzdDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCByZW5kZXJTdGF0ZS5yZWZpbmVtZW50TGlzdCksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIGF0dHJpYnV0ZSwgdGhpcy5nZXRXaWRnZXRSZW5kZXJTdGF0ZShyZW5kZXJPcHRpb25zKSkpXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGdldFdpZGdldFJlbmRlclN0YXRlOiBmdW5jdGlvbiBnZXRXaWRnZXRSZW5kZXJTdGF0ZShyZW5kZXJPcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciByZXN1bHRzID0gcmVuZGVyT3B0aW9ucy5yZXN1bHRzLFxuICAgICAgICAgIHN0YXRlID0gcmVuZGVyT3B0aW9ucy5zdGF0ZSxcbiAgICAgICAgICBfY3JlYXRlVVJMID0gcmVuZGVyT3B0aW9ucy5jcmVhdGVVUkwsXG4gICAgICAgICAgaW5zdGFudFNlYXJjaEluc3RhbmNlID0gcmVuZGVyT3B0aW9ucy5pbnN0YW50U2VhcmNoSW5zdGFuY2UsXG4gICAgICAgICAgaGVscGVyID0gcmVuZGVyT3B0aW9ucy5oZWxwZXI7XG4gICAgICAgIHZhciBpdGVtcyA9IFtdO1xuICAgICAgICB2YXIgZmFjZXRWYWx1ZXMgPSBbXTtcbiAgICAgICAgaWYgKCFzZW5kRXZlbnQgfHwgIXRyaWdnZXJSZWZpbmUgfHwgIXNlYXJjaEZvckZhY2V0VmFsdWVzKSB7XG4gICAgICAgICAgc2VuZEV2ZW50ID0gY3JlYXRlU2VuZEV2ZW50Rm9yRmFjZXQoe1xuICAgICAgICAgICAgaW5zdGFudFNlYXJjaEluc3RhbmNlOiBpbnN0YW50U2VhcmNoSW5zdGFuY2UsXG4gICAgICAgICAgICBoZWxwZXI6IGhlbHBlcixcbiAgICAgICAgICAgIGF0dHJpYnV0ZTogYXR0cmlidXRlLFxuICAgICAgICAgICAgd2lkZ2V0VHlwZTogdGhpcy4kJHR5cGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0cmlnZ2VyUmVmaW5lID0gZnVuY3Rpb24gdHJpZ2dlclJlZmluZShmYWNldFZhbHVlKSB7XG4gICAgICAgICAgICBzZW5kRXZlbnQoJ2NsaWNrOmludGVybmFsJywgZmFjZXRWYWx1ZSk7XG4gICAgICAgICAgICBoZWxwZXIudG9nZ2xlRmFjZXRSZWZpbmVtZW50KGF0dHJpYnV0ZSwgZmFjZXRWYWx1ZSkuc2VhcmNoKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBzZWFyY2hGb3JGYWNldFZhbHVlcyA9IGNyZWF0ZVNlYXJjaEZvckZhY2V0VmFsdWVzKGhlbHBlciwgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdHMpIHtcbiAgICAgICAgICB2YXIgdmFsdWVzID0gcmVzdWx0cy5nZXRGYWNldFZhbHVlcyhhdHRyaWJ1dGUsIHtcbiAgICAgICAgICAgIHNvcnRCeTogc29ydEJ5LFxuICAgICAgICAgICAgZmFjZXRPcmRlcmluZzogc29ydEJ5ID09PSBERUZBVUxUX1NPUlRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBmYWNldFZhbHVlcyA9IHZhbHVlcyAmJiBBcnJheS5pc0FycmF5KHZhbHVlcykgPyB2YWx1ZXMgOiBbXTtcbiAgICAgICAgICBpdGVtcyA9IHRyYW5zZm9ybUl0ZW1zKGZhY2V0VmFsdWVzLnNsaWNlKDAsIGdldExpbWl0KCkpLm1hcChmb3JtYXRJdGVtcyksIHtcbiAgICAgICAgICAgIHJlc3VsdHM6IHJlc3VsdHNcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgbWF4VmFsdWVzUGVyRmFjZXRDb25maWcgPSBzdGF0ZS5tYXhWYWx1ZXNQZXJGYWNldDtcbiAgICAgICAgICB2YXIgY3VycmVudExpbWl0ID0gZ2V0TGltaXQoKTtcbiAgICAgICAgICAvLyBJZiB0aGUgbGltaXQgaXMgdGhlIG1heCBudW1iZXIgb2YgZmFjZXQgcmV0cmlldmVkIGl0IGlzIGltcG9zc2libGUgdG8ga25vd1xuICAgICAgICAgIC8vIGlmIHRoZSBmYWNldHMgYXJlIGV4aGF1c3RpdmUuIFRoZSBvbmx5IG1vbWVudCB3ZSBhcmUgc3VyZSBpdCBpcyBleGhhdXN0aXZlXG4gICAgICAgICAgLy8gaXMgd2hlbiBpdCBpcyBzdHJpY3RseSB1bmRlciB0aGUgbnVtYmVyIHJlcXVlc3RlZCB1bmxlc3Mgd2Uga25vdyB0aGF0IGFub3RoZXJcbiAgICAgICAgICAvLyB3aWRnZXQgaGFzIHJlcXVlc3RlZCBtb3JlIHZhbHVlcyAobWF4VmFsdWVzUGVyRmFjZXQgPiBnZXRMaW1pdCgpKS5cbiAgICAgICAgICAvLyBCZWNhdXNlIHRoaXMgaXMgdXNlZCBmb3IgbWFraW5nIHRoZSBzZWFyY2ggb2YgZmFjZXRzIHVuYWJsZSBvciBub3QsIGl0IGlzIGltcG9ydGFudFxuICAgICAgICAgIC8vIHRvIGJlIGNvbnNlcnZhdGl2ZSBoZXJlLlxuICAgICAgICAgIGhhc0V4aGF1c3RpdmVJdGVtcyA9IG1heFZhbHVlc1BlckZhY2V0Q29uZmlnID4gY3VycmVudExpbWl0ID8gZmFjZXRWYWx1ZXMubGVuZ3RoIDw9IGN1cnJlbnRMaW1pdCA6IGZhY2V0VmFsdWVzLmxlbmd0aCA8IGN1cnJlbnRMaW1pdDtcbiAgICAgICAgICBsYXN0UmVzdWx0c0Zyb21NYWluU2VhcmNoID0gcmVzdWx0cztcbiAgICAgICAgICBsYXN0SXRlbXNGcm9tTWFpblNlYXJjaCA9IGl0ZW1zO1xuICAgICAgICAgIGlmIChyZW5kZXJPcHRpb25zLnJlc3VsdHMpIHtcbiAgICAgICAgICAgIHRvZ2dsZVNob3dNb3JlID0gY3JlYXRlVG9nZ2xlU2hvd01vcmUocmVuZGVyT3B0aW9ucywgdGhpcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRG8gbm90IG1pc3Rha2Ugc2VhcmNoRm9yRmFjZXRWYWx1ZXMgYW5kIHNlYXJjaEZhY2V0VmFsdWVzIHdoaWNoIGlzIHRoZSBhY3R1YWwgc2VhcmNoXG4gICAgICAgIC8vIGZ1bmN0aW9uXG4gICAgICAgIHZhciBzZWFyY2hGYWNldFZhbHVlcyA9IHNlYXJjaEZvckZhY2V0VmFsdWVzICYmIHNlYXJjaEZvckZhY2V0VmFsdWVzKHJlbmRlck9wdGlvbnMpO1xuICAgICAgICB2YXIgY2FuU2hvd0xlc3MgPSBpc1Nob3dpbmdNb3JlICYmIGxhc3RJdGVtc0Zyb21NYWluU2VhcmNoLmxlbmd0aCA+IGxpbWl0O1xuICAgICAgICB2YXIgY2FuU2hvd01vcmUgPSBzaG93TW9yZSAmJiAhaGFzRXhoYXVzdGl2ZUl0ZW1zO1xuICAgICAgICB2YXIgY2FuVG9nZ2xlU2hvd01vcmUgPSBjYW5TaG93TGVzcyB8fCBjYW5TaG93TW9yZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBjcmVhdGVVUkw6IGZ1bmN0aW9uIGNyZWF0ZVVSTChmYWNldFZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gX2NyZWF0ZVVSTChmdW5jdGlvbiAodWlTdGF0ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0V2lkZ2V0VWlTdGF0ZSh1aVN0YXRlLCB7XG4gICAgICAgICAgICAgICAgc2VhcmNoUGFyYW1ldGVyczogc3RhdGUucmVzZXRQYWdlKCkudG9nZ2xlRmFjZXRSZWZpbmVtZW50KGF0dHJpYnV0ZSwgZmFjZXRWYWx1ZSksXG4gICAgICAgICAgICAgICAgaGVscGVyOiBoZWxwZXJcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGl0ZW1zOiBpdGVtcyxcbiAgICAgICAgICByZWZpbmU6IHRyaWdnZXJSZWZpbmUsXG4gICAgICAgICAgc2VhcmNoRm9ySXRlbXM6IHNlYXJjaEZhY2V0VmFsdWVzLFxuICAgICAgICAgIGlzRnJvbVNlYXJjaDogZmFsc2UsXG4gICAgICAgICAgY2FuUmVmaW5lOiBpdGVtcy5sZW5ndGggPiAwLFxuICAgICAgICAgIHdpZGdldFBhcmFtczogd2lkZ2V0UGFyYW1zLFxuICAgICAgICAgIGlzU2hvd2luZ01vcmU6IGlzU2hvd2luZ01vcmUsXG4gICAgICAgICAgY2FuVG9nZ2xlU2hvd01vcmU6IGNhblRvZ2dsZVNob3dNb3JlLFxuICAgICAgICAgIHRvZ2dsZVNob3dNb3JlOiBjYWNoZWRUb2dnbGVTaG93TW9yZSxcbiAgICAgICAgICBzZW5kRXZlbnQ6IHNlbmRFdmVudCxcbiAgICAgICAgICBoYXNFeGhhdXN0aXZlSXRlbXM6IGhhc0V4aGF1c3RpdmVJdGVtc1xuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIGRpc3Bvc2U6IGZ1bmN0aW9uIGRpc3Bvc2UoX3JlZjQpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gX3JlZjQuc3RhdGU7XG4gICAgICAgIHVubW91bnRGbigpO1xuICAgICAgICB2YXIgd2l0aG91dE1heFZhbHVlc1BlckZhY2V0ID0gc3RhdGUuc2V0UXVlcnlQYXJhbWV0ZXIoJ21heFZhbHVlc1BlckZhY2V0JywgdW5kZWZpbmVkKTtcbiAgICAgICAgaWYgKG9wZXJhdG9yID09PSAnYW5kJykge1xuICAgICAgICAgIHJldHVybiB3aXRob3V0TWF4VmFsdWVzUGVyRmFjZXQucmVtb3ZlRmFjZXQoYXR0cmlidXRlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2l0aG91dE1heFZhbHVlc1BlckZhY2V0LnJlbW92ZURpc2p1bmN0aXZlRmFjZXQoYXR0cmlidXRlKTtcbiAgICAgIH0sXG4gICAgICBnZXRXaWRnZXRVaVN0YXRlOiBmdW5jdGlvbiBnZXRXaWRnZXRVaVN0YXRlKHVpU3RhdGUsIF9yZWY1KSB7XG4gICAgICAgIHZhciBzZWFyY2hQYXJhbWV0ZXJzID0gX3JlZjUuc2VhcmNoUGFyYW1ldGVycztcbiAgICAgICAgdmFyIHZhbHVlcyA9IG9wZXJhdG9yID09PSAnb3InID8gc2VhcmNoUGFyYW1ldGVycy5nZXREaXNqdW5jdGl2ZVJlZmluZW1lbnRzKGF0dHJpYnV0ZSkgOiBzZWFyY2hQYXJhbWV0ZXJzLmdldENvbmp1bmN0aXZlUmVmaW5lbWVudHMoYXR0cmlidXRlKTtcbiAgICAgICAgcmV0dXJuIHJlbW92ZUVtcHR5UmVmaW5lbWVudHNGcm9tVWlTdGF0ZShfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHVpU3RhdGUpLCB7fSwge1xuICAgICAgICAgIHJlZmluZW1lbnRMaXN0OiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHVpU3RhdGUucmVmaW5lbWVudExpc3QpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBhdHRyaWJ1dGUsIHZhbHVlcykpXG4gICAgICAgIH0pLCBhdHRyaWJ1dGUpO1xuICAgICAgfSxcbiAgICAgIGdldFdpZGdldFNlYXJjaFBhcmFtZXRlcnM6IGZ1bmN0aW9uIGdldFdpZGdldFNlYXJjaFBhcmFtZXRlcnMoc2VhcmNoUGFyYW1ldGVycywgX3JlZjYpIHtcbiAgICAgICAgdmFyIHVpU3RhdGUgPSBfcmVmNi51aVN0YXRlO1xuICAgICAgICB2YXIgaXNEaXNqdW5jdGl2ZSA9IG9wZXJhdG9yID09PSAnb3InO1xuICAgICAgICBpZiAoc2VhcmNoUGFyYW1ldGVycy5pc0hpZXJhcmNoaWNhbEZhY2V0KGF0dHJpYnV0ZSkpIHtcbiAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IHdhcm5pbmcoZmFsc2UsIFwiUmVmaW5lbWVudExpc3Q6IEF0dHJpYnV0ZSBcXFwiXCIuY29uY2F0KGF0dHJpYnV0ZSwgXCJcXFwiIGlzIGFscmVhZHkgdXNlZCBieSBhbm90aGVyIHdpZGdldCBhcHBseWluZyBoaWVyYXJjaGljYWwgZmFjZXRpbmcuXFxuQXMgdGhpcyBpcyBub3Qgc3VwcG9ydGVkLCBwbGVhc2UgbWFrZSBzdXJlIHRvIHJlbW92ZSB0aGlzIG90aGVyIHdpZGdldCBvciB0aGlzIFJlZmluZW1lbnRMaXN0IHdpZGdldCB3aWxsIG5vdCB3b3JrIGF0IGFsbC5cIikpIDogdm9pZCAwO1xuICAgICAgICAgIHJldHVybiBzZWFyY2hQYXJhbWV0ZXJzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0Rpc2p1bmN0aXZlICYmIHNlYXJjaFBhcmFtZXRlcnMuaXNDb25qdW5jdGl2ZUZhY2V0KGF0dHJpYnV0ZSkgfHwgIWlzRGlzanVuY3RpdmUgJiYgc2VhcmNoUGFyYW1ldGVycy5pc0Rpc2p1bmN0aXZlRmFjZXQoYXR0cmlidXRlKSkge1xuICAgICAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gd2FybmluZyhmYWxzZSwgXCJSZWZpbmVtZW50TGlzdDogQXR0cmlidXRlIFxcXCJcIi5jb25jYXQoYXR0cmlidXRlLCBcIlxcXCIgaXMgdXNlZCBieSBhbm90aGVyIHJlZmluZW1lbnQgbGlzdCB3aXRoIGEgZGlmZmVyZW50IG9wZXJhdG9yLlxcbkFzIHRoaXMgaXMgbm90IHN1cHBvcnRlZCwgcGxlYXNlIG1ha2Ugc3VyZSB0byBvbmx5IHVzZSB0aGlzIGF0dHJpYnV0ZSB3aXRoIG9uZSBvZiB0aGUgdHdvIG9wZXJhdG9ycy5cIikpIDogdm9pZCAwO1xuICAgICAgICAgIHJldHVybiBzZWFyY2hQYXJhbWV0ZXJzO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YWx1ZXMgPSB1aVN0YXRlLnJlZmluZW1lbnRMaXN0ICYmIHVpU3RhdGUucmVmaW5lbWVudExpc3RbYXR0cmlidXRlXTtcbiAgICAgICAgdmFyIHdpdGhGYWNldENvbmZpZ3VyYXRpb24gPSBpc0Rpc2p1bmN0aXZlID8gc2VhcmNoUGFyYW1ldGVycy5hZGREaXNqdW5jdGl2ZUZhY2V0KGF0dHJpYnV0ZSkucmVtb3ZlRGlzanVuY3RpdmVGYWNldFJlZmluZW1lbnQoYXR0cmlidXRlKSA6IHNlYXJjaFBhcmFtZXRlcnMuYWRkRmFjZXQoYXR0cmlidXRlKS5yZW1vdmVGYWNldFJlZmluZW1lbnQoYXR0cmlidXRlKTtcbiAgICAgICAgdmFyIGN1cnJlbnRNYXhWYWx1ZXNQZXJGYWNldCA9IHdpdGhGYWNldENvbmZpZ3VyYXRpb24ubWF4VmFsdWVzUGVyRmFjZXQgfHwgMDtcbiAgICAgICAgdmFyIG5leHRNYXhWYWx1ZXNQZXJGYWNldCA9IE1hdGgubWF4KGN1cnJlbnRNYXhWYWx1ZXNQZXJGYWNldCwgc2hvd01vcmUgPyBzaG93TW9yZUxpbWl0IDogbGltaXQpO1xuICAgICAgICB2YXIgd2l0aE1heFZhbHVlc1BlckZhY2V0ID0gd2l0aEZhY2V0Q29uZmlndXJhdGlvbi5zZXRRdWVyeVBhcmFtZXRlcignbWF4VmFsdWVzUGVyRmFjZXQnLCBuZXh0TWF4VmFsdWVzUGVyRmFjZXQpO1xuICAgICAgICBpZiAoIXZhbHVlcykge1xuICAgICAgICAgIHZhciBrZXkgPSBpc0Rpc2p1bmN0aXZlID8gJ2Rpc2p1bmN0aXZlRmFjZXRzUmVmaW5lbWVudHMnIDogJ2ZhY2V0c1JlZmluZW1lbnRzJztcbiAgICAgICAgICByZXR1cm4gd2l0aE1heFZhbHVlc1BlckZhY2V0LnNldFF1ZXJ5UGFyYW1ldGVycyhfZGVmaW5lUHJvcGVydHkoe30sIGtleSwgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB3aXRoTWF4VmFsdWVzUGVyRmFjZXRba2V5XSksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIGF0dHJpYnV0ZSwgW10pKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZXMucmVkdWNlKGZ1bmN0aW9uIChwYXJhbWV0ZXJzLCB2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBpc0Rpc2p1bmN0aXZlID8gcGFyYW1ldGVycy5hZGREaXNqdW5jdGl2ZUZhY2V0UmVmaW5lbWVudChhdHRyaWJ1dGUsIHZhbHVlKSA6IHBhcmFtZXRlcnMuYWRkRmFjZXRSZWZpbmVtZW50KGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAgICAgICB9LCB3aXRoTWF4VmFsdWVzUGVyRmFjZXQpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG59O1xuZnVuY3Rpb24gcmVtb3ZlRW1wdHlSZWZpbmVtZW50c0Zyb21VaVN0YXRlKGluZGV4VWlTdGF0ZSwgYXR0cmlidXRlKSB7XG4gIGlmICghaW5kZXhVaVN0YXRlLnJlZmluZW1lbnRMaXN0KSB7XG4gICAgcmV0dXJuIGluZGV4VWlTdGF0ZTtcbiAgfVxuICBpZiAoIWluZGV4VWlTdGF0ZS5yZWZpbmVtZW50TGlzdFthdHRyaWJ1dGVdIHx8IGluZGV4VWlTdGF0ZS5yZWZpbmVtZW50TGlzdFthdHRyaWJ1dGVdLmxlbmd0aCA9PT0gMCkge1xuICAgIGRlbGV0ZSBpbmRleFVpU3RhdGUucmVmaW5lbWVudExpc3RbYXR0cmlidXRlXTtcbiAgfVxuICBpZiAoT2JqZWN0LmtleXMoaW5kZXhVaVN0YXRlLnJlZmluZW1lbnRMaXN0KS5sZW5ndGggPT09IDApIHtcbiAgICBkZWxldGUgaW5kZXhVaVN0YXRlLnJlZmluZW1lbnRMaXN0O1xuICB9XG4gIHJldHVybiBpbmRleFVpU3RhdGU7XG59XG5leHBvcnQgZGVmYXVsdCBjb25uZWN0UmVmaW5lbWVudExpc3Q7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/connectors/refinement-list/connectRefinementList.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/connectors/search-box/connectSearchBox.js":
/*!************************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/connectors/search-box/connectSearchBox.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/documentation.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/noop.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/checkRendering.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\nvar withUsage = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__.createDocumentationMessageGenerator)({\n  name: 'search-box',\n  connector: true\n});\n\n/**\n * @typedef {Object} CustomSearchBoxWidgetParams\n * @property {function(string, function(string))} [queryHook = undefined] A function that will be called every time\n * a new value for the query is set. The first parameter is the query and the second is a\n * function to actually trigger the search. The function takes the query as the parameter.\n *\n * This queryHook can be used to debounce the number of searches done from the searchBox.\n */\n\nvar defaultQueryHook = function defaultQueryHook(query, hook) {\n  return hook(query);\n};\n\n/**\n * **SearchBox** connector provides the logic to build a widget that will let the user search for a query.\n *\n * The connector provides to the rendering: `refine()` to set the query. The behaviour of this function\n * may be impacted by the `queryHook` widget parameter.\n */\nvar connectSearchBox = function connectSearchBox(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.noop;\n  (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.checkRendering)(renderFn, withUsage());\n  return function (widgetParams) {\n    var _ref = widgetParams || {},\n      _ref$queryHook = _ref.queryHook,\n      queryHook = _ref$queryHook === void 0 ? defaultQueryHook : _ref$queryHook;\n    var _refine;\n    var _clear;\n    return {\n      $$type: 'ais.searchBox',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose(_ref2) {\n        var state = _ref2.state;\n        unmountFn();\n        return state.setQueryParameter('query', undefined);\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          searchBox: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref3) {\n        var helper = _ref3.helper,\n          instantSearchInstance = _ref3.instantSearchInstance,\n          state = _ref3.state;\n        if (!_refine) {\n          _refine = function _refine(query) {\n            queryHook(query, function (q) {\n              return helper.setQuery(q).search();\n            });\n          };\n          _clear = function _clear() {\n            helper.setQuery('').search();\n          };\n        }\n        return {\n          query: state.query || '',\n          refine: _refine,\n          clear: _clear,\n          widgetParams: widgetParams,\n          isSearchStalled: instantSearchInstance.status === 'stalled'\n        };\n      },\n      getWidgetUiState: function getWidgetUiState(uiState, _ref4) {\n        var searchParameters = _ref4.searchParameters;\n        var query = searchParameters.query || '';\n        if (query === '' || uiState && uiState.query === query) {\n          return uiState;\n        }\n        return _objectSpread(_objectSpread({}, uiState), {}, {\n          query: query\n        });\n      },\n      getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref5) {\n        var uiState = _ref5.uiState;\n        return searchParameters.setQueryParameter('query', uiState.query || '');\n      }\n    };\n  };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (connectSearchBox);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9jb25uZWN0b3JzL3NlYXJjaC1ib3gvY29ubmVjdFNlYXJjaEJveC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MseUJBQXlCLHdCQUF3QixvQ0FBb0MseUNBQXlDLGtDQUFrQywwREFBMEQsMEJBQTBCO0FBQ3BQLDRCQUE0QixnQkFBZ0Isc0JBQXNCLE9BQU8sa0RBQWtELHNEQUFzRCw4QkFBOEIsbUpBQW1KLHFFQUFxRSxLQUFLO0FBQzVhLG9DQUFvQyxvRUFBb0UsMERBQTBEO0FBQ2xLLDZCQUE2QixtQ0FBbUM7QUFDaEUsOEJBQThCLDRDQUE0QywrQkFBK0Isb0JBQW9CLG1DQUFtQyxzQ0FBc0MsdUVBQXVFO0FBQ3hLO0FBQ3JHLGdCQUFnQix3RkFBbUM7QUFDbkQ7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQSxhQUFhLFFBQVE7QUFDckIsY0FBYyxvQ0FBb0M7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRkFBc0YscURBQUk7QUFDMUYsRUFBRSxtRUFBYztBQUNoQjtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLDZDQUE2QztBQUM1RjtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBLCtDQUErQywrQ0FBK0M7QUFDOUY7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsNkNBQTZDLGtCQUFrQjtBQUMvRDtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGNBQWM7QUFDM0Q7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWUsZ0JBQWdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2Nvbm5lY3RvcnMvc2VhcmNoLWJveC9jb25uZWN0U2VhcmNoQm94LmpzPzFjZGUiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5pbXBvcnQgeyBjaGVja1JlbmRlcmluZywgY3JlYXRlRG9jdW1lbnRhdGlvbk1lc3NhZ2VHZW5lcmF0b3IsIG5vb3AgfSBmcm9tIFwiLi4vLi4vbGliL3V0aWxzL2luZGV4LmpzXCI7XG52YXIgd2l0aFVzYWdlID0gY3JlYXRlRG9jdW1lbnRhdGlvbk1lc3NhZ2VHZW5lcmF0b3Ioe1xuICBuYW1lOiAnc2VhcmNoLWJveCcsXG4gIGNvbm5lY3RvcjogdHJ1ZVxufSk7XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQ3VzdG9tU2VhcmNoQm94V2lkZ2V0UGFyYW1zXG4gKiBAcHJvcGVydHkge2Z1bmN0aW9uKHN0cmluZywgZnVuY3Rpb24oc3RyaW5nKSl9IFtxdWVyeUhvb2sgPSB1bmRlZmluZWRdIEEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCBldmVyeSB0aW1lXG4gKiBhIG5ldyB2YWx1ZSBmb3IgdGhlIHF1ZXJ5IGlzIHNldC4gVGhlIGZpcnN0IHBhcmFtZXRlciBpcyB0aGUgcXVlcnkgYW5kIHRoZSBzZWNvbmQgaXMgYVxuICogZnVuY3Rpb24gdG8gYWN0dWFsbHkgdHJpZ2dlciB0aGUgc2VhcmNoLiBUaGUgZnVuY3Rpb24gdGFrZXMgdGhlIHF1ZXJ5IGFzIHRoZSBwYXJhbWV0ZXIuXG4gKlxuICogVGhpcyBxdWVyeUhvb2sgY2FuIGJlIHVzZWQgdG8gZGVib3VuY2UgdGhlIG51bWJlciBvZiBzZWFyY2hlcyBkb25lIGZyb20gdGhlIHNlYXJjaEJveC5cbiAqL1xuXG52YXIgZGVmYXVsdFF1ZXJ5SG9vayA9IGZ1bmN0aW9uIGRlZmF1bHRRdWVyeUhvb2socXVlcnksIGhvb2spIHtcbiAgcmV0dXJuIGhvb2socXVlcnkpO1xufTtcblxuLyoqXG4gKiAqKlNlYXJjaEJveCoqIGNvbm5lY3RvciBwcm92aWRlcyB0aGUgbG9naWMgdG8gYnVpbGQgYSB3aWRnZXQgdGhhdCB3aWxsIGxldCB0aGUgdXNlciBzZWFyY2ggZm9yIGEgcXVlcnkuXG4gKlxuICogVGhlIGNvbm5lY3RvciBwcm92aWRlcyB0byB0aGUgcmVuZGVyaW5nOiBgcmVmaW5lKClgIHRvIHNldCB0aGUgcXVlcnkuIFRoZSBiZWhhdmlvdXIgb2YgdGhpcyBmdW5jdGlvblxuICogbWF5IGJlIGltcGFjdGVkIGJ5IHRoZSBgcXVlcnlIb29rYCB3aWRnZXQgcGFyYW1ldGVyLlxuICovXG52YXIgY29ubmVjdFNlYXJjaEJveCA9IGZ1bmN0aW9uIGNvbm5lY3RTZWFyY2hCb3gocmVuZGVyRm4pIHtcbiAgdmFyIHVubW91bnRGbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbm9vcDtcbiAgY2hlY2tSZW5kZXJpbmcocmVuZGVyRm4sIHdpdGhVc2FnZSgpKTtcbiAgcmV0dXJuIGZ1bmN0aW9uICh3aWRnZXRQYXJhbXMpIHtcbiAgICB2YXIgX3JlZiA9IHdpZGdldFBhcmFtcyB8fCB7fSxcbiAgICAgIF9yZWYkcXVlcnlIb29rID0gX3JlZi5xdWVyeUhvb2ssXG4gICAgICBxdWVyeUhvb2sgPSBfcmVmJHF1ZXJ5SG9vayA9PT0gdm9pZCAwID8gZGVmYXVsdFF1ZXJ5SG9vayA6IF9yZWYkcXVlcnlIb29rO1xuICAgIHZhciBfcmVmaW5lO1xuICAgIHZhciBfY2xlYXI7XG4gICAgcmV0dXJuIHtcbiAgICAgICQkdHlwZTogJ2Fpcy5zZWFyY2hCb3gnLFxuICAgICAgaW5pdDogZnVuY3Rpb24gaW5pdChpbml0T3B0aW9ucykge1xuICAgICAgICB2YXIgaW5zdGFudFNlYXJjaEluc3RhbmNlID0gaW5pdE9wdGlvbnMuaW5zdGFudFNlYXJjaEluc3RhbmNlO1xuICAgICAgICByZW5kZXJGbihfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMuZ2V0V2lkZ2V0UmVuZGVyU3RhdGUoaW5pdE9wdGlvbnMpKSwge30sIHtcbiAgICAgICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2U6IGluc3RhbnRTZWFyY2hJbnN0YW5jZVxuICAgICAgICB9KSwgdHJ1ZSk7XG4gICAgICB9LFxuICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIocmVuZGVyT3B0aW9ucykge1xuICAgICAgICB2YXIgaW5zdGFudFNlYXJjaEluc3RhbmNlID0gcmVuZGVyT3B0aW9ucy5pbnN0YW50U2VhcmNoSW5zdGFuY2U7XG4gICAgICAgIHJlbmRlckZuKF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdGhpcy5nZXRXaWRnZXRSZW5kZXJTdGF0ZShyZW5kZXJPcHRpb25zKSksIHt9LCB7XG4gICAgICAgICAgaW5zdGFudFNlYXJjaEluc3RhbmNlOiBpbnN0YW50U2VhcmNoSW5zdGFuY2VcbiAgICAgICAgfSksIGZhbHNlKTtcbiAgICAgIH0sXG4gICAgICBkaXNwb3NlOiBmdW5jdGlvbiBkaXNwb3NlKF9yZWYyKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IF9yZWYyLnN0YXRlO1xuICAgICAgICB1bm1vdW50Rm4oKTtcbiAgICAgICAgcmV0dXJuIHN0YXRlLnNldFF1ZXJ5UGFyYW1ldGVyKCdxdWVyeScsIHVuZGVmaW5lZCk7XG4gICAgICB9LFxuICAgICAgZ2V0UmVuZGVyU3RhdGU6IGZ1bmN0aW9uIGdldFJlbmRlclN0YXRlKHJlbmRlclN0YXRlLCByZW5kZXJPcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHJlbmRlclN0YXRlKSwge30sIHtcbiAgICAgICAgICBzZWFyY2hCb3g6IHRoaXMuZ2V0V2lkZ2V0UmVuZGVyU3RhdGUocmVuZGVyT3B0aW9ucylcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgZ2V0V2lkZ2V0UmVuZGVyU3RhdGU6IGZ1bmN0aW9uIGdldFdpZGdldFJlbmRlclN0YXRlKF9yZWYzKSB7XG4gICAgICAgIHZhciBoZWxwZXIgPSBfcmVmMy5oZWxwZXIsXG4gICAgICAgICAgaW5zdGFudFNlYXJjaEluc3RhbmNlID0gX3JlZjMuaW5zdGFudFNlYXJjaEluc3RhbmNlLFxuICAgICAgICAgIHN0YXRlID0gX3JlZjMuc3RhdGU7XG4gICAgICAgIGlmICghX3JlZmluZSkge1xuICAgICAgICAgIF9yZWZpbmUgPSBmdW5jdGlvbiBfcmVmaW5lKHF1ZXJ5KSB7XG4gICAgICAgICAgICBxdWVyeUhvb2socXVlcnksIGZ1bmN0aW9uIChxKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoZWxwZXIuc2V0UXVlcnkocSkuc2VhcmNoKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIF9jbGVhciA9IGZ1bmN0aW9uIF9jbGVhcigpIHtcbiAgICAgICAgICAgIGhlbHBlci5zZXRRdWVyeSgnJykuc2VhcmNoKCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHF1ZXJ5OiBzdGF0ZS5xdWVyeSB8fCAnJyxcbiAgICAgICAgICByZWZpbmU6IF9yZWZpbmUsXG4gICAgICAgICAgY2xlYXI6IF9jbGVhcixcbiAgICAgICAgICB3aWRnZXRQYXJhbXM6IHdpZGdldFBhcmFtcyxcbiAgICAgICAgICBpc1NlYXJjaFN0YWxsZWQ6IGluc3RhbnRTZWFyY2hJbnN0YW5jZS5zdGF0dXMgPT09ICdzdGFsbGVkJ1xuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIGdldFdpZGdldFVpU3RhdGU6IGZ1bmN0aW9uIGdldFdpZGdldFVpU3RhdGUodWlTdGF0ZSwgX3JlZjQpIHtcbiAgICAgICAgdmFyIHNlYXJjaFBhcmFtZXRlcnMgPSBfcmVmNC5zZWFyY2hQYXJhbWV0ZXJzO1xuICAgICAgICB2YXIgcXVlcnkgPSBzZWFyY2hQYXJhbWV0ZXJzLnF1ZXJ5IHx8ICcnO1xuICAgICAgICBpZiAocXVlcnkgPT09ICcnIHx8IHVpU3RhdGUgJiYgdWlTdGF0ZS5xdWVyeSA9PT0gcXVlcnkpIHtcbiAgICAgICAgICByZXR1cm4gdWlTdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB1aVN0YXRlKSwge30sIHtcbiAgICAgICAgICBxdWVyeTogcXVlcnlcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgZ2V0V2lkZ2V0U2VhcmNoUGFyYW1ldGVyczogZnVuY3Rpb24gZ2V0V2lkZ2V0U2VhcmNoUGFyYW1ldGVycyhzZWFyY2hQYXJhbWV0ZXJzLCBfcmVmNSkge1xuICAgICAgICB2YXIgdWlTdGF0ZSA9IF9yZWY1LnVpU3RhdGU7XG4gICAgICAgIHJldHVybiBzZWFyY2hQYXJhbWV0ZXJzLnNldFF1ZXJ5UGFyYW1ldGVyKCdxdWVyeScsIHVpU3RhdGUucXVlcnkgfHwgJycpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgY29ubmVjdFNlYXJjaEJveDsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/connectors/search-box/connectSearchBox.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/connectors/stats/connectStats.js":
/*!***************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/connectors/stats/connectStats.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/documentation.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/noop.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/checkRendering.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\nvar withUsage = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__.createDocumentationMessageGenerator)({\n  name: 'stats',\n  connector: true\n});\n\n/**\n * **Stats** connector provides the logic to build a custom widget that will displays\n * search statistics (hits number and processing time).\n */\n\nvar connectStats = function connectStats(renderFn) {\n  var unmountFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.noop;\n  (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.checkRendering)(renderFn, withUsage());\n  return function (widgetParams) {\n    return {\n      $$type: 'ais.stats',\n      init: function init(initOptions) {\n        var instantSearchInstance = initOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(initOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), true);\n      },\n      render: function render(renderOptions) {\n        var instantSearchInstance = renderOptions.instantSearchInstance;\n        renderFn(_objectSpread(_objectSpread({}, this.getWidgetRenderState(renderOptions)), {}, {\n          instantSearchInstance: instantSearchInstance\n        }), false);\n      },\n      dispose: function dispose() {\n        unmountFn();\n      },\n      getRenderState: function getRenderState(renderState, renderOptions) {\n        return _objectSpread(_objectSpread({}, renderState), {}, {\n          stats: this.getWidgetRenderState(renderOptions)\n        });\n      },\n      getWidgetRenderState: function getWidgetRenderState(_ref) {\n        var results = _ref.results,\n          state = _ref.state;\n        if (!results) {\n          return {\n            hitsPerPage: state.hitsPerPage,\n            nbHits: 0,\n            nbSortedHits: undefined,\n            areHitsSorted: false,\n            nbPages: 0,\n            page: state.page || 0,\n            processingTimeMS: -1,\n            query: state.query || '',\n            widgetParams: widgetParams\n          };\n        }\n        return {\n          hitsPerPage: results.hitsPerPage,\n          nbHits: results.nbHits,\n          nbSortedHits: results.nbSortedHits,\n          areHitsSorted: typeof results.appliedRelevancyStrictness !== 'undefined' && results.appliedRelevancyStrictness > 0 && results.nbSortedHits !== results.nbHits,\n          nbPages: results.nbPages,\n          page: results.page,\n          processingTimeMS: results.processingTimeMS,\n          query: results.query,\n          widgetParams: widgetParams\n        };\n      }\n    };\n  };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (connectStats);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9jb25uZWN0b3JzL3N0YXRzL2Nvbm5lY3RTdGF0cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MseUJBQXlCLHdCQUF3QixvQ0FBb0MseUNBQXlDLGtDQUFrQywwREFBMEQsMEJBQTBCO0FBQ3BQLDRCQUE0QixnQkFBZ0Isc0JBQXNCLE9BQU8sa0RBQWtELHNEQUFzRCw4QkFBOEIsbUpBQW1KLHFFQUFxRSxLQUFLO0FBQzVhLG9DQUFvQyxvRUFBb0UsMERBQTBEO0FBQ2xLLDZCQUE2QixtQ0FBbUM7QUFDaEUsOEJBQThCLDRDQUE0QywrQkFBK0Isb0JBQW9CLG1DQUFtQyxzQ0FBc0MsdUVBQXVFO0FBQ3hLO0FBQ3JHLGdCQUFnQix3RkFBbUM7QUFDbkQ7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzRkFBc0YscURBQUk7QUFDMUYsRUFBRSxtRUFBYztBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLDZDQUE2QztBQUM1RjtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBLCtDQUErQywrQ0FBK0M7QUFDOUY7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSw2Q0FBNkMsa0JBQWtCO0FBQy9EO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFlLFlBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGVjLWxvZ2ljLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2luc3RhbnRzZWFyY2guanMvZXMvY29ubmVjdG9ycy9zdGF0cy9jb25uZWN0U3RhdHMuanM/MGZlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5mdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0KSB7IHJldHVybiAociA9IF90b1Byb3BlcnR5S2V5KHIpKSBpbiBlID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIHsgdmFsdWU6IHQsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSkgOiBlW3JdID0gdCwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmltcG9ydCB7IGNoZWNrUmVuZGVyaW5nLCBjcmVhdGVEb2N1bWVudGF0aW9uTWVzc2FnZUdlbmVyYXRvciwgbm9vcCB9IGZyb20gXCIuLi8uLi9saWIvdXRpbHMvaW5kZXguanNcIjtcbnZhciB3aXRoVXNhZ2UgPSBjcmVhdGVEb2N1bWVudGF0aW9uTWVzc2FnZUdlbmVyYXRvcih7XG4gIG5hbWU6ICdzdGF0cycsXG4gIGNvbm5lY3RvcjogdHJ1ZVxufSk7XG5cbi8qKlxuICogKipTdGF0cyoqIGNvbm5lY3RvciBwcm92aWRlcyB0aGUgbG9naWMgdG8gYnVpbGQgYSBjdXN0b20gd2lkZ2V0IHRoYXQgd2lsbCBkaXNwbGF5c1xuICogc2VhcmNoIHN0YXRpc3RpY3MgKGhpdHMgbnVtYmVyIGFuZCBwcm9jZXNzaW5nIHRpbWUpLlxuICovXG5cbnZhciBjb25uZWN0U3RhdHMgPSBmdW5jdGlvbiBjb25uZWN0U3RhdHMocmVuZGVyRm4pIHtcbiAgdmFyIHVubW91bnRGbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbm9vcDtcbiAgY2hlY2tSZW5kZXJpbmcocmVuZGVyRm4sIHdpdGhVc2FnZSgpKTtcbiAgcmV0dXJuIGZ1bmN0aW9uICh3aWRnZXRQYXJhbXMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgJCR0eXBlOiAnYWlzLnN0YXRzJyxcbiAgICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoaW5pdE9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGluc3RhbnRTZWFyY2hJbnN0YW5jZSA9IGluaXRPcHRpb25zLmluc3RhbnRTZWFyY2hJbnN0YW5jZTtcbiAgICAgICAgcmVuZGVyRm4oX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmdldFdpZGdldFJlbmRlclN0YXRlKGluaXRPcHRpb25zKSksIHt9LCB7XG4gICAgICAgICAgaW5zdGFudFNlYXJjaEluc3RhbmNlOiBpbnN0YW50U2VhcmNoSW5zdGFuY2VcbiAgICAgICAgfSksIHRydWUpO1xuICAgICAgfSxcbiAgICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKHJlbmRlck9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGluc3RhbnRTZWFyY2hJbnN0YW5jZSA9IHJlbmRlck9wdGlvbnMuaW5zdGFudFNlYXJjaEluc3RhbmNlO1xuICAgICAgICByZW5kZXJGbihfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMuZ2V0V2lkZ2V0UmVuZGVyU3RhdGUocmVuZGVyT3B0aW9ucykpLCB7fSwge1xuICAgICAgICAgIGluc3RhbnRTZWFyY2hJbnN0YW5jZTogaW5zdGFudFNlYXJjaEluc3RhbmNlXG4gICAgICAgIH0pLCBmYWxzZSk7XG4gICAgICB9LFxuICAgICAgZGlzcG9zZTogZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgICAgdW5tb3VudEZuKCk7XG4gICAgICB9LFxuICAgICAgZ2V0UmVuZGVyU3RhdGU6IGZ1bmN0aW9uIGdldFJlbmRlclN0YXRlKHJlbmRlclN0YXRlLCByZW5kZXJPcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHJlbmRlclN0YXRlKSwge30sIHtcbiAgICAgICAgICBzdGF0czogdGhpcy5nZXRXaWRnZXRSZW5kZXJTdGF0ZShyZW5kZXJPcHRpb25zKVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBnZXRXaWRnZXRSZW5kZXJTdGF0ZTogZnVuY3Rpb24gZ2V0V2lkZ2V0UmVuZGVyU3RhdGUoX3JlZikge1xuICAgICAgICB2YXIgcmVzdWx0cyA9IF9yZWYucmVzdWx0cyxcbiAgICAgICAgICBzdGF0ZSA9IF9yZWYuc3RhdGU7XG4gICAgICAgIGlmICghcmVzdWx0cykge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBoaXRzUGVyUGFnZTogc3RhdGUuaGl0c1BlclBhZ2UsXG4gICAgICAgICAgICBuYkhpdHM6IDAsXG4gICAgICAgICAgICBuYlNvcnRlZEhpdHM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGFyZUhpdHNTb3J0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgbmJQYWdlczogMCxcbiAgICAgICAgICAgIHBhZ2U6IHN0YXRlLnBhZ2UgfHwgMCxcbiAgICAgICAgICAgIHByb2Nlc3NpbmdUaW1lTVM6IC0xLFxuICAgICAgICAgICAgcXVlcnk6IHN0YXRlLnF1ZXJ5IHx8ICcnLFxuICAgICAgICAgICAgd2lkZ2V0UGFyYW1zOiB3aWRnZXRQYXJhbXNcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaGl0c1BlclBhZ2U6IHJlc3VsdHMuaGl0c1BlclBhZ2UsXG4gICAgICAgICAgbmJIaXRzOiByZXN1bHRzLm5iSGl0cyxcbiAgICAgICAgICBuYlNvcnRlZEhpdHM6IHJlc3VsdHMubmJTb3J0ZWRIaXRzLFxuICAgICAgICAgIGFyZUhpdHNTb3J0ZWQ6IHR5cGVvZiByZXN1bHRzLmFwcGxpZWRSZWxldmFuY3lTdHJpY3RuZXNzICE9PSAndW5kZWZpbmVkJyAmJiByZXN1bHRzLmFwcGxpZWRSZWxldmFuY3lTdHJpY3RuZXNzID4gMCAmJiByZXN1bHRzLm5iU29ydGVkSGl0cyAhPT0gcmVzdWx0cy5uYkhpdHMsXG4gICAgICAgICAgbmJQYWdlczogcmVzdWx0cy5uYlBhZ2VzLFxuICAgICAgICAgIHBhZ2U6IHJlc3VsdHMucGFnZSxcbiAgICAgICAgICBwcm9jZXNzaW5nVGltZU1TOiByZXN1bHRzLnByb2Nlc3NpbmdUaW1lTVMsXG4gICAgICAgICAgcXVlcnk6IHJlc3VsdHMucXVlcnksXG4gICAgICAgICAgd2lkZ2V0UGFyYW1zOiB3aWRnZXRQYXJhbXNcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xufTtcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3RTdGF0czsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/connectors/stats/connectStats.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/helpers/get-insights-anonymous-user-token.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/helpers/get-insights-anonymous-user-token.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ANONYMOUS_TOKEN_COOKIE_KEY: () => (/* binding */ ANONYMOUS_TOKEN_COOKIE_KEY),\n/* harmony export */   \"default\": () => (/* binding */ getInsightsAnonymousUserToken),\n/* harmony export */   getInsightsAnonymousUserTokenInternal: () => (/* binding */ getInsightsAnonymousUserTokenInternal)\n/* harmony export */ });\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/logger.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n\nvar ANONYMOUS_TOKEN_COOKIE_KEY = '_ALGOLIA';\nfunction getCookie(name) {\n  if ((typeof document === \"undefined\" ? \"undefined\" : _typeof(document)) !== 'object' || typeof document.cookie !== 'string') {\n    return undefined;\n  }\n  var prefix = \"\".concat(name, \"=\");\n  var cookies = document.cookie.split(';');\n  for (var i = 0; i < cookies.length; i++) {\n    var cookie = cookies[i];\n    while (cookie.charAt(0) === ' ') {\n      cookie = cookie.substring(1);\n    }\n    if (cookie.indexOf(prefix) === 0) {\n      return cookie.substring(prefix.length, cookie.length);\n    }\n  }\n  return undefined;\n}\nfunction getInsightsAnonymousUserTokenInternal() {\n  return getCookie(ANONYMOUS_TOKEN_COOKIE_KEY);\n}\n\n/**\n * @deprecated This function will be still supported in 4.x releases, but not further. It is replaced by the `insights` middleware. For more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\n */\nfunction getInsightsAnonymousUserToken() {\n   true ? (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__.warning)(false, \"`getInsightsAnonymousUserToken` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : 0;\n  return getInsightsAnonymousUserTokenInternal();\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9oZWxwZXJzL2dldC1pbnNpZ2h0cy1hbm9ueW1vdXMtdXNlci10b2tlbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1A7QUFDekM7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDLGtCQUFrQixvQkFBb0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ2U7QUFDZixFQUFFLEtBQXNDLEdBQUcsNERBQU8sK1hBQStYLENBQU07QUFDdmI7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3NwZWMtbG9naWMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9oZWxwZXJzL2dldC1pbnNpZ2h0cy1hbm9ueW1vdXMtdXNlci10b2tlbi5qcz9iYWUyIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbmltcG9ydCB7IHdhcm5pbmcgfSBmcm9tIFwiLi4vbGliL3V0aWxzL2luZGV4LmpzXCI7XG5leHBvcnQgdmFyIEFOT05ZTU9VU19UT0tFTl9DT09LSUVfS0VZID0gJ19BTEdPTElBJztcbmZ1bmN0aW9uIGdldENvb2tpZShuYW1lKSB7XG4gIGlmICgodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoZG9jdW1lbnQpKSAhPT0gJ29iamVjdCcgfHwgdHlwZW9mIGRvY3VtZW50LmNvb2tpZSAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIHZhciBwcmVmaXggPSBcIlwiLmNvbmNhdChuYW1lLCBcIj1cIik7XG4gIHZhciBjb29raWVzID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY29va2llcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBjb29raWUgPSBjb29raWVzW2ldO1xuICAgIHdoaWxlIChjb29raWUuY2hhckF0KDApID09PSAnICcpIHtcbiAgICAgIGNvb2tpZSA9IGNvb2tpZS5zdWJzdHJpbmcoMSk7XG4gICAgfVxuICAgIGlmIChjb29raWUuaW5kZXhPZihwcmVmaXgpID09PSAwKSB7XG4gICAgICByZXR1cm4gY29va2llLnN1YnN0cmluZyhwcmVmaXgubGVuZ3RoLCBjb29raWUubGVuZ3RoKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRJbnNpZ2h0c0Fub255bW91c1VzZXJUb2tlbkludGVybmFsKCkge1xuICByZXR1cm4gZ2V0Q29va2llKEFOT05ZTU9VU19UT0tFTl9DT09LSUVfS0VZKTtcbn1cblxuLyoqXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgc3RpbGwgc3VwcG9ydGVkIGluIDQueCByZWxlYXNlcywgYnV0IG5vdCBmdXJ0aGVyLiBJdCBpcyByZXBsYWNlZCBieSB0aGUgYGluc2lnaHRzYCBtaWRkbGV3YXJlLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgdmlzaXQgaHR0cHM6Ly93d3cuYWxnb2xpYS5jb20vZG9jL2d1aWRlcy9nZXR0aW5nLWluc2lnaHRzLWFuZC1hbmFseXRpY3Mvc2VhcmNoLWFuYWx5dGljcy9jbGljay10aHJvdWdoLWFuZC1jb252ZXJzaW9ucy9ob3ctdG8vc2VuZC1jbGljay1hbmQtY29udmVyc2lvbi1ldmVudHMtd2l0aC1pbnN0YW50c2VhcmNoL2pzL1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBnZXRJbnNpZ2h0c0Fub255bW91c1VzZXJUb2tlbigpIHtcbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyB3YXJuaW5nKGZhbHNlLCBcImBnZXRJbnNpZ2h0c0Fub255bW91c1VzZXJUb2tlbmAgZnVuY3Rpb24gaGFzIGJlZW4gZGVwcmVjYXRlZC4gSXQgaXMgc3RpbGwgc3VwcG9ydGVkIGluIDQueCByZWxlYXNlcywgYnV0IG5vdCBmdXJ0aGVyLiBJdCBpcyByZXBsYWNlZCBieSB0aGUgYGluc2lnaHRzYCBtaWRkbGV3YXJlLlxcblxcbkZvciBtb3JlIGluZm9ybWF0aW9uLCB2aXNpdCBodHRwczovL3d3dy5hbGdvbGlhLmNvbS9kb2MvZ3VpZGVzL2dldHRpbmctaW5zaWdodHMtYW5kLWFuYWx5dGljcy9zZWFyY2gtYW5hbHl0aWNzL2NsaWNrLXRocm91Z2gtYW5kLWNvbnZlcnNpb25zL2hvdy10by9zZW5kLWNsaWNrLWFuZC1jb252ZXJzaW9uLWV2ZW50cy13aXRoLWluc3RhbnRzZWFyY2gvanMvXCIpIDogdm9pZCAwO1xuICByZXR1cm4gZ2V0SW5zaWdodHNBbm9ueW1vdXNVc2VyVG9rZW5JbnRlcm5hbCgpO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/helpers/get-insights-anonymous-user-token.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/helpers/highlight.js":
/*!***************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/helpers/highlight.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ highlight)\n/* harmony export */ });\n/* harmony import */ var _lib_suit_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/suit.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/suit.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/logger.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/getPropertyByPath.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/escape-highlight.js\");\n\n\nvar suit = (0,_lib_suit_js__WEBPACK_IMPORTED_MODULE_0__.component)('Highlight');\n\n/**\n * @deprecated use html tagged templates and the Highlight component instead\n */\nfunction highlight(_ref) {\n  var attribute = _ref.attribute,\n    _ref$highlightedTagNa = _ref.highlightedTagName,\n    highlightedTagName = _ref$highlightedTagNa === void 0 ? 'mark' : _ref$highlightedTagNa,\n    hit = _ref.hit,\n    _ref$cssClasses = _ref.cssClasses,\n    cssClasses = _ref$cssClasses === void 0 ? {} : _ref$cssClasses;\n   true ? (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.warning)(false, \"`instantsearch.highlight` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `Highlight` component.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/building-search-ui/upgrade-guides/js/?client=html+tagged+templates#upgrade-templates\") : 0;\n  var highlightAttributeResult = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.getPropertyByPath)(hit._highlightResult, attribute);\n\n  // @MAJOR fallback to attribute value if highlight is not found\n   true ? (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.warning)(highlightAttributeResult, \"Could not enable highlight for \\\"\".concat(attribute, \"\\\", will display an empty string.\\nPlease check whether this attribute exists and is either searchable or specified in `attributesToHighlight`.\\n\\nSee: https://alg.li/highlighting\\n\")) : 0;\n  var _ref2 = highlightAttributeResult || {},\n    _ref2$value = _ref2.value,\n    attributeValue = _ref2$value === void 0 ? '' : _ref2$value;\n\n  // cx is not used, since it would be bundled as a dependency for Vue\n  var className = suit({\n    descendantName: 'highlighted'\n  }) + (cssClasses.highlighted ? \" \".concat(cssClasses.highlighted) : '');\n  return attributeValue.replace(new RegExp(_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.TAG_REPLACEMENT.highlightPreTag, 'g'), \"<\".concat(highlightedTagName, \" class=\\\"\").concat(className, \"\\\">\")).replace(new RegExp(_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.TAG_REPLACEMENT.highlightPostTag, 'g'), \"</\".concat(highlightedTagName, \">\"));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9oZWxwZXJzL2hpZ2hsaWdodC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUEyQztBQUN5QztBQUNwRixXQUFXLHVEQUFTOztBQUVwQjtBQUNBO0FBQ0E7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQsRUFBRSxLQUFzQyxHQUFHLDREQUFPLGlVQUFpVSxDQUFNO0FBQ3pYLGlDQUFpQyxzRUFBaUI7O0FBRWxEO0FBQ0EsRUFBRSxLQUFzQyxHQUFHLDREQUFPLDZRQUE2USxDQUFNO0FBQ3JVLDRDQUE0QztBQUM1QztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCwyQ0FBMkMsZ0VBQWUsaUhBQWlILGdFQUFlO0FBQzFMIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2hlbHBlcnMvaGlnaGxpZ2h0LmpzPzM2MTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29tcG9uZW50IH0gZnJvbSBcIi4uL2xpYi9zdWl0LmpzXCI7XG5pbXBvcnQgeyBnZXRQcm9wZXJ0eUJ5UGF0aCwgVEFHX1JFUExBQ0VNRU5ULCB3YXJuaW5nIH0gZnJvbSBcIi4uL2xpYi91dGlscy9pbmRleC5qc1wiO1xudmFyIHN1aXQgPSBjb21wb25lbnQoJ0hpZ2hsaWdodCcpO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSBodG1sIHRhZ2dlZCB0ZW1wbGF0ZXMgYW5kIHRoZSBIaWdobGlnaHQgY29tcG9uZW50IGluc3RlYWRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGlnaGxpZ2h0KF9yZWYpIHtcbiAgdmFyIGF0dHJpYnV0ZSA9IF9yZWYuYXR0cmlidXRlLFxuICAgIF9yZWYkaGlnaGxpZ2h0ZWRUYWdOYSA9IF9yZWYuaGlnaGxpZ2h0ZWRUYWdOYW1lLFxuICAgIGhpZ2hsaWdodGVkVGFnTmFtZSA9IF9yZWYkaGlnaGxpZ2h0ZWRUYWdOYSA9PT0gdm9pZCAwID8gJ21hcmsnIDogX3JlZiRoaWdobGlnaHRlZFRhZ05hLFxuICAgIGhpdCA9IF9yZWYuaGl0LFxuICAgIF9yZWYkY3NzQ2xhc3NlcyA9IF9yZWYuY3NzQ2xhc3NlcyxcbiAgICBjc3NDbGFzc2VzID0gX3JlZiRjc3NDbGFzc2VzID09PSB2b2lkIDAgPyB7fSA6IF9yZWYkY3NzQ2xhc3NlcztcbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyB3YXJuaW5nKGZhbHNlLCBcImBpbnN0YW50c2VhcmNoLmhpZ2hsaWdodGAgZnVuY3Rpb24gaGFzIGJlZW4gZGVwcmVjYXRlZC4gSXQgaXMgc3RpbGwgc3VwcG9ydGVkIGluIDQueCByZWxlYXNlcywgYnV0IG5vdCBmdXJ0aGVyLiBJdCBpcyByZXBsYWNlZCBieSB0aGUgYEhpZ2hsaWdodGAgY29tcG9uZW50LlxcblxcbkZvciBtb3JlIGluZm9ybWF0aW9uLCB2aXNpdCBodHRwczovL3d3dy5hbGdvbGlhLmNvbS9kb2MvZ3VpZGVzL2J1aWxkaW5nLXNlYXJjaC11aS91cGdyYWRlLWd1aWRlcy9qcy8/Y2xpZW50PWh0bWwrdGFnZ2VkK3RlbXBsYXRlcyN1cGdyYWRlLXRlbXBsYXRlc1wiKSA6IHZvaWQgMDtcbiAgdmFyIGhpZ2hsaWdodEF0dHJpYnV0ZVJlc3VsdCA9IGdldFByb3BlcnR5QnlQYXRoKGhpdC5faGlnaGxpZ2h0UmVzdWx0LCBhdHRyaWJ1dGUpO1xuXG4gIC8vIEBNQUpPUiBmYWxsYmFjayB0byBhdHRyaWJ1dGUgdmFsdWUgaWYgaGlnaGxpZ2h0IGlzIG5vdCBmb3VuZFxuICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IHdhcm5pbmcoaGlnaGxpZ2h0QXR0cmlidXRlUmVzdWx0LCBcIkNvdWxkIG5vdCBlbmFibGUgaGlnaGxpZ2h0IGZvciBcXFwiXCIuY29uY2F0KGF0dHJpYnV0ZSwgXCJcXFwiLCB3aWxsIGRpc3BsYXkgYW4gZW1wdHkgc3RyaW5nLlxcblBsZWFzZSBjaGVjayB3aGV0aGVyIHRoaXMgYXR0cmlidXRlIGV4aXN0cyBhbmQgaXMgZWl0aGVyIHNlYXJjaGFibGUgb3Igc3BlY2lmaWVkIGluIGBhdHRyaWJ1dGVzVG9IaWdobGlnaHRgLlxcblxcblNlZTogaHR0cHM6Ly9hbGcubGkvaGlnaGxpZ2h0aW5nXFxuXCIpKSA6IHZvaWQgMDtcbiAgdmFyIF9yZWYyID0gaGlnaGxpZ2h0QXR0cmlidXRlUmVzdWx0IHx8IHt9LFxuICAgIF9yZWYyJHZhbHVlID0gX3JlZjIudmFsdWUsXG4gICAgYXR0cmlidXRlVmFsdWUgPSBfcmVmMiR2YWx1ZSA9PT0gdm9pZCAwID8gJycgOiBfcmVmMiR2YWx1ZTtcblxuICAvLyBjeCBpcyBub3QgdXNlZCwgc2luY2UgaXQgd291bGQgYmUgYnVuZGxlZCBhcyBhIGRlcGVuZGVuY3kgZm9yIFZ1ZVxuICB2YXIgY2xhc3NOYW1lID0gc3VpdCh7XG4gICAgZGVzY2VuZGFudE5hbWU6ICdoaWdobGlnaHRlZCdcbiAgfSkgKyAoY3NzQ2xhc3Nlcy5oaWdobGlnaHRlZCA/IFwiIFwiLmNvbmNhdChjc3NDbGFzc2VzLmhpZ2hsaWdodGVkKSA6ICcnKTtcbiAgcmV0dXJuIGF0dHJpYnV0ZVZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cChUQUdfUkVQTEFDRU1FTlQuaGlnaGxpZ2h0UHJlVGFnLCAnZycpLCBcIjxcIi5jb25jYXQoaGlnaGxpZ2h0ZWRUYWdOYW1lLCBcIiBjbGFzcz1cXFwiXCIpLmNvbmNhdChjbGFzc05hbWUsIFwiXFxcIj5cIikpLnJlcGxhY2UobmV3IFJlZ0V4cChUQUdfUkVQTEFDRU1FTlQuaGlnaGxpZ2h0UG9zdFRhZywgJ2cnKSwgXCI8L1wiLmNvbmNhdChoaWdobGlnaHRlZFRhZ05hbWUsIFwiPlwiKSk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/helpers/highlight.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/helpers/insights.js":
/*!**************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/helpers/insights.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ insights),\n/* harmony export */   readDataAttributes: () => (/* binding */ readDataAttributes),\n/* harmony export */   writeDataAttributes: () => (/* binding */ writeDataAttributes)\n/* harmony export */ });\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/serializer.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/logger.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n\n/** @deprecated use bindEvent instead */\nfunction readDataAttributes(domElement) {\n  var method = domElement.getAttribute('data-insights-method');\n  var serializedPayload = domElement.getAttribute('data-insights-payload');\n  if (typeof serializedPayload !== 'string') {\n    throw new Error('The insights helper expects `data-insights-payload` to be a base64-encoded JSON string.');\n  }\n  try {\n    var payload = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__.deserializePayload)(serializedPayload);\n    return {\n      method: method,\n      payload: payload\n    };\n  } catch (error) {\n    throw new Error('The insights helper was unable to parse `data-insights-payload`.');\n  }\n}\n\n/** @deprecated use bindEvent instead */\nfunction writeDataAttributes(_ref) {\n  var method = _ref.method,\n    payload = _ref.payload;\n  if (_typeof(payload) !== 'object') {\n    throw new Error(\"The insights helper expects the payload to be an object.\");\n  }\n  var serializedPayload;\n  try {\n    serializedPayload = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__.serializePayload)(payload);\n  } catch (error) {\n    throw new Error(\"Could not JSON serialize the payload object.\");\n  }\n  return \"data-insights-method=\\\"\".concat(method, \"\\\" data-insights-payload=\\\"\").concat(serializedPayload, \"\\\"\");\n}\n\n/**\n * @deprecated This function will be still supported in 4.x releases, but not further. It is replaced by the `insights` middleware. For more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\n */\nfunction insights(method, payload) {\n   true ? (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.warning)(false, \"`insights` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : 0;\n  return writeDataAttributes({\n    method: method,\n    payload: payload\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9oZWxwZXJzL2luc2lnaHRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDek47QUFDdEY7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQix1RUFBa0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixxRUFBZ0I7QUFDeEMsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNlO0FBQ2YsRUFBRSxLQUFzQyxHQUFHLDREQUFPLDBXQUEwVyxDQUFNO0FBQ2xhO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL3NwZWMtbG9naWMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9oZWxwZXJzL2luc2lnaHRzLmpzP2Q0MTQiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuaW1wb3J0IHsgd2FybmluZywgc2VyaWFsaXplUGF5bG9hZCwgZGVzZXJpYWxpemVQYXlsb2FkIH0gZnJvbSBcIi4uL2xpYi91dGlscy9pbmRleC5qc1wiO1xuLyoqIEBkZXByZWNhdGVkIHVzZSBiaW5kRXZlbnQgaW5zdGVhZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWREYXRhQXR0cmlidXRlcyhkb21FbGVtZW50KSB7XG4gIHZhciBtZXRob2QgPSBkb21FbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1pbnNpZ2h0cy1tZXRob2QnKTtcbiAgdmFyIHNlcmlhbGl6ZWRQYXlsb2FkID0gZG9tRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5zaWdodHMtcGF5bG9hZCcpO1xuICBpZiAodHlwZW9mIHNlcmlhbGl6ZWRQYXlsb2FkICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcignVGhlIGluc2lnaHRzIGhlbHBlciBleHBlY3RzIGBkYXRhLWluc2lnaHRzLXBheWxvYWRgIHRvIGJlIGEgYmFzZTY0LWVuY29kZWQgSlNPTiBzdHJpbmcuJyk7XG4gIH1cbiAgdHJ5IHtcbiAgICB2YXIgcGF5bG9hZCA9IGRlc2VyaWFsaXplUGF5bG9hZChzZXJpYWxpemVkUGF5bG9hZCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgcGF5bG9hZDogcGF5bG9hZFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgaW5zaWdodHMgaGVscGVyIHdhcyB1bmFibGUgdG8gcGFyc2UgYGRhdGEtaW5zaWdodHMtcGF5bG9hZGAuJyk7XG4gIH1cbn1cblxuLyoqIEBkZXByZWNhdGVkIHVzZSBiaW5kRXZlbnQgaW5zdGVhZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdyaXRlRGF0YUF0dHJpYnV0ZXMoX3JlZikge1xuICB2YXIgbWV0aG9kID0gX3JlZi5tZXRob2QsXG4gICAgcGF5bG9hZCA9IF9yZWYucGF5bG9hZDtcbiAgaWYgKF90eXBlb2YocGF5bG9hZCkgIT09ICdvYmplY3QnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGluc2lnaHRzIGhlbHBlciBleHBlY3RzIHRoZSBwYXlsb2FkIHRvIGJlIGFuIG9iamVjdC5cIik7XG4gIH1cbiAgdmFyIHNlcmlhbGl6ZWRQYXlsb2FkO1xuICB0cnkge1xuICAgIHNlcmlhbGl6ZWRQYXlsb2FkID0gc2VyaWFsaXplUGF5bG9hZChwYXlsb2FkKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgSlNPTiBzZXJpYWxpemUgdGhlIHBheWxvYWQgb2JqZWN0LlwiKTtcbiAgfVxuICByZXR1cm4gXCJkYXRhLWluc2lnaHRzLW1ldGhvZD1cXFwiXCIuY29uY2F0KG1ldGhvZCwgXCJcXFwiIGRhdGEtaW5zaWdodHMtcGF5bG9hZD1cXFwiXCIpLmNvbmNhdChzZXJpYWxpemVkUGF5bG9hZCwgXCJcXFwiXCIpO1xufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSBzdGlsbCBzdXBwb3J0ZWQgaW4gNC54IHJlbGVhc2VzLCBidXQgbm90IGZ1cnRoZXIuIEl0IGlzIHJlcGxhY2VkIGJ5IHRoZSBgaW5zaWdodHNgIG1pZGRsZXdhcmUuIEZvciBtb3JlIGluZm9ybWF0aW9uLCB2aXNpdCBodHRwczovL3d3dy5hbGdvbGlhLmNvbS9kb2MvZ3VpZGVzL2dldHRpbmctaW5zaWdodHMtYW5kLWFuYWx5dGljcy9zZWFyY2gtYW5hbHl0aWNzL2NsaWNrLXRocm91Z2gtYW5kLWNvbnZlcnNpb25zL2hvdy10by9zZW5kLWNsaWNrLWFuZC1jb252ZXJzaW9uLWV2ZW50cy13aXRoLWluc3RhbnRzZWFyY2gvanMvXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGluc2lnaHRzKG1ldGhvZCwgcGF5bG9hZCkge1xuICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IHdhcm5pbmcoZmFsc2UsIFwiYGluc2lnaHRzYCBmdW5jdGlvbiBoYXMgYmVlbiBkZXByZWNhdGVkLiBJdCBpcyBzdGlsbCBzdXBwb3J0ZWQgaW4gNC54IHJlbGVhc2VzLCBidXQgbm90IGZ1cnRoZXIuIEl0IGlzIHJlcGxhY2VkIGJ5IHRoZSBgaW5zaWdodHNgIG1pZGRsZXdhcmUuXFxuXFxuRm9yIG1vcmUgaW5mb3JtYXRpb24sIHZpc2l0IGh0dHBzOi8vd3d3LmFsZ29saWEuY29tL2RvYy9ndWlkZXMvZ2V0dGluZy1pbnNpZ2h0cy1hbmQtYW5hbHl0aWNzL3NlYXJjaC1hbmFseXRpY3MvY2xpY2stdGhyb3VnaC1hbmQtY29udmVyc2lvbnMvaG93LXRvL3NlbmQtY2xpY2stYW5kLWNvbnZlcnNpb24tZXZlbnRzLXdpdGgtaW5zdGFudHNlYXJjaC9qcy9cIikgOiB2b2lkIDA7XG4gIHJldHVybiB3cml0ZURhdGFBdHRyaWJ1dGVzKHtcbiAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICBwYXlsb2FkOiBwYXlsb2FkXG4gIH0pO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/helpers/insights.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/helpers/reverseHighlight.js":
/*!**********************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/helpers/reverseHighlight.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ reverseHighlight)\n/* harmony export */ });\n/* harmony import */ var _lib_suit_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/suit.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/suit.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/logger.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/getPropertyByPath.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/concatHighlightedParts.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/reverseHighlightedParts.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/getHighlightedParts.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/escape-highlight.js\");\n\n\nvar suit = (0,_lib_suit_js__WEBPACK_IMPORTED_MODULE_0__.component)('ReverseHighlight');\n\n/**\n * @deprecated use html tagged templates and the ReverseHighlight component instead\n */\nfunction reverseHighlight(_ref) {\n  var attribute = _ref.attribute,\n    _ref$highlightedTagNa = _ref.highlightedTagName,\n    highlightedTagName = _ref$highlightedTagNa === void 0 ? 'mark' : _ref$highlightedTagNa,\n    hit = _ref.hit,\n    _ref$cssClasses = _ref.cssClasses,\n    cssClasses = _ref$cssClasses === void 0 ? {} : _ref$cssClasses;\n   true ? (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.warning)(false, \"`instantsearch.reverseHighlight` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `ReverseHighlight` component.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/building-search-ui/upgrade-guides/js/?client=html+tagged+templates#upgrade-templates\") : 0;\n  var highlightAttributeResult = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.getPropertyByPath)(hit._highlightResult, attribute);\n\n  // @MAJOR fallback to attribute value if highlight is not found\n   true ? (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.warning)(highlightAttributeResult, \"Could not enable reverse highlight for \\\"\".concat(attribute, \"\\\", will display an empty string.\\nPlease check whether this attribute exists and is either searchable or specified in `attributesToHighlight`.\\n\\nSee: https://alg.li/highlighting\\n\")) : 0;\n  var _ref2 = highlightAttributeResult || {},\n    _ref2$value = _ref2.value,\n    attributeValue = _ref2$value === void 0 ? '' : _ref2$value;\n\n  // cx is not used, since it would be bundled as a dependency for Vue\n  var className = suit({\n    descendantName: 'highlighted'\n  }) + (cssClasses.highlighted ? \" \".concat(cssClasses.highlighted) : '');\n  var reverseHighlightedValue = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.concatHighlightedParts)((0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_4__.reverseHighlightedParts)((0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_5__.getHighlightedParts)(attributeValue)));\n  return reverseHighlightedValue.replace(new RegExp(_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_6__.TAG_REPLACEMENT.highlightPreTag, 'g'), \"<\".concat(highlightedTagName, \" class=\\\"\").concat(className, \"\\\">\")).replace(new RegExp(_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_6__.TAG_REPLACEMENT.highlightPostTag, 'g'), \"</\".concat(highlightedTagName, \">\"));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9oZWxwZXJzL3JldmVyc2VIaWdobGlnaHQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBMkM7QUFDK0c7QUFDMUosV0FBVyx1REFBUzs7QUFFcEI7QUFDQTtBQUNBO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pELEVBQUUsS0FBc0MsR0FBRyw0REFBTywrVUFBK1UsQ0FBTTtBQUN2WSxpQ0FBaUMsc0VBQWlCOztBQUVsRDtBQUNBLEVBQUUsS0FBc0MsR0FBRyw0REFBTyxxUkFBcVIsQ0FBTTtBQUM3VSw0Q0FBNEM7QUFDNUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsZ0NBQWdDLDJFQUFzQixDQUFDLDRFQUF1QixDQUFDLHdFQUFtQjtBQUNsRyxvREFBb0QsZ0VBQWUsaUhBQWlILGdFQUFlO0FBQ25NIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2hlbHBlcnMvcmV2ZXJzZUhpZ2hsaWdodC5qcz9iNmM1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNvbXBvbmVudCB9IGZyb20gXCIuLi9saWIvc3VpdC5qc1wiO1xuaW1wb3J0IHsgVEFHX1JFUExBQ0VNRU5ULCBnZXRQcm9wZXJ0eUJ5UGF0aCwgZ2V0SGlnaGxpZ2h0ZWRQYXJ0cywgcmV2ZXJzZUhpZ2hsaWdodGVkUGFydHMsIGNvbmNhdEhpZ2hsaWdodGVkUGFydHMsIHdhcm5pbmcgfSBmcm9tIFwiLi4vbGliL3V0aWxzL2luZGV4LmpzXCI7XG52YXIgc3VpdCA9IGNvbXBvbmVudCgnUmV2ZXJzZUhpZ2hsaWdodCcpO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSBodG1sIHRhZ2dlZCB0ZW1wbGF0ZXMgYW5kIHRoZSBSZXZlcnNlSGlnaGxpZ2h0IGNvbXBvbmVudCBpbnN0ZWFkXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJldmVyc2VIaWdobGlnaHQoX3JlZikge1xuICB2YXIgYXR0cmlidXRlID0gX3JlZi5hdHRyaWJ1dGUsXG4gICAgX3JlZiRoaWdobGlnaHRlZFRhZ05hID0gX3JlZi5oaWdobGlnaHRlZFRhZ05hbWUsXG4gICAgaGlnaGxpZ2h0ZWRUYWdOYW1lID0gX3JlZiRoaWdobGlnaHRlZFRhZ05hID09PSB2b2lkIDAgPyAnbWFyaycgOiBfcmVmJGhpZ2hsaWdodGVkVGFnTmEsXG4gICAgaGl0ID0gX3JlZi5oaXQsXG4gICAgX3JlZiRjc3NDbGFzc2VzID0gX3JlZi5jc3NDbGFzc2VzLFxuICAgIGNzc0NsYXNzZXMgPSBfcmVmJGNzc0NsYXNzZXMgPT09IHZvaWQgMCA/IHt9IDogX3JlZiRjc3NDbGFzc2VzO1xuICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IHdhcm5pbmcoZmFsc2UsIFwiYGluc3RhbnRzZWFyY2gucmV2ZXJzZUhpZ2hsaWdodGAgZnVuY3Rpb24gaGFzIGJlZW4gZGVwcmVjYXRlZC4gSXQgaXMgc3RpbGwgc3VwcG9ydGVkIGluIDQueCByZWxlYXNlcywgYnV0IG5vdCBmdXJ0aGVyLiBJdCBpcyByZXBsYWNlZCBieSB0aGUgYFJldmVyc2VIaWdobGlnaHRgIGNvbXBvbmVudC5cXG5cXG5Gb3IgbW9yZSBpbmZvcm1hdGlvbiwgdmlzaXQgaHR0cHM6Ly93d3cuYWxnb2xpYS5jb20vZG9jL2d1aWRlcy9idWlsZGluZy1zZWFyY2gtdWkvdXBncmFkZS1ndWlkZXMvanMvP2NsaWVudD1odG1sK3RhZ2dlZCt0ZW1wbGF0ZXMjdXBncmFkZS10ZW1wbGF0ZXNcIikgOiB2b2lkIDA7XG4gIHZhciBoaWdobGlnaHRBdHRyaWJ1dGVSZXN1bHQgPSBnZXRQcm9wZXJ0eUJ5UGF0aChoaXQuX2hpZ2hsaWdodFJlc3VsdCwgYXR0cmlidXRlKTtcblxuICAvLyBATUFKT1IgZmFsbGJhY2sgdG8gYXR0cmlidXRlIHZhbHVlIGlmIGhpZ2hsaWdodCBpcyBub3QgZm91bmRcbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyB3YXJuaW5nKGhpZ2hsaWdodEF0dHJpYnV0ZVJlc3VsdCwgXCJDb3VsZCBub3QgZW5hYmxlIHJldmVyc2UgaGlnaGxpZ2h0IGZvciBcXFwiXCIuY29uY2F0KGF0dHJpYnV0ZSwgXCJcXFwiLCB3aWxsIGRpc3BsYXkgYW4gZW1wdHkgc3RyaW5nLlxcblBsZWFzZSBjaGVjayB3aGV0aGVyIHRoaXMgYXR0cmlidXRlIGV4aXN0cyBhbmQgaXMgZWl0aGVyIHNlYXJjaGFibGUgb3Igc3BlY2lmaWVkIGluIGBhdHRyaWJ1dGVzVG9IaWdobGlnaHRgLlxcblxcblNlZTogaHR0cHM6Ly9hbGcubGkvaGlnaGxpZ2h0aW5nXFxuXCIpKSA6IHZvaWQgMDtcbiAgdmFyIF9yZWYyID0gaGlnaGxpZ2h0QXR0cmlidXRlUmVzdWx0IHx8IHt9LFxuICAgIF9yZWYyJHZhbHVlID0gX3JlZjIudmFsdWUsXG4gICAgYXR0cmlidXRlVmFsdWUgPSBfcmVmMiR2YWx1ZSA9PT0gdm9pZCAwID8gJycgOiBfcmVmMiR2YWx1ZTtcblxuICAvLyBjeCBpcyBub3QgdXNlZCwgc2luY2UgaXQgd291bGQgYmUgYnVuZGxlZCBhcyBhIGRlcGVuZGVuY3kgZm9yIFZ1ZVxuICB2YXIgY2xhc3NOYW1lID0gc3VpdCh7XG4gICAgZGVzY2VuZGFudE5hbWU6ICdoaWdobGlnaHRlZCdcbiAgfSkgKyAoY3NzQ2xhc3Nlcy5oaWdobGlnaHRlZCA/IFwiIFwiLmNvbmNhdChjc3NDbGFzc2VzLmhpZ2hsaWdodGVkKSA6ICcnKTtcbiAgdmFyIHJldmVyc2VIaWdobGlnaHRlZFZhbHVlID0gY29uY2F0SGlnaGxpZ2h0ZWRQYXJ0cyhyZXZlcnNlSGlnaGxpZ2h0ZWRQYXJ0cyhnZXRIaWdobGlnaHRlZFBhcnRzKGF0dHJpYnV0ZVZhbHVlKSkpO1xuICByZXR1cm4gcmV2ZXJzZUhpZ2hsaWdodGVkVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKFRBR19SRVBMQUNFTUVOVC5oaWdobGlnaHRQcmVUYWcsICdnJyksIFwiPFwiLmNvbmNhdChoaWdobGlnaHRlZFRhZ05hbWUsIFwiIGNsYXNzPVxcXCJcIikuY29uY2F0KGNsYXNzTmFtZSwgXCJcXFwiPlwiKSkucmVwbGFjZShuZXcgUmVnRXhwKFRBR19SRVBMQUNFTUVOVC5oaWdobGlnaHRQb3N0VGFnLCAnZycpLCBcIjwvXCIuY29uY2F0KGhpZ2hsaWdodGVkVGFnTmFtZSwgXCI+XCIpKTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/helpers/reverseHighlight.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/helpers/reverseSnippet.js":
/*!********************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/helpers/reverseSnippet.js ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ reverseSnippet)\n/* harmony export */ });\n/* harmony import */ var _lib_suit_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/suit.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/suit.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/logger.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/getPropertyByPath.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/concatHighlightedParts.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/reverseHighlightedParts.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/getHighlightedParts.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/escape-highlight.js\");\n\n\nvar suit = (0,_lib_suit_js__WEBPACK_IMPORTED_MODULE_0__.component)('ReverseSnippet');\n\n/**\n * @deprecated use html tagged templates and the ReverseSnippet component instead\n */\nfunction reverseSnippet(_ref) {\n  var attribute = _ref.attribute,\n    _ref$highlightedTagNa = _ref.highlightedTagName,\n    highlightedTagName = _ref$highlightedTagNa === void 0 ? 'mark' : _ref$highlightedTagNa,\n    hit = _ref.hit,\n    _ref$cssClasses = _ref.cssClasses,\n    cssClasses = _ref$cssClasses === void 0 ? {} : _ref$cssClasses;\n   true ? (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.warning)(false, \"`instantsearch.reverseSnippet` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `ReverseSnippet` component.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/building-search-ui/upgrade-guides/js/?client=html+tagged+templates#upgrade-templates\") : 0;\n  var snippetAttributeResult = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.getPropertyByPath)(hit._snippetResult, attribute);\n\n  // @MAJOR fallback to attribute value if snippet is not found\n   true ? (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.warning)(snippetAttributeResult, \"Could not enable reverse snippet for \\\"\".concat(attribute, \"\\\", will display an empty string.\\nPlease check whether this attribute exists and is specified in `attributesToSnippet`.\\n\\nSee: https://alg.li/highlighting\\n\")) : 0;\n  var _ref2 = snippetAttributeResult || {},\n    _ref2$value = _ref2.value,\n    attributeValue = _ref2$value === void 0 ? '' : _ref2$value;\n\n  // cx is not used, since it would be bundled as a dependency for Vue\n  var className = suit({\n    descendantName: 'highlighted'\n  }) + (cssClasses.highlighted ? \" \".concat(cssClasses.highlighted) : '');\n  var reverseHighlightedValue = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.concatHighlightedParts)((0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_4__.reverseHighlightedParts)((0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_5__.getHighlightedParts)(attributeValue)));\n  return reverseHighlightedValue.replace(new RegExp(_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_6__.TAG_REPLACEMENT.highlightPreTag, 'g'), \"<\".concat(highlightedTagName, \" class=\\\"\").concat(className, \"\\\">\")).replace(new RegExp(_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_6__.TAG_REPLACEMENT.highlightPostTag, 'g'), \"</\".concat(highlightedTagName, \">\"));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9oZWxwZXJzL3JldmVyc2VTbmlwcGV0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQTJDO0FBQytHO0FBQzFKLFdBQVcsdURBQVM7O0FBRXBCO0FBQ0E7QUFDQTtBQUNlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRCxFQUFFLEtBQXNDLEdBQUcsNERBQU8sMlVBQTJVLENBQU07QUFDblksK0JBQStCLHNFQUFpQjs7QUFFaEQ7QUFDQSxFQUFFLEtBQXNDLEdBQUcsNERBQU8sMFBBQTBQLENBQU07QUFDbFQsMENBQTBDO0FBQzFDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILGdDQUFnQywyRUFBc0IsQ0FBQyw0RUFBdUIsQ0FBQyx3RUFBbUI7QUFDbEcsb0RBQW9ELGdFQUFlLGlIQUFpSCxnRUFBZTtBQUNuTSIsInNvdXJjZXMiOlsid2VicGFjazovL3NwZWMtbG9naWMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9oZWxwZXJzL3JldmVyc2VTbmlwcGV0LmpzPzI2OWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29tcG9uZW50IH0gZnJvbSBcIi4uL2xpYi9zdWl0LmpzXCI7XG5pbXBvcnQgeyBUQUdfUkVQTEFDRU1FTlQsIGdldFByb3BlcnR5QnlQYXRoLCBnZXRIaWdobGlnaHRlZFBhcnRzLCByZXZlcnNlSGlnaGxpZ2h0ZWRQYXJ0cywgY29uY2F0SGlnaGxpZ2h0ZWRQYXJ0cywgd2FybmluZyB9IGZyb20gXCIuLi9saWIvdXRpbHMvaW5kZXguanNcIjtcbnZhciBzdWl0ID0gY29tcG9uZW50KCdSZXZlcnNlU25pcHBldCcpO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSBodG1sIHRhZ2dlZCB0ZW1wbGF0ZXMgYW5kIHRoZSBSZXZlcnNlU25pcHBldCBjb21wb25lbnQgaW5zdGVhZFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXZlcnNlU25pcHBldChfcmVmKSB7XG4gIHZhciBhdHRyaWJ1dGUgPSBfcmVmLmF0dHJpYnV0ZSxcbiAgICBfcmVmJGhpZ2hsaWdodGVkVGFnTmEgPSBfcmVmLmhpZ2hsaWdodGVkVGFnTmFtZSxcbiAgICBoaWdobGlnaHRlZFRhZ05hbWUgPSBfcmVmJGhpZ2hsaWdodGVkVGFnTmEgPT09IHZvaWQgMCA/ICdtYXJrJyA6IF9yZWYkaGlnaGxpZ2h0ZWRUYWdOYSxcbiAgICBoaXQgPSBfcmVmLmhpdCxcbiAgICBfcmVmJGNzc0NsYXNzZXMgPSBfcmVmLmNzc0NsYXNzZXMsXG4gICAgY3NzQ2xhc3NlcyA9IF9yZWYkY3NzQ2xhc3NlcyA9PT0gdm9pZCAwID8ge30gOiBfcmVmJGNzc0NsYXNzZXM7XG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gd2FybmluZyhmYWxzZSwgXCJgaW5zdGFudHNlYXJjaC5yZXZlcnNlU25pcHBldGAgZnVuY3Rpb24gaGFzIGJlZW4gZGVwcmVjYXRlZC4gSXQgaXMgc3RpbGwgc3VwcG9ydGVkIGluIDQueCByZWxlYXNlcywgYnV0IG5vdCBmdXJ0aGVyLiBJdCBpcyByZXBsYWNlZCBieSB0aGUgYFJldmVyc2VTbmlwcGV0YCBjb21wb25lbnQuXFxuXFxuRm9yIG1vcmUgaW5mb3JtYXRpb24sIHZpc2l0IGh0dHBzOi8vd3d3LmFsZ29saWEuY29tL2RvYy9ndWlkZXMvYnVpbGRpbmctc2VhcmNoLXVpL3VwZ3JhZGUtZ3VpZGVzL2pzLz9jbGllbnQ9aHRtbCt0YWdnZWQrdGVtcGxhdGVzI3VwZ3JhZGUtdGVtcGxhdGVzXCIpIDogdm9pZCAwO1xuICB2YXIgc25pcHBldEF0dHJpYnV0ZVJlc3VsdCA9IGdldFByb3BlcnR5QnlQYXRoKGhpdC5fc25pcHBldFJlc3VsdCwgYXR0cmlidXRlKTtcblxuICAvLyBATUFKT1IgZmFsbGJhY2sgdG8gYXR0cmlidXRlIHZhbHVlIGlmIHNuaXBwZXQgaXMgbm90IGZvdW5kXG4gIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gd2FybmluZyhzbmlwcGV0QXR0cmlidXRlUmVzdWx0LCBcIkNvdWxkIG5vdCBlbmFibGUgcmV2ZXJzZSBzbmlwcGV0IGZvciBcXFwiXCIuY29uY2F0KGF0dHJpYnV0ZSwgXCJcXFwiLCB3aWxsIGRpc3BsYXkgYW4gZW1wdHkgc3RyaW5nLlxcblBsZWFzZSBjaGVjayB3aGV0aGVyIHRoaXMgYXR0cmlidXRlIGV4aXN0cyBhbmQgaXMgc3BlY2lmaWVkIGluIGBhdHRyaWJ1dGVzVG9TbmlwcGV0YC5cXG5cXG5TZWU6IGh0dHBzOi8vYWxnLmxpL2hpZ2hsaWdodGluZ1xcblwiKSkgOiB2b2lkIDA7XG4gIHZhciBfcmVmMiA9IHNuaXBwZXRBdHRyaWJ1dGVSZXN1bHQgfHwge30sXG4gICAgX3JlZjIkdmFsdWUgPSBfcmVmMi52YWx1ZSxcbiAgICBhdHRyaWJ1dGVWYWx1ZSA9IF9yZWYyJHZhbHVlID09PSB2b2lkIDAgPyAnJyA6IF9yZWYyJHZhbHVlO1xuXG4gIC8vIGN4IGlzIG5vdCB1c2VkLCBzaW5jZSBpdCB3b3VsZCBiZSBidW5kbGVkIGFzIGEgZGVwZW5kZW5jeSBmb3IgVnVlXG4gIHZhciBjbGFzc05hbWUgPSBzdWl0KHtcbiAgICBkZXNjZW5kYW50TmFtZTogJ2hpZ2hsaWdodGVkJ1xuICB9KSArIChjc3NDbGFzc2VzLmhpZ2hsaWdodGVkID8gXCIgXCIuY29uY2F0KGNzc0NsYXNzZXMuaGlnaGxpZ2h0ZWQpIDogJycpO1xuICB2YXIgcmV2ZXJzZUhpZ2hsaWdodGVkVmFsdWUgPSBjb25jYXRIaWdobGlnaHRlZFBhcnRzKHJldmVyc2VIaWdobGlnaHRlZFBhcnRzKGdldEhpZ2hsaWdodGVkUGFydHMoYXR0cmlidXRlVmFsdWUpKSk7XG4gIHJldHVybiByZXZlcnNlSGlnaGxpZ2h0ZWRWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoVEFHX1JFUExBQ0VNRU5ULmhpZ2hsaWdodFByZVRhZywgJ2cnKSwgXCI8XCIuY29uY2F0KGhpZ2hsaWdodGVkVGFnTmFtZSwgXCIgY2xhc3M9XFxcIlwiKS5jb25jYXQoY2xhc3NOYW1lLCBcIlxcXCI+XCIpKS5yZXBsYWNlKG5ldyBSZWdFeHAoVEFHX1JFUExBQ0VNRU5ULmhpZ2hsaWdodFBvc3RUYWcsICdnJyksIFwiPC9cIi5jb25jYXQoaGlnaGxpZ2h0ZWRUYWdOYW1lLCBcIj5cIikpO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/helpers/reverseSnippet.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/helpers/snippet.js":
/*!*************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/helpers/snippet.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ snippet)\n/* harmony export */ });\n/* harmony import */ var _lib_suit_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/suit.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/suit.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/logger.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/getPropertyByPath.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/escape-highlight.js\");\n\n\nvar suit = (0,_lib_suit_js__WEBPACK_IMPORTED_MODULE_0__.component)('Snippet');\n\n/**\n * @deprecated use html tagged templates and the Snippet component instead\n */\nfunction snippet(_ref) {\n  var attribute = _ref.attribute,\n    _ref$highlightedTagNa = _ref.highlightedTagName,\n    highlightedTagName = _ref$highlightedTagNa === void 0 ? 'mark' : _ref$highlightedTagNa,\n    hit = _ref.hit,\n    _ref$cssClasses = _ref.cssClasses,\n    cssClasses = _ref$cssClasses === void 0 ? {} : _ref$cssClasses;\n   true ? (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.warning)(false, \"`instantsearch.snippet` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `Snippet` component.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/building-search-ui/upgrade-guides/js/?client=html+tagged+templates#upgrade-templates\") : 0;\n  var snippetAttributeResult = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.getPropertyByPath)(hit._snippetResult, attribute);\n\n  // @MAJOR fallback to attribute value if snippet is not found\n   true ? (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.warning)(snippetAttributeResult, \"Could not enable snippet for \\\"\".concat(attribute, \"\\\", will display an empty string.\\nPlease check whether this attribute exists and is specified in `attributesToSnippet`.\\n\\nSee: https://alg.li/highlighting\\n\")) : 0;\n  var _ref2 = snippetAttributeResult || {},\n    _ref2$value = _ref2.value,\n    attributeValue = _ref2$value === void 0 ? '' : _ref2$value;\n\n  // cx is not used, since it would be bundled as a dependency for Vue\n  var className = suit({\n    descendantName: 'highlighted'\n  }) + (cssClasses.highlighted ? \" \".concat(cssClasses.highlighted) : '');\n  return attributeValue.replace(new RegExp(_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.TAG_REPLACEMENT.highlightPreTag, 'g'), \"<\".concat(highlightedTagName, \" class=\\\"\").concat(className, \"\\\">\")).replace(new RegExp(_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.TAG_REPLACEMENT.highlightPostTag, 'g'), \"</\".concat(highlightedTagName, \">\"));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9oZWxwZXJzL3NuaXBwZXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMkM7QUFDeUM7QUFDcEYsV0FBVyx1REFBUzs7QUFFcEI7QUFDQTtBQUNBO0FBQ2U7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlEO0FBQ2pELEVBQUUsS0FBc0MsR0FBRyw0REFBTyw2VEFBNlQsQ0FBTTtBQUNyWCwrQkFBK0Isc0VBQWlCOztBQUVoRDtBQUNBLEVBQUUsS0FBc0MsR0FBRyw0REFBTyxrUEFBa1AsQ0FBTTtBQUMxUywwQ0FBMEM7QUFDMUM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsMkNBQTJDLGdFQUFlLGlIQUFpSCxnRUFBZTtBQUMxTCIsInNvdXJjZXMiOlsid2VicGFjazovL3NwZWMtbG9naWMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9oZWxwZXJzL3NuaXBwZXQuanM/ZDI0MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb21wb25lbnQgfSBmcm9tIFwiLi4vbGliL3N1aXQuanNcIjtcbmltcG9ydCB7IFRBR19SRVBMQUNFTUVOVCwgZ2V0UHJvcGVydHlCeVBhdGgsIHdhcm5pbmcgfSBmcm9tIFwiLi4vbGliL3V0aWxzL2luZGV4LmpzXCI7XG52YXIgc3VpdCA9IGNvbXBvbmVudCgnU25pcHBldCcpO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSBodG1sIHRhZ2dlZCB0ZW1wbGF0ZXMgYW5kIHRoZSBTbmlwcGV0IGNvbXBvbmVudCBpbnN0ZWFkXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNuaXBwZXQoX3JlZikge1xuICB2YXIgYXR0cmlidXRlID0gX3JlZi5hdHRyaWJ1dGUsXG4gICAgX3JlZiRoaWdobGlnaHRlZFRhZ05hID0gX3JlZi5oaWdobGlnaHRlZFRhZ05hbWUsXG4gICAgaGlnaGxpZ2h0ZWRUYWdOYW1lID0gX3JlZiRoaWdobGlnaHRlZFRhZ05hID09PSB2b2lkIDAgPyAnbWFyaycgOiBfcmVmJGhpZ2hsaWdodGVkVGFnTmEsXG4gICAgaGl0ID0gX3JlZi5oaXQsXG4gICAgX3JlZiRjc3NDbGFzc2VzID0gX3JlZi5jc3NDbGFzc2VzLFxuICAgIGNzc0NsYXNzZXMgPSBfcmVmJGNzc0NsYXNzZXMgPT09IHZvaWQgMCA/IHt9IDogX3JlZiRjc3NDbGFzc2VzO1xuICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IHdhcm5pbmcoZmFsc2UsIFwiYGluc3RhbnRzZWFyY2guc25pcHBldGAgZnVuY3Rpb24gaGFzIGJlZW4gZGVwcmVjYXRlZC4gSXQgaXMgc3RpbGwgc3VwcG9ydGVkIGluIDQueCByZWxlYXNlcywgYnV0IG5vdCBmdXJ0aGVyLiBJdCBpcyByZXBsYWNlZCBieSB0aGUgYFNuaXBwZXRgIGNvbXBvbmVudC5cXG5cXG5Gb3IgbW9yZSBpbmZvcm1hdGlvbiwgdmlzaXQgaHR0cHM6Ly93d3cuYWxnb2xpYS5jb20vZG9jL2d1aWRlcy9idWlsZGluZy1zZWFyY2gtdWkvdXBncmFkZS1ndWlkZXMvanMvP2NsaWVudD1odG1sK3RhZ2dlZCt0ZW1wbGF0ZXMjdXBncmFkZS10ZW1wbGF0ZXNcIikgOiB2b2lkIDA7XG4gIHZhciBzbmlwcGV0QXR0cmlidXRlUmVzdWx0ID0gZ2V0UHJvcGVydHlCeVBhdGgoaGl0Ll9zbmlwcGV0UmVzdWx0LCBhdHRyaWJ1dGUpO1xuXG4gIC8vIEBNQUpPUiBmYWxsYmFjayB0byBhdHRyaWJ1dGUgdmFsdWUgaWYgc25pcHBldCBpcyBub3QgZm91bmRcbiAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyB3YXJuaW5nKHNuaXBwZXRBdHRyaWJ1dGVSZXN1bHQsIFwiQ291bGQgbm90IGVuYWJsZSBzbmlwcGV0IGZvciBcXFwiXCIuY29uY2F0KGF0dHJpYnV0ZSwgXCJcXFwiLCB3aWxsIGRpc3BsYXkgYW4gZW1wdHkgc3RyaW5nLlxcblBsZWFzZSBjaGVjayB3aGV0aGVyIHRoaXMgYXR0cmlidXRlIGV4aXN0cyBhbmQgaXMgc3BlY2lmaWVkIGluIGBhdHRyaWJ1dGVzVG9TbmlwcGV0YC5cXG5cXG5TZWU6IGh0dHBzOi8vYWxnLmxpL2hpZ2hsaWdodGluZ1xcblwiKSkgOiB2b2lkIDA7XG4gIHZhciBfcmVmMiA9IHNuaXBwZXRBdHRyaWJ1dGVSZXN1bHQgfHwge30sXG4gICAgX3JlZjIkdmFsdWUgPSBfcmVmMi52YWx1ZSxcbiAgICBhdHRyaWJ1dGVWYWx1ZSA9IF9yZWYyJHZhbHVlID09PSB2b2lkIDAgPyAnJyA6IF9yZWYyJHZhbHVlO1xuXG4gIC8vIGN4IGlzIG5vdCB1c2VkLCBzaW5jZSBpdCB3b3VsZCBiZSBidW5kbGVkIGFzIGEgZGVwZW5kZW5jeSBmb3IgVnVlXG4gIHZhciBjbGFzc05hbWUgPSBzdWl0KHtcbiAgICBkZXNjZW5kYW50TmFtZTogJ2hpZ2hsaWdodGVkJ1xuICB9KSArIChjc3NDbGFzc2VzLmhpZ2hsaWdodGVkID8gXCIgXCIuY29uY2F0KGNzc0NsYXNzZXMuaGlnaGxpZ2h0ZWQpIDogJycpO1xuICByZXR1cm4gYXR0cmlidXRlVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKFRBR19SRVBMQUNFTUVOVC5oaWdobGlnaHRQcmVUYWcsICdnJyksIFwiPFwiLmNvbmNhdChoaWdobGlnaHRlZFRhZ05hbWUsIFwiIGNsYXNzPVxcXCJcIikuY29uY2F0KGNsYXNzTmFtZSwgXCJcXFwiPlwiKSkucmVwbGFjZShuZXcgUmVnRXhwKFRBR19SRVBMQUNFTUVOVC5oaWdobGlnaHRQb3N0VGFnLCAnZycpLCBcIjwvXCIuY29uY2F0KGhpZ2hsaWdodGVkVGFnTmFtZSwgXCI+XCIpKTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/helpers/snippet.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/InstantSearch.js":
/*!***************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/InstantSearch.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   INSTANTSEARCH_FUTURE_DEFAULTS: () => (/* binding */ INSTANTSEARCH_FUTURE_DEFAULTS),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _algolia_events__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @algolia/events */ \"(ssr)/./node_modules/@algolia/events/events.js\");\n/* harmony import */ var algoliasearch_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! algoliasearch-helper */ \"(ssr)/./node_modules/algoliasearch-helper/index.js\");\n/* harmony import */ var _middlewares_createInsightsMiddleware_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../middlewares/createInsightsMiddleware.js */ \"(ssr)/./node_modules/instantsearch.js/es/middlewares/createInsightsMiddleware.js\");\n/* harmony import */ var _middlewares_createMetadataMiddleware_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../middlewares/createMetadataMiddleware.js */ \"(ssr)/./node_modules/instantsearch.js/es/middlewares/createMetadataMiddleware.js\");\n/* harmony import */ var _middlewares_createRouterMiddleware_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../middlewares/createRouterMiddleware.js */ \"(ssr)/./node_modules/instantsearch.js/es/middlewares/createRouterMiddleware.js\");\n/* harmony import */ var _widgets_index_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../widgets/index/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/widgets/index/index.js\");\n/* harmony import */ var _createHelpers_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./createHelpers.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/createHelpers.js\");\n/* harmony import */ var _utils_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/documentation.js\");\n/* harmony import */ var _utils_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/defer.js\");\n/* harmony import */ var _utils_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/logger.js\");\n/* harmony import */ var _utils_index_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/noop.js\");\n/* harmony import */ var _utils_index_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/isIndexWidget.js\");\n/* harmony import */ var _utils_index_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/hydrateSearchClient.js\");\n/* harmony import */ var _utils_index_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/hydrateRecommendCache.js\");\n/* harmony import */ var _utils_index_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/setIndexHelperState.js\");\n/* harmony import */ var _version_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./version.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/version.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nfunction _createSuper(t) { var r = _isNativeReflectConstruct(); return function () { var e, o = _getPrototypeOf(t); if (r) { var s = _getPrototypeOf(this).constructor; e = Reflect.construct(o, arguments, s); } else e = o.apply(this, arguments); return _possibleConstructorReturn(this, e); }; }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\n\n\n\n\n\n\n\n\nvar withUsage = (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.createDocumentationMessageGenerator)({\n  name: 'instantsearch'\n});\nfunction defaultCreateURL() {\n  return '#';\n}\n\n// this purposely breaks typescript's type inference to ensure it's not used\n// as it's used for a default parameter for example\n// source: https://github.com/Microsoft/TypeScript/issues/14829#issuecomment-504042546\n\n/**\n * Global options for an InstantSearch instance.\n */\n\nvar INSTANTSEARCH_FUTURE_DEFAULTS = {\n  preserveSharedStateOnUnmount: false,\n  persistHierarchicalRootCount: false\n};\n\n/**\n * The actual implementation of the InstantSearch. This is\n * created using the `instantsearch` factory function.\n * It emits the 'render' event every time a search is done\n */\nvar InstantSearch = /*#__PURE__*/function (_EventEmitter) {\n  _inherits(InstantSearch, _EventEmitter);\n  var _super = _createSuper(InstantSearch);\n  function InstantSearch(options) {\n    var _options$future2;\n    var _this;\n    _classCallCheck(this, InstantSearch);\n    _this = _super.call(this);\n\n    // prevent `render` event listening from causing a warning\n    _defineProperty(_assertThisInitialized(_this), \"client\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"indexName\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"compositionID\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"insightsClient\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"onStateChange\", null);\n    _defineProperty(_assertThisInitialized(_this), \"future\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"helper\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"mainHelper\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"mainIndex\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"started\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"templatesConfig\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"renderState\", {});\n    _defineProperty(_assertThisInitialized(_this), \"_stalledSearchDelay\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_searchStalledTimer\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_initialUiState\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_initialResults\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_manuallyResetScheduleSearch\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_resetScheduleSearch\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_createURL\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_searchFunction\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_mainHelperSearch\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_hasSearchWidget\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_hasRecommendWidget\", false);\n    _defineProperty(_assertThisInitialized(_this), \"_insights\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"middleware\", []);\n    _defineProperty(_assertThisInitialized(_this), \"sendEventToInsights\", void 0);\n    /**\n     * The status of the search. Can be \"idle\", \"loading\", \"stalled\", or \"error\".\n     */\n    _defineProperty(_assertThisInitialized(_this), \"status\", 'idle');\n    /**\n     * The last returned error from the Search API.\n     * The error gets cleared when the next valid search response is rendered.\n     */\n    _defineProperty(_assertThisInitialized(_this), \"error\", undefined);\n    _defineProperty(_assertThisInitialized(_this), \"scheduleSearch\", (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.defer)(function () {\n      if (_this.started) {\n        _this.mainHelper.search();\n      }\n    }));\n    _defineProperty(_assertThisInitialized(_this), \"scheduleRender\", (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.defer)(function () {\n      var _this$mainHelper;\n      var shouldResetStatus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      if (!((_this$mainHelper = _this.mainHelper) !== null && _this$mainHelper !== void 0 && _this$mainHelper.hasPendingRequests())) {\n        clearTimeout(_this._searchStalledTimer);\n        _this._searchStalledTimer = null;\n        if (shouldResetStatus) {\n          _this.status = 'idle';\n          _this.error = undefined;\n        }\n      }\n      _this.mainIndex.render({\n        instantSearchInstance: _assertThisInitialized(_this)\n      });\n      _this.emit('render');\n    }));\n    _defineProperty(_assertThisInitialized(_this), \"onInternalStateChange\", (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.defer)(function () {\n      var nextUiState = _this.mainIndex.getWidgetUiState({});\n      _this.middleware.forEach(function (_ref) {\n        var instance = _ref.instance;\n        instance.onStateChange({\n          uiState: nextUiState\n        });\n      });\n    }));\n    _this.setMaxListeners(100);\n    var _options$indexName = options.indexName,\n      indexName = _options$indexName === void 0 ? '' : _options$indexName,\n      compositionID = options.compositionID,\n      numberLocale = options.numberLocale,\n      _options$initialUiSta = options.initialUiState,\n      initialUiState = _options$initialUiSta === void 0 ? {} : _options$initialUiSta,\n      _options$routing = options.routing,\n      routing = _options$routing === void 0 ? null : _options$routing,\n      _options$insights = options.insights,\n      insights = _options$insights === void 0 ? undefined : _options$insights,\n      searchFunction = options.searchFunction,\n      _options$stalledSearc = options.stalledSearchDelay,\n      stalledSearchDelay = _options$stalledSearc === void 0 ? 200 : _options$stalledSearc,\n      _options$searchClient = options.searchClient,\n      searchClient = _options$searchClient === void 0 ? null : _options$searchClient,\n      _options$insightsClie = options.insightsClient,\n      insightsClient = _options$insightsClie === void 0 ? null : _options$insightsClie,\n      _options$onStateChang = options.onStateChange,\n      onStateChange = _options$onStateChang === void 0 ? null : _options$onStateChang,\n      _options$future = options.future,\n      future = _options$future === void 0 ? _objectSpread(_objectSpread({}, INSTANTSEARCH_FUTURE_DEFAULTS), options.future || {}) : _options$future;\n    if (searchClient === null) {\n      throw new Error(withUsage('The `searchClient` option is required.'));\n    }\n    if (typeof searchClient.search !== 'function') {\n      throw new Error(\"The `searchClient` must implement a `search` method.\\n\\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/\");\n    }\n    if (typeof searchClient.addAlgoliaAgent === 'function') {\n      searchClient.addAlgoliaAgent(\"instantsearch.js (\".concat(_version_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"], \")\"));\n    }\n     true ? (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_5__.warning)(insightsClient === null, \"`insightsClient` property has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\\n\\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/\") : 0;\n    if (insightsClient && typeof insightsClient !== 'function') {\n      throw new Error(withUsage('The `insightsClient` option should be a function.'));\n    }\n     true ? (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_5__.warning)(!options.searchParameters, \"The `searchParameters` option is deprecated and will not be supported in InstantSearch.js 4.x.\\n\\nYou can replace it with the `configure` widget:\\n\\n```\\nsearch.addWidgets([\\n  configure(\".concat(JSON.stringify(options.searchParameters, null, 2), \")\\n]);\\n```\\n\\nSee \").concat((0,_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.createDocumentationLink)({\n      name: 'configure'\n    }))) : 0;\n    if ( true && ((_options$future2 = options.future) === null || _options$future2 === void 0 ? void 0 : _options$future2.preserveSharedStateOnUnmount) === undefined) {\n      // eslint-disable-next-line no-console\n      console.info(\"Starting from the next major version, InstantSearch will change how widgets state is preserved when they are removed. InstantSearch will keep the state of unmounted widgets to be usable by other widgets with the same attribute.\\n\\nWe recommend setting `future.preserveSharedStateOnUnmount` to true to adopt this change today.\\nTo stay with the current behaviour and remove this warning, set the option to false.\\n\\nSee documentation: \".concat((0,_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.createDocumentationLink)({\n        name: 'instantsearch'\n      }), \"#widget-param-future\\n          \"));\n    }\n    _this.client = searchClient;\n    _this.future = future;\n    _this.insightsClient = insightsClient;\n    _this.indexName = indexName;\n    _this.compositionID = compositionID;\n    _this.helper = null;\n    _this.mainHelper = null;\n    _this.mainIndex = (0,_widgets_index_index_js__WEBPACK_IMPORTED_MODULE_6__[\"default\"])({\n      // we use an index widget to render compositions\n      // this only works because there's only one composition index allow for now\n      indexName: _this.compositionID || _this.indexName\n    });\n    _this.onStateChange = onStateChange;\n    _this.started = false;\n    _this.templatesConfig = {\n      helpers: (0,_createHelpers_js__WEBPACK_IMPORTED_MODULE_7__[\"default\"])({\n        numberLocale: numberLocale\n      }),\n      compileOptions: {}\n    };\n    _this._stalledSearchDelay = stalledSearchDelay;\n    _this._searchStalledTimer = null;\n    _this._createURL = defaultCreateURL;\n    _this._initialUiState = initialUiState;\n    _this._initialResults = null;\n    _this._insights = insights;\n    if (searchFunction) {\n       true ? (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_5__.warning)(false, \"The `searchFunction` option is deprecated. Use `onStateChange` instead.\") : 0;\n      _this._searchFunction = searchFunction;\n    }\n    _this.sendEventToInsights = _utils_index_js__WEBPACK_IMPORTED_MODULE_8__.noop;\n    if (routing) {\n      var routerOptions = typeof routing === 'boolean' ? {} : routing;\n      routerOptions.$$internal = true;\n      _this.use((0,_middlewares_createRouterMiddleware_js__WEBPACK_IMPORTED_MODULE_9__.createRouterMiddleware)(routerOptions));\n    }\n\n    // This is the default Insights middleware,\n    // added when `insights` is set to true by the user.\n    // Any user-provided middleware will be added later and override this one.\n    if (insights) {\n      var insightsOptions = typeof insights === 'boolean' ? {} : insights;\n      insightsOptions.$$internal = true;\n      _this.use((0,_middlewares_createInsightsMiddleware_js__WEBPACK_IMPORTED_MODULE_10__.createInsightsMiddleware)(insightsOptions));\n    }\n    if ((0,_middlewares_createMetadataMiddleware_js__WEBPACK_IMPORTED_MODULE_11__.isMetadataEnabled)()) {\n      _this.use((0,_middlewares_createMetadataMiddleware_js__WEBPACK_IMPORTED_MODULE_11__.createMetadataMiddleware)({\n        $$internal: true\n      }));\n    }\n    return _this;\n  }\n\n  /**\n   * Hooks a middleware into the InstantSearch lifecycle.\n   */\n  _createClass(InstantSearch, [{\n    key: \"_isSearchStalled\",\n    get:\n    /**\n     * @deprecated use `status === 'stalled'` instead\n     */\n    function get() {\n       true ? (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_5__.warning)(false, \"`InstantSearch._isSearchStalled` is deprecated and will be removed in InstantSearch.js 5.0.\\n\\nUse `InstantSearch.status === \\\"stalled\\\"` instead.\") : 0;\n      return this.status === 'stalled';\n    }\n  }, {\n    key: \"use\",\n    value: function use() {\n      var _this2 = this;\n      for (var _len = arguments.length, middleware = new Array(_len), _key = 0; _key < _len; _key++) {\n        middleware[_key] = arguments[_key];\n      }\n      var newMiddlewareList = middleware.map(function (fn) {\n        var newMiddleware = _objectSpread({\n          $$type: '__unknown__',\n          $$internal: false,\n          subscribe: _utils_index_js__WEBPACK_IMPORTED_MODULE_8__.noop,\n          started: _utils_index_js__WEBPACK_IMPORTED_MODULE_8__.noop,\n          unsubscribe: _utils_index_js__WEBPACK_IMPORTED_MODULE_8__.noop,\n          onStateChange: _utils_index_js__WEBPACK_IMPORTED_MODULE_8__.noop\n        }, fn({\n          instantSearchInstance: _this2\n        }));\n        _this2.middleware.push({\n          creator: fn,\n          instance: newMiddleware\n        });\n        return newMiddleware;\n      });\n\n      // If the instance has already started, we directly subscribe the\n      // middleware so they're notified of changes.\n      if (this.started) {\n        newMiddlewareList.forEach(function (m) {\n          m.subscribe();\n          m.started();\n        });\n      }\n      return this;\n    }\n\n    /**\n     * Removes a middleware from the InstantSearch lifecycle.\n     */\n  }, {\n    key: \"unuse\",\n    value: function unuse() {\n      for (var _len2 = arguments.length, middlewareToUnuse = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        middlewareToUnuse[_key2] = arguments[_key2];\n      }\n      this.middleware.filter(function (m) {\n        return middlewareToUnuse.includes(m.creator);\n      }).forEach(function (m) {\n        return m.instance.unsubscribe();\n      });\n      this.middleware = this.middleware.filter(function (m) {\n        return !middlewareToUnuse.includes(m.creator);\n      });\n      return this;\n    }\n\n    // @major we shipped with EXPERIMENTAL_use, but have changed that to just `use` now\n  }, {\n    key: \"EXPERIMENTAL_use\",\n    value: function EXPERIMENTAL_use() {\n       true ? (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_5__.warning)(false, 'The middleware API is now considered stable, so we recommend replacing `EXPERIMENTAL_use` with `use` before upgrading to the next major version.') : 0;\n      return this.use.apply(this, arguments);\n    }\n\n    /**\n     * Adds a widget to the search instance.\n     * A widget can be added either before or after InstantSearch has started.\n     * @param widget The widget to add to InstantSearch.\n     *\n     * @deprecated This method will still be supported in 4.x releases, but not further. It is replaced by `addWidgets([widget])`.\n     */\n  }, {\n    key: \"addWidget\",\n    value: function addWidget(widget) {\n       true ? (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_5__.warning)(false, 'addWidget will still be supported in 4.x releases, but not further. It is replaced by `addWidgets([widget])`') : 0;\n      return this.addWidgets([widget]);\n    }\n\n    /**\n     * Adds multiple widgets to the search instance.\n     * Widgets can be added either before or after InstantSearch has started.\n     * @param widgets The array of widgets to add to InstantSearch.\n     */\n  }, {\n    key: \"addWidgets\",\n    value: function addWidgets(widgets) {\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `addWidgets` method expects an array of widgets. Please use `addWidget`.'));\n      }\n      if (this.compositionID && widgets.some(function (w) {\n        return !Array.isArray(w) && (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_12__.isIndexWidget)(w) && !w._isolated;\n      })) {\n        throw new Error(withUsage('The `index` widget cannot be used with a composition-based InstantSearch implementation.'));\n      }\n      this.mainIndex.addWidgets(widgets);\n      return this;\n    }\n\n    /**\n     * Removes a widget from the search instance.\n     * @deprecated This method will still be supported in 4.x releases, but not further. It is replaced by `removeWidgets([widget])`\n     * @param widget The widget instance to remove from InstantSearch.\n     *\n     * The widget must implement a `dispose()` method to clear its state.\n     */\n  }, {\n    key: \"removeWidget\",\n    value: function removeWidget(widget) {\n       true ? (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_5__.warning)(false, 'removeWidget will still be supported in 4.x releases, but not further. It is replaced by `removeWidgets([widget])`') : 0;\n      return this.removeWidgets([widget]);\n    }\n\n    /**\n     * Removes multiple widgets from the search instance.\n     * @param widgets Array of widgets instances to remove from InstantSearch.\n     *\n     * The widgets must implement a `dispose()` method to clear their states.\n     */\n  }, {\n    key: \"removeWidgets\",\n    value: function removeWidgets(widgets) {\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `removeWidgets` method expects an array of widgets. Please use `removeWidget`.'));\n      }\n      this.mainIndex.removeWidgets(widgets);\n      return this;\n    }\n\n    /**\n     * Ends the initialization of InstantSearch.js and triggers the\n     * first search.\n     */\n  }, {\n    key: \"start\",\n    value: function start() {\n      var _this3 = this;\n      if (this.started) {\n        throw new Error(withUsage('The `start` method has already been called once.'));\n      }\n\n      // This Helper is used for the queries, we don't care about its state. The\n      // states are managed at the `index` level. We use this Helper to create\n      // DerivedHelper scoped into the `index` widgets.\n      // In Vue InstantSearch' hydrate, a main helper gets set before start, so\n      // we need to respect this helper as a way to keep all listeners correct.\n      var mainHelper = this.mainHelper || algoliasearch_helper__WEBPACK_IMPORTED_MODULE_1__(this.client, this.indexName, undefined, {\n        persistHierarchicalRootCount: this.future.persistHierarchicalRootCount\n      });\n      if (this.compositionID) {\n        mainHelper.searchForFacetValues = mainHelper.searchForCompositionFacetValues.bind(mainHelper);\n      }\n      mainHelper.search = function () {\n        _this3.status = 'loading';\n        _this3.scheduleRender(false);\n         true ? (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_5__.warning)(Boolean(_this3.indexName) || Boolean(_this3.compositionID) || _this3.mainIndex.getWidgets().some(_utils_index_js__WEBPACK_IMPORTED_MODULE_12__.isIndexWidget), 'No indexName provided, nor an explicit index widget in the widgets tree. This is required to be able to display results.') : 0;\n\n        // This solution allows us to keep the exact same API for the users but\n        // under the hood, we have a different implementation. It should be\n        // completely transparent for the rest of the codebase. Only this module\n        // is impacted.\n        if (_this3._hasSearchWidget) {\n          if (_this3.compositionID) {\n            mainHelper.searchWithComposition();\n          } else {\n            mainHelper.searchOnlyWithDerivedHelpers();\n          }\n        }\n        if (_this3._hasRecommendWidget) {\n          mainHelper.recommend();\n        }\n        return mainHelper;\n      };\n      if (this._searchFunction) {\n        // this client isn't used to actually search, but required for the helper\n        // to not throw errors\n        var fakeClient = {\n          search: function search() {\n            return new Promise(_utils_index_js__WEBPACK_IMPORTED_MODULE_8__.noop);\n          }\n        };\n        this._mainHelperSearch = mainHelper.search.bind(mainHelper);\n        mainHelper.search = function () {\n          var mainIndexHelper = _this3.mainIndex.getHelper();\n          var searchFunctionHelper = algoliasearch_helper__WEBPACK_IMPORTED_MODULE_1__(fakeClient, mainIndexHelper.state.index, mainIndexHelper.state);\n          searchFunctionHelper.once('search', function (_ref2) {\n            var state = _ref2.state;\n            mainIndexHelper.overrideStateWithoutTriggeringChangeEvent(state);\n            _this3._mainHelperSearch();\n          });\n          // Forward state changes from `searchFunctionHelper` to `mainIndexHelper`\n          searchFunctionHelper.on('change', function (_ref3) {\n            var state = _ref3.state;\n            mainIndexHelper.setState(state);\n          });\n          _this3._searchFunction(searchFunctionHelper);\n          return mainHelper;\n        };\n      }\n\n      // Only the \"main\" Helper emits the `error` event vs the one for `search`\n      // and `results` that are also emitted on the derived one.\n      mainHelper.on('error', function (_ref4) {\n        var error = _ref4.error;\n        if (!(error instanceof Error)) {\n          // typescript lies here, error is in some cases { name: string, message: string }\n          var err = error;\n          error = Object.keys(err).reduce(function (acc, key) {\n            acc[key] = err[key];\n            return acc;\n          }, new Error(err.message));\n        }\n        // If an error is emitted, it is re-thrown by events. In previous versions\n        // we emitted {error}, which is thrown as:\n        // \"Uncaught, unspecified \\\"error\\\" event. ([object Object])\"\n        // To avoid breaking changes, we make the error available in both\n        // `error` and `error.error`\n        // @MAJOR emit only error\n        error.error = error;\n        _this3.error = error;\n        _this3.status = 'error';\n        _this3.scheduleRender(false);\n\n        // This needs to execute last because it throws the error.\n        _this3.emit('error', error);\n      });\n      this.mainHelper = mainHelper;\n      this.middleware.forEach(function (_ref5) {\n        var instance = _ref5.instance;\n        instance.subscribe();\n      });\n      this.mainIndex.init({\n        instantSearchInstance: this,\n        parent: null,\n        uiState: this._initialUiState\n      });\n      if (this._initialResults) {\n        (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_13__.hydrateSearchClient)(this.client, this._initialResults);\n        (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_14__.hydrateRecommendCache)(this.mainHelper, this._initialResults);\n        var originalScheduleSearch = this.scheduleSearch;\n        // We don't schedule a first search when initial results are provided\n        // because we already have the results to render. This skips the initial\n        // network request on the browser on `start`.\n        this.scheduleSearch = (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.defer)(_utils_index_js__WEBPACK_IMPORTED_MODULE_8__.noop);\n        if (this._manuallyResetScheduleSearch) {\n          // If `_manuallyResetScheduleSearch` is passed, it means that we don't\n          // want to rely on a single `defer` to reset the `scheduleSearch`.\n          // Instead, the consumer will call `_resetScheduleSearch` to restore\n          // the original `scheduleSearch` function.\n          // This happens in the React flavour after rendering.\n          this._resetScheduleSearch = function () {\n            _this3.scheduleSearch = originalScheduleSearch;\n          };\n        } else {\n          // We also skip the initial network request when widgets are dynamically\n          // added in the first tick (that's the case in all the framework-based flavors).\n          // When we add a widget to `index`, it calls `scheduleSearch`. We can rely\n          // on our `defer` util to restore the original `scheduleSearch` value once\n          // widgets are added to hook back to the regular lifecycle.\n          (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.defer)(function () {\n            _this3.scheduleSearch = originalScheduleSearch;\n          })();\n        }\n      }\n      // We only schedule a search when widgets have been added before `start()`\n      // because there are listeners that can use these results.\n      // This is especially useful in framework-based flavors that wait for\n      // dynamically-added widgets to trigger a network request. It avoids\n      // having to batch this initial network request with the one coming from\n      // `addWidgets()`.\n      // Later, we could also skip `index()` widgets and widgets that don't read\n      // the results, but this is an optimization that has a very low impact for now.\n      else if (this.mainIndex.getWidgets().length > 0) {\n        this.scheduleSearch();\n      }\n\n      // Keep the previous reference for legacy purpose, some pattern use\n      // the direct Helper access `search.helper` (e.g multi-index).\n      this.helper = this.mainIndex.getHelper();\n\n      // track we started the search if we add more widgets,\n      // to init them directly after add\n      this.started = true;\n      this.middleware.forEach(function (_ref6) {\n        var instance = _ref6.instance;\n        instance.started();\n      });\n\n      // This is the automatic Insights middleware,\n      // added when `insights` is unset and the initial results possess `queryID`.\n      // Any user-provided middleware will be added later and override this one.\n      if (typeof this._insights === 'undefined') {\n        mainHelper.derivedHelpers[0].once('result', function () {\n          var hasAutomaticInsights = _this3.mainIndex.getScopedResults().some(function (_ref7) {\n            var results = _ref7.results;\n            return results === null || results === void 0 ? void 0 : results._automaticInsights;\n          });\n          if (hasAutomaticInsights) {\n            _this3.use((0,_middlewares_createInsightsMiddleware_js__WEBPACK_IMPORTED_MODULE_10__.createInsightsMiddleware)({\n              $$internal: true,\n              $$automatic: true\n            }));\n          }\n        });\n      }\n    }\n\n    /**\n     * Removes all widgets without triggering a search afterwards.\n     * @return {undefined} This method does not return anything\n     */\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      var _this$mainHelper2;\n      this.scheduleSearch.cancel();\n      this.scheduleRender.cancel();\n      clearTimeout(this._searchStalledTimer);\n      this.removeWidgets(this.mainIndex.getWidgets());\n      this.mainIndex.dispose();\n\n      // You can not start an instance two times, therefore a disposed instance\n      // needs to set started as false otherwise this can not be restarted at a\n      // later point.\n      this.started = false;\n\n      // The helper needs to be reset to perform the next search from a fresh state.\n      // If not reset, it would use the state stored before calling `dispose()`.\n      this.removeAllListeners();\n      (_this$mainHelper2 = this.mainHelper) === null || _this$mainHelper2 === void 0 ? void 0 : _this$mainHelper2.removeAllListeners();\n      this.mainHelper = null;\n      this.helper = null;\n      this.middleware.forEach(function (_ref8) {\n        var instance = _ref8.instance;\n        instance.unsubscribe();\n      });\n    }\n  }, {\n    key: \"scheduleStalledRender\",\n    value: function scheduleStalledRender() {\n      var _this4 = this;\n      if (!this._searchStalledTimer) {\n        this._searchStalledTimer = setTimeout(function () {\n          _this4.status = 'stalled';\n          _this4.scheduleRender();\n        }, this._stalledSearchDelay);\n      }\n    }\n\n    /**\n     * Set the UI state and trigger a search.\n     * @param uiState The next UI state or a function computing it from the current state\n     * @param callOnStateChange private parameter used to know if the method is called from a state change\n     */\n  }, {\n    key: \"setUiState\",\n    value: function setUiState(uiState) {\n      var _this5 = this;\n      var callOnStateChange = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      if (!this.mainHelper) {\n        throw new Error(withUsage('The `start` method needs to be called before `setUiState`.'));\n      }\n\n      // We refresh the index UI state to update the local UI state that the\n      // main index passes to the function form of `setUiState`.\n      this.mainIndex.refreshUiState();\n      var nextUiState = typeof uiState === 'function' ? uiState(this.mainIndex.getWidgetUiState({})) : uiState;\n      if (this.onStateChange && callOnStateChange) {\n        this.onStateChange({\n          uiState: nextUiState,\n          setUiState: function setUiState(finalUiState) {\n            (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_15__.setIndexHelperState)(typeof finalUiState === 'function' ? finalUiState(nextUiState) : finalUiState, _this5.mainIndex);\n            _this5.scheduleSearch();\n            _this5.onInternalStateChange();\n          }\n        });\n      } else {\n        (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_15__.setIndexHelperState)(nextUiState, this.mainIndex);\n        this.scheduleSearch();\n        this.onInternalStateChange();\n      }\n    }\n  }, {\n    key: \"getUiState\",\n    value: function getUiState() {\n      if (this.started) {\n        // We refresh the index UI state to make sure changes from `refine` are taken in account\n        this.mainIndex.refreshUiState();\n      }\n      return this.mainIndex.getWidgetUiState({});\n    }\n  }, {\n    key: \"createURL\",\n    value: function createURL() {\n      var nextState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      if (!this.started) {\n        throw new Error(withUsage('The `start` method needs to be called before `createURL`.'));\n      }\n      return this._createURL(nextState);\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      if (!this.mainHelper) {\n        throw new Error(withUsage('The `start` method needs to be called before `refresh`.'));\n      }\n      this.mainHelper.clearCache().search();\n    }\n  }]);\n  return InstantSearch;\n}(_algolia_events__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (InstantSearch);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvSW5zdGFudFNlYXJjaC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUMvUyx5QkFBeUIsd0JBQXdCLG9DQUFvQyx5Q0FBeUMsa0NBQWtDLDBEQUEwRCwwQkFBMEI7QUFDcFAsNEJBQTRCLGdCQUFnQixzQkFBc0IsT0FBTyxrREFBa0Qsc0RBQXNELDhCQUE4QixtSkFBbUoscUVBQXFFLEtBQUs7QUFDNWEsaUNBQWlDO0FBQ2pDLG1DQUFtQyxnQkFBZ0IsY0FBYyxPQUFPLGNBQWM7QUFDdEYsaUNBQWlDLHFIQUFxSCxjQUFjO0FBQ3BLLDJCQUEyQixxSEFBcUgsZ0RBQWdELGVBQWUsNENBQTRDLDJDQUEyQyxjQUFjO0FBQ3BULGlDQUFpQyxrR0FBa0csNEJBQTRCO0FBQy9KLDJCQUEyQixxQ0FBcUMscUJBQXFCLCtCQUErQixTQUFTLDJDQUEyQywwQ0FBMEMsbUNBQW1DO0FBQ3JQLDRDQUE0Qyx1RUFBdUUsbUdBQW1HO0FBQ3ROLHFDQUFxQyx5R0FBeUc7QUFDOUksdUNBQXVDLE1BQU0scUZBQXFGLE1BQU0sYUFBYSwyRUFBMkUsYUFBYTtBQUM3Tyw4QkFBOEIsK0ZBQStGLGlEQUFpRDtBQUM5SyxvQ0FBb0Msb0VBQW9FLDBEQUEwRDtBQUNsSyw2QkFBNkIsbUNBQW1DO0FBQ2hFLDhCQUE4Qiw0Q0FBNEMsK0JBQStCLG9CQUFvQixtQ0FBbUMsc0NBQXNDLHVFQUF1RTtBQUNsTztBQUNZO0FBQytCO0FBQ21CO0FBQ3ZCO0FBQ3BDO0FBQ0M7QUFDdUo7QUFDbks7QUFDbkMsZ0JBQWdCLG9GQUFtQztBQUNuRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFTztBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvRUFBb0U7QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxzREFBSztBQUMxRTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wscUVBQXFFLHNEQUFLO0FBQzFFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTCw0RUFBNEUsc0RBQUs7QUFDakYsMkRBQTJEO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwRUFBMEUsc0RBQXNEO0FBQ2hJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELG1EQUFPO0FBQ3RFO0FBQ0EsSUFBSSxLQUFzQyxHQUFHLHdEQUFPLGtZQUFrWSxDQUFNO0FBQzViO0FBQ0E7QUFDQTtBQUNBLElBQUksS0FBc0MsR0FBRyx3REFBTywyUkFBMlIsdUJBQXVCLHdFQUF1QjtBQUM3WDtBQUNBLEtBQUssTUFBTSxDQUFNO0FBQ2pCLFFBQVEsS0FBc0M7QUFDOUM7QUFDQSwrY0FBK2Msd0VBQXVCO0FBQ3RlO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsbUVBQUs7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGVBQWUsNkRBQWE7QUFDNUI7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxLQUFzQyxHQUFHLHdEQUFPLHFGQUFxRixDQUFNO0FBQ2pKO0FBQ0E7QUFDQSxnQ0FBZ0MsaURBQUk7QUFDcEM7QUFDQSw0REFBNEQ7QUFDNUQ7QUFDQSxnQkFBZ0IsOEZBQXNCO0FBQ3RDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStEO0FBQy9EO0FBQ0EsZ0JBQWdCLG1HQUF3QjtBQUN4QztBQUNBLFFBQVEsNEZBQWlCO0FBQ3pCLGdCQUFnQixtR0FBd0I7QUFDeEM7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxLQUFzQyxHQUFHLHdEQUFPLGdLQUFnSyxDQUFNO0FBQzVOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsZ0ZBQWdGLGFBQWE7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGlEQUFJO0FBQ3pCLG1CQUFtQixpREFBSTtBQUN2Qix1QkFBdUIsaURBQUk7QUFDM0IseUJBQXlCLGlEQUFJO0FBQzdCLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPOztBQUVQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSwwRkFBMEYsZUFBZTtBQUN6RztBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLE1BQU0sS0FBc0MsR0FBRyx3REFBTyw4SkFBOEosQ0FBTTtBQUMxTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxNQUFNLEtBQXNDLEdBQUcsd0RBQU8sMEhBQTBILENBQU07QUFDdEw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQywrREFBYTtBQUNqRCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsTUFBTSxLQUFzQyxHQUFHLHdEQUFPLGdJQUFnSSxDQUFNO0FBQzVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsaURBQW1CO0FBQzdEO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsS0FBc0MsR0FBRyx3REFBTyxrR0FBa0csMkRBQWEsaUlBQWlJLENBQU07O0FBRTlTO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGlEQUFJO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsaURBQW1CO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQ7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLHVCQUF1QixNQUFNO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLFFBQVEscUVBQW1CO0FBQzNCLFFBQVEsdUVBQXFCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHNEQUFLLENBQUMsaURBQUk7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLHNEQUFLO0FBQ2Y7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLHVCQUF1QixtR0FBd0I7QUFDL0M7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0IsV0FBVztBQUMzQjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esa0dBQWtHO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxxRUFBbUI7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUixRQUFRLHFFQUFtQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0M7QUFDL0M7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUMsQ0FBQyw0Q0FBWTtBQUNkLGlFQUFlLGFBQWEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGVjLWxvZ2ljLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2luc3RhbnRzZWFyY2guanMvZXMvbGliL0luc3RhbnRTZWFyY2guanM/NGFkYiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5mdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhhLCBuKSB7IGlmICghKGEgaW5zdGFuY2VvZiBuKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXMoZSwgcikgeyBmb3IgKHZhciB0ID0gMDsgdCA8IHIubGVuZ3RoOyB0KyspIHsgdmFyIG8gPSByW3RdOyBvLmVudW1lcmFibGUgPSBvLmVudW1lcmFibGUgfHwgITEsIG8uY29uZmlndXJhYmxlID0gITAsIFwidmFsdWVcIiBpbiBvICYmIChvLndyaXRhYmxlID0gITApLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgX3RvUHJvcGVydHlLZXkoby5rZXkpLCBvKTsgfSB9XG5mdW5jdGlvbiBfY3JlYXRlQ2xhc3MoZSwgciwgdCkgeyByZXR1cm4gciAmJiBfZGVmaW5lUHJvcGVydGllcyhlLnByb3RvdHlwZSwgciksIHQgJiYgX2RlZmluZVByb3BlcnRpZXMoZSwgdCksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCBcInByb3RvdHlwZVwiLCB7IHdyaXRhYmxlOiAhMSB9KSwgZTsgfVxuZnVuY3Rpb24gX2luaGVyaXRzKHQsIGUpIHsgaWYgKFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgZSAmJiBudWxsICE9PSBlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IHQucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShlICYmIGUucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiB0LCB3cml0YWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAgfSB9KSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIFwicHJvdG90eXBlXCIsIHsgd3JpdGFibGU6ICExIH0pLCBlICYmIF9zZXRQcm90b3R5cGVPZih0LCBlKTsgfVxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKHQsIGUpIHsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCwgZSkgeyByZXR1cm4gdC5fX3Byb3RvX18gPSBlLCB0OyB9LCBfc2V0UHJvdG90eXBlT2YodCwgZSk7IH1cbmZ1bmN0aW9uIF9jcmVhdGVTdXBlcih0KSB7IHZhciByID0gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpOyByZXR1cm4gZnVuY3Rpb24gKCkgeyB2YXIgZSwgbyA9IF9nZXRQcm90b3R5cGVPZih0KTsgaWYgKHIpIHsgdmFyIHMgPSBfZ2V0UHJvdG90eXBlT2YodGhpcykuY29uc3RydWN0b3I7IGUgPSBSZWZsZWN0LmNvbnN0cnVjdChvLCBhcmd1bWVudHMsIHMpOyB9IGVsc2UgZSA9IG8uYXBwbHkodGhpcywgYXJndW1lbnRzKTsgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIGUpOyB9OyB9XG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0LCBlKSB7IGlmIChlICYmIChcIm9iamVjdFwiID09IF90eXBlb2YoZSkgfHwgXCJmdW5jdGlvblwiID09IHR5cGVvZiBlKSkgcmV0dXJuIGU7IGlmICh2b2lkIDAgIT09IGUpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJEZXJpdmVkIGNvbnN0cnVjdG9ycyBtYXkgb25seSByZXR1cm4gb2JqZWN0IG9yIHVuZGVmaW5lZFwiKTsgcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQodCk7IH1cbmZ1bmN0aW9uIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoZSkgeyBpZiAodm9pZCAwID09PSBlKSB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCkgeyB0cnkgeyB2YXIgdCA9ICFCb29sZWFuLnByb3RvdHlwZS52YWx1ZU9mLmNhbGwoUmVmbGVjdC5jb25zdHJ1Y3QoQm9vbGVhbiwgW10sIGZ1bmN0aW9uICgpIHt9KSk7IH0gY2F0Y2ggKHQpIHt9IHJldHVybiAoX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCA9IGZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHJldHVybiAhIXQ7IH0pKCk7IH1cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZih0KSB7IHJldHVybiBfZ2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3QuZ2V0UHJvdG90eXBlT2YuYmluZCgpIDogZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZih0KTsgfSwgX2dldFByb3RvdHlwZU9mKHQpOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJ0BhbGdvbGlhL2V2ZW50cyc7XG5pbXBvcnQgYWxnb2xpYXNlYXJjaEhlbHBlciBmcm9tICdhbGdvbGlhc2VhcmNoLWhlbHBlcic7XG5pbXBvcnQgeyBjcmVhdGVJbnNpZ2h0c01pZGRsZXdhcmUgfSBmcm9tIFwiLi4vbWlkZGxld2FyZXMvY3JlYXRlSW5zaWdodHNNaWRkbGV3YXJlLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVNZXRhZGF0YU1pZGRsZXdhcmUsIGlzTWV0YWRhdGFFbmFibGVkIH0gZnJvbSBcIi4uL21pZGRsZXdhcmVzL2NyZWF0ZU1ldGFkYXRhTWlkZGxld2FyZS5qc1wiO1xuaW1wb3J0IHsgY3JlYXRlUm91dGVyTWlkZGxld2FyZSB9IGZyb20gXCIuLi9taWRkbGV3YXJlcy9jcmVhdGVSb3V0ZXJNaWRkbGV3YXJlLmpzXCI7XG5pbXBvcnQgaW5kZXggZnJvbSBcIi4uL3dpZGdldHMvaW5kZXgvaW5kZXguanNcIjtcbmltcG9ydCBjcmVhdGVIZWxwZXJzIGZyb20gXCIuL2NyZWF0ZUhlbHBlcnMuanNcIjtcbmltcG9ydCB7IGNyZWF0ZURvY3VtZW50YXRpb25NZXNzYWdlR2VuZXJhdG9yLCBjcmVhdGVEb2N1bWVudGF0aW9uTGluaywgZGVmZXIsIGh5ZHJhdGVSZWNvbW1lbmRDYWNoZSwgaHlkcmF0ZVNlYXJjaENsaWVudCwgbm9vcCwgd2FybmluZywgc2V0SW5kZXhIZWxwZXJTdGF0ZSwgaXNJbmRleFdpZGdldCB9IGZyb20gXCIuL3V0aWxzL2luZGV4LmpzXCI7XG5pbXBvcnQgdmVyc2lvbiBmcm9tIFwiLi92ZXJzaW9uLmpzXCI7XG52YXIgd2l0aFVzYWdlID0gY3JlYXRlRG9jdW1lbnRhdGlvbk1lc3NhZ2VHZW5lcmF0b3Ioe1xuICBuYW1lOiAnaW5zdGFudHNlYXJjaCdcbn0pO1xuZnVuY3Rpb24gZGVmYXVsdENyZWF0ZVVSTCgpIHtcbiAgcmV0dXJuICcjJztcbn1cblxuLy8gdGhpcyBwdXJwb3NlbHkgYnJlYWtzIHR5cGVzY3JpcHQncyB0eXBlIGluZmVyZW5jZSB0byBlbnN1cmUgaXQncyBub3QgdXNlZFxuLy8gYXMgaXQncyB1c2VkIGZvciBhIGRlZmF1bHQgcGFyYW1ldGVyIGZvciBleGFtcGxlXG4vLyBzb3VyY2U6IGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvMTQ4MjkjaXNzdWVjb21tZW50LTUwNDA0MjU0NlxuXG4vKipcbiAqIEdsb2JhbCBvcHRpb25zIGZvciBhbiBJbnN0YW50U2VhcmNoIGluc3RhbmNlLlxuICovXG5cbmV4cG9ydCB2YXIgSU5TVEFOVFNFQVJDSF9GVVRVUkVfREVGQVVMVFMgPSB7XG4gIHByZXNlcnZlU2hhcmVkU3RhdGVPblVubW91bnQ6IGZhbHNlLFxuICBwZXJzaXN0SGllcmFyY2hpY2FsUm9vdENvdW50OiBmYWxzZVxufTtcblxuLyoqXG4gKiBUaGUgYWN0dWFsIGltcGxlbWVudGF0aW9uIG9mIHRoZSBJbnN0YW50U2VhcmNoLiBUaGlzIGlzXG4gKiBjcmVhdGVkIHVzaW5nIHRoZSBgaW5zdGFudHNlYXJjaGAgZmFjdG9yeSBmdW5jdGlvbi5cbiAqIEl0IGVtaXRzIHRoZSAncmVuZGVyJyBldmVudCBldmVyeSB0aW1lIGEgc2VhcmNoIGlzIGRvbmVcbiAqL1xudmFyIEluc3RhbnRTZWFyY2ggPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9FdmVudEVtaXR0ZXIpIHtcbiAgX2luaGVyaXRzKEluc3RhbnRTZWFyY2gsIF9FdmVudEVtaXR0ZXIpO1xuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKEluc3RhbnRTZWFyY2gpO1xuICBmdW5jdGlvbiBJbnN0YW50U2VhcmNoKG9wdGlvbnMpIHtcbiAgICB2YXIgX29wdGlvbnMkZnV0dXJlMjtcbiAgICB2YXIgX3RoaXM7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEluc3RhbnRTZWFyY2gpO1xuICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcyk7XG5cbiAgICAvLyBwcmV2ZW50IGByZW5kZXJgIGV2ZW50IGxpc3RlbmluZyBmcm9tIGNhdXNpbmcgYSB3YXJuaW5nXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImNsaWVudFwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJpbmRleE5hbWVcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiY29tcG9zaXRpb25JRFwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJpbnNpZ2h0c0NsaWVudFwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvblN0YXRlQ2hhbmdlXCIsIG51bGwpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJmdXR1cmVcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiaGVscGVyXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm1haW5IZWxwZXJcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwibWFpbkluZGV4XCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInN0YXJ0ZWRcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwidGVtcGxhdGVzQ29uZmlnXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInJlbmRlclN0YXRlXCIsIHt9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX3N0YWxsZWRTZWFyY2hEZWxheVwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfc2VhcmNoU3RhbGxlZFRpbWVyXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9pbml0aWFsVWlTdGF0ZVwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfaW5pdGlhbFJlc3VsdHNcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX21hbnVhbGx5UmVzZXRTY2hlZHVsZVNlYXJjaFwiLCBmYWxzZSk7XG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9yZXNldFNjaGVkdWxlU2VhcmNoXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9jcmVhdGVVUkxcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX3NlYXJjaEZ1bmN0aW9uXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9tYWluSGVscGVyU2VhcmNoXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIl9oYXNTZWFyY2hXaWRnZXRcIiwgZmFsc2UpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJfaGFzUmVjb21tZW5kV2lkZ2V0XCIsIGZhbHNlKTtcbiAgICBfZGVmaW5lUHJvcGVydHkoX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcyksIFwiX2luc2lnaHRzXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcIm1pZGRsZXdhcmVcIiwgW10pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzZW5kRXZlbnRUb0luc2lnaHRzXCIsIHZvaWQgMCk7XG4gICAgLyoqXG4gICAgICogVGhlIHN0YXR1cyBvZiB0aGUgc2VhcmNoLiBDYW4gYmUgXCJpZGxlXCIsIFwibG9hZGluZ1wiLCBcInN0YWxsZWRcIiwgb3IgXCJlcnJvclwiLlxuICAgICAqL1xuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzdGF0dXNcIiwgJ2lkbGUnKTtcbiAgICAvKipcbiAgICAgKiBUaGUgbGFzdCByZXR1cm5lZCBlcnJvciBmcm9tIHRoZSBTZWFyY2ggQVBJLlxuICAgICAqIFRoZSBlcnJvciBnZXRzIGNsZWFyZWQgd2hlbiB0aGUgbmV4dCB2YWxpZCBzZWFyY2ggcmVzcG9uc2UgaXMgcmVuZGVyZWQuXG4gICAgICovXG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcImVycm9yXCIsIHVuZGVmaW5lZCk7XG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpLCBcInNjaGVkdWxlU2VhcmNoXCIsIGRlZmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5zdGFydGVkKSB7XG4gICAgICAgIF90aGlzLm1haW5IZWxwZXIuc2VhcmNoKCk7XG4gICAgICB9XG4gICAgfSkpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJzY2hlZHVsZVJlbmRlclwiLCBkZWZlcihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgX3RoaXMkbWFpbkhlbHBlcjtcbiAgICAgIHZhciBzaG91bGRSZXNldFN0YXR1cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdHJ1ZTtcbiAgICAgIGlmICghKChfdGhpcyRtYWluSGVscGVyID0gX3RoaXMubWFpbkhlbHBlcikgIT09IG51bGwgJiYgX3RoaXMkbWFpbkhlbHBlciAhPT0gdm9pZCAwICYmIF90aGlzJG1haW5IZWxwZXIuaGFzUGVuZGluZ1JlcXVlc3RzKCkpKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChfdGhpcy5fc2VhcmNoU3RhbGxlZFRpbWVyKTtcbiAgICAgICAgX3RoaXMuX3NlYXJjaFN0YWxsZWRUaW1lciA9IG51bGw7XG4gICAgICAgIGlmIChzaG91bGRSZXNldFN0YXR1cykge1xuICAgICAgICAgIF90aGlzLnN0YXR1cyA9ICdpZGxlJztcbiAgICAgICAgICBfdGhpcy5lcnJvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgX3RoaXMubWFpbkluZGV4LnJlbmRlcih7XG4gICAgICAgIGluc3RhbnRTZWFyY2hJbnN0YW5jZTogX2Fzc2VydFRoaXNJbml0aWFsaXplZChfdGhpcylcbiAgICAgIH0pO1xuICAgICAgX3RoaXMuZW1pdCgncmVuZGVyJyk7XG4gICAgfSkpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzKSwgXCJvbkludGVybmFsU3RhdGVDaGFuZ2VcIiwgZGVmZXIoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG5leHRVaVN0YXRlID0gX3RoaXMubWFpbkluZGV4LmdldFdpZGdldFVpU3RhdGUoe30pO1xuICAgICAgX3RoaXMubWlkZGxld2FyZS5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IF9yZWYuaW5zdGFuY2U7XG4gICAgICAgIGluc3RhbmNlLm9uU3RhdGVDaGFuZ2Uoe1xuICAgICAgICAgIHVpU3RhdGU6IG5leHRVaVN0YXRlXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSkpO1xuICAgIF90aGlzLnNldE1heExpc3RlbmVycygxMDApO1xuICAgIHZhciBfb3B0aW9ucyRpbmRleE5hbWUgPSBvcHRpb25zLmluZGV4TmFtZSxcbiAgICAgIGluZGV4TmFtZSA9IF9vcHRpb25zJGluZGV4TmFtZSA9PT0gdm9pZCAwID8gJycgOiBfb3B0aW9ucyRpbmRleE5hbWUsXG4gICAgICBjb21wb3NpdGlvbklEID0gb3B0aW9ucy5jb21wb3NpdGlvbklELFxuICAgICAgbnVtYmVyTG9jYWxlID0gb3B0aW9ucy5udW1iZXJMb2NhbGUsXG4gICAgICBfb3B0aW9ucyRpbml0aWFsVWlTdGEgPSBvcHRpb25zLmluaXRpYWxVaVN0YXRlLFxuICAgICAgaW5pdGlhbFVpU3RhdGUgPSBfb3B0aW9ucyRpbml0aWFsVWlTdGEgPT09IHZvaWQgMCA/IHt9IDogX29wdGlvbnMkaW5pdGlhbFVpU3RhLFxuICAgICAgX29wdGlvbnMkcm91dGluZyA9IG9wdGlvbnMucm91dGluZyxcbiAgICAgIHJvdXRpbmcgPSBfb3B0aW9ucyRyb3V0aW5nID09PSB2b2lkIDAgPyBudWxsIDogX29wdGlvbnMkcm91dGluZyxcbiAgICAgIF9vcHRpb25zJGluc2lnaHRzID0gb3B0aW9ucy5pbnNpZ2h0cyxcbiAgICAgIGluc2lnaHRzID0gX29wdGlvbnMkaW5zaWdodHMgPT09IHZvaWQgMCA/IHVuZGVmaW5lZCA6IF9vcHRpb25zJGluc2lnaHRzLFxuICAgICAgc2VhcmNoRnVuY3Rpb24gPSBvcHRpb25zLnNlYXJjaEZ1bmN0aW9uLFxuICAgICAgX29wdGlvbnMkc3RhbGxlZFNlYXJjID0gb3B0aW9ucy5zdGFsbGVkU2VhcmNoRGVsYXksXG4gICAgICBzdGFsbGVkU2VhcmNoRGVsYXkgPSBfb3B0aW9ucyRzdGFsbGVkU2VhcmMgPT09IHZvaWQgMCA/IDIwMCA6IF9vcHRpb25zJHN0YWxsZWRTZWFyYyxcbiAgICAgIF9vcHRpb25zJHNlYXJjaENsaWVudCA9IG9wdGlvbnMuc2VhcmNoQ2xpZW50LFxuICAgICAgc2VhcmNoQ2xpZW50ID0gX29wdGlvbnMkc2VhcmNoQ2xpZW50ID09PSB2b2lkIDAgPyBudWxsIDogX29wdGlvbnMkc2VhcmNoQ2xpZW50LFxuICAgICAgX29wdGlvbnMkaW5zaWdodHNDbGllID0gb3B0aW9ucy5pbnNpZ2h0c0NsaWVudCxcbiAgICAgIGluc2lnaHRzQ2xpZW50ID0gX29wdGlvbnMkaW5zaWdodHNDbGllID09PSB2b2lkIDAgPyBudWxsIDogX29wdGlvbnMkaW5zaWdodHNDbGllLFxuICAgICAgX29wdGlvbnMkb25TdGF0ZUNoYW5nID0gb3B0aW9ucy5vblN0YXRlQ2hhbmdlLFxuICAgICAgb25TdGF0ZUNoYW5nZSA9IF9vcHRpb25zJG9uU3RhdGVDaGFuZyA9PT0gdm9pZCAwID8gbnVsbCA6IF9vcHRpb25zJG9uU3RhdGVDaGFuZyxcbiAgICAgIF9vcHRpb25zJGZ1dHVyZSA9IG9wdGlvbnMuZnV0dXJlLFxuICAgICAgZnV0dXJlID0gX29wdGlvbnMkZnV0dXJlID09PSB2b2lkIDAgPyBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIElOU1RBTlRTRUFSQ0hfRlVUVVJFX0RFRkFVTFRTKSwgb3B0aW9ucy5mdXR1cmUgfHwge30pIDogX29wdGlvbnMkZnV0dXJlO1xuICAgIGlmIChzZWFyY2hDbGllbnQgPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcih3aXRoVXNhZ2UoJ1RoZSBgc2VhcmNoQ2xpZW50YCBvcHRpb24gaXMgcmVxdWlyZWQuJykpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHNlYXJjaENsaWVudC5zZWFyY2ggIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSBgc2VhcmNoQ2xpZW50YCBtdXN0IGltcGxlbWVudCBhIGBzZWFyY2hgIG1ldGhvZC5cXG5cXG5TZWU6IGh0dHBzOi8vd3d3LmFsZ29saWEuY29tL2RvYy9ndWlkZXMvYnVpbGRpbmctc2VhcmNoLXVpL2dvaW5nLWZ1cnRoZXIvYmFja2VuZC1zZWFyY2gvaW4tZGVwdGgvYmFja2VuZC1pbnN0YW50c2VhcmNoL2pzL1wiKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzZWFyY2hDbGllbnQuYWRkQWxnb2xpYUFnZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBzZWFyY2hDbGllbnQuYWRkQWxnb2xpYUFnZW50KFwiaW5zdGFudHNlYXJjaC5qcyAoXCIuY29uY2F0KHZlcnNpb24sIFwiKVwiKSk7XG4gICAgfVxuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gd2FybmluZyhpbnNpZ2h0c0NsaWVudCA9PT0gbnVsbCwgXCJgaW5zaWdodHNDbGllbnRgIHByb3BlcnR5IGhhcyBiZWVuIGRlcHJlY2F0ZWQuIEl0IGlzIHN0aWxsIHN1cHBvcnRlZCBpbiA0LnggcmVsZWFzZXMsIGJ1dCBub3QgZnVydGhlci4gSXQgaXMgcmVwbGFjZWQgYnkgdGhlIGBpbnNpZ2h0c2AgbWlkZGxld2FyZS5cXG5cXG5Gb3IgbW9yZSBpbmZvcm1hdGlvbiwgdmlzaXQgaHR0cHM6Ly93d3cuYWxnb2xpYS5jb20vZG9jL2d1aWRlcy9nZXR0aW5nLWluc2lnaHRzLWFuZC1hbmFseXRpY3Mvc2VhcmNoLWFuYWx5dGljcy9jbGljay10aHJvdWdoLWFuZC1jb252ZXJzaW9ucy9ob3ctdG8vc2VuZC1jbGljay1hbmQtY29udmVyc2lvbi1ldmVudHMtd2l0aC1pbnN0YW50c2VhcmNoL2pzL1wiKSA6IHZvaWQgMDtcbiAgICBpZiAoaW5zaWdodHNDbGllbnQgJiYgdHlwZW9mIGluc2lnaHRzQ2xpZW50ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3Iod2l0aFVzYWdlKCdUaGUgYGluc2lnaHRzQ2xpZW50YCBvcHRpb24gc2hvdWxkIGJlIGEgZnVuY3Rpb24uJykpO1xuICAgIH1cbiAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IHdhcm5pbmcoIW9wdGlvbnMuc2VhcmNoUGFyYW1ldGVycywgXCJUaGUgYHNlYXJjaFBhcmFtZXRlcnNgIG9wdGlvbiBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIG5vdCBiZSBzdXBwb3J0ZWQgaW4gSW5zdGFudFNlYXJjaC5qcyA0LnguXFxuXFxuWW91IGNhbiByZXBsYWNlIGl0IHdpdGggdGhlIGBjb25maWd1cmVgIHdpZGdldDpcXG5cXG5gYGBcXG5zZWFyY2guYWRkV2lkZ2V0cyhbXFxuICBjb25maWd1cmUoXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KG9wdGlvbnMuc2VhcmNoUGFyYW1ldGVycywgbnVsbCwgMiksIFwiKVxcbl0pO1xcbmBgYFxcblxcblNlZSBcIikuY29uY2F0KGNyZWF0ZURvY3VtZW50YXRpb25MaW5rKHtcbiAgICAgIG5hbWU6ICdjb25maWd1cmUnXG4gICAgfSkpKSA6IHZvaWQgMDtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgJiYgKChfb3B0aW9ucyRmdXR1cmUyID0gb3B0aW9ucy5mdXR1cmUpID09PSBudWxsIHx8IF9vcHRpb25zJGZ1dHVyZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vcHRpb25zJGZ1dHVyZTIucHJlc2VydmVTaGFyZWRTdGF0ZU9uVW5tb3VudCkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgIGNvbnNvbGUuaW5mbyhcIlN0YXJ0aW5nIGZyb20gdGhlIG5leHQgbWFqb3IgdmVyc2lvbiwgSW5zdGFudFNlYXJjaCB3aWxsIGNoYW5nZSBob3cgd2lkZ2V0cyBzdGF0ZSBpcyBwcmVzZXJ2ZWQgd2hlbiB0aGV5IGFyZSByZW1vdmVkLiBJbnN0YW50U2VhcmNoIHdpbGwga2VlcCB0aGUgc3RhdGUgb2YgdW5tb3VudGVkIHdpZGdldHMgdG8gYmUgdXNhYmxlIGJ5IG90aGVyIHdpZGdldHMgd2l0aCB0aGUgc2FtZSBhdHRyaWJ1dGUuXFxuXFxuV2UgcmVjb21tZW5kIHNldHRpbmcgYGZ1dHVyZS5wcmVzZXJ2ZVNoYXJlZFN0YXRlT25Vbm1vdW50YCB0byB0cnVlIHRvIGFkb3B0IHRoaXMgY2hhbmdlIHRvZGF5LlxcblRvIHN0YXkgd2l0aCB0aGUgY3VycmVudCBiZWhhdmlvdXIgYW5kIHJlbW92ZSB0aGlzIHdhcm5pbmcsIHNldCB0aGUgb3B0aW9uIHRvIGZhbHNlLlxcblxcblNlZSBkb2N1bWVudGF0aW9uOiBcIi5jb25jYXQoY3JlYXRlRG9jdW1lbnRhdGlvbkxpbmsoe1xuICAgICAgICBuYW1lOiAnaW5zdGFudHNlYXJjaCdcbiAgICAgIH0pLCBcIiN3aWRnZXQtcGFyYW0tZnV0dXJlXFxuICAgICAgICAgIFwiKSk7XG4gICAgfVxuICAgIF90aGlzLmNsaWVudCA9IHNlYXJjaENsaWVudDtcbiAgICBfdGhpcy5mdXR1cmUgPSBmdXR1cmU7XG4gICAgX3RoaXMuaW5zaWdodHNDbGllbnQgPSBpbnNpZ2h0c0NsaWVudDtcbiAgICBfdGhpcy5pbmRleE5hbWUgPSBpbmRleE5hbWU7XG4gICAgX3RoaXMuY29tcG9zaXRpb25JRCA9IGNvbXBvc2l0aW9uSUQ7XG4gICAgX3RoaXMuaGVscGVyID0gbnVsbDtcbiAgICBfdGhpcy5tYWluSGVscGVyID0gbnVsbDtcbiAgICBfdGhpcy5tYWluSW5kZXggPSBpbmRleCh7XG4gICAgICAvLyB3ZSB1c2UgYW4gaW5kZXggd2lkZ2V0IHRvIHJlbmRlciBjb21wb3NpdGlvbnNcbiAgICAgIC8vIHRoaXMgb25seSB3b3JrcyBiZWNhdXNlIHRoZXJlJ3Mgb25seSBvbmUgY29tcG9zaXRpb24gaW5kZXggYWxsb3cgZm9yIG5vd1xuICAgICAgaW5kZXhOYW1lOiBfdGhpcy5jb21wb3NpdGlvbklEIHx8IF90aGlzLmluZGV4TmFtZVxuICAgIH0pO1xuICAgIF90aGlzLm9uU3RhdGVDaGFuZ2UgPSBvblN0YXRlQ2hhbmdlO1xuICAgIF90aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcbiAgICBfdGhpcy50ZW1wbGF0ZXNDb25maWcgPSB7XG4gICAgICBoZWxwZXJzOiBjcmVhdGVIZWxwZXJzKHtcbiAgICAgICAgbnVtYmVyTG9jYWxlOiBudW1iZXJMb2NhbGVcbiAgICAgIH0pLFxuICAgICAgY29tcGlsZU9wdGlvbnM6IHt9XG4gICAgfTtcbiAgICBfdGhpcy5fc3RhbGxlZFNlYXJjaERlbGF5ID0gc3RhbGxlZFNlYXJjaERlbGF5O1xuICAgIF90aGlzLl9zZWFyY2hTdGFsbGVkVGltZXIgPSBudWxsO1xuICAgIF90aGlzLl9jcmVhdGVVUkwgPSBkZWZhdWx0Q3JlYXRlVVJMO1xuICAgIF90aGlzLl9pbml0aWFsVWlTdGF0ZSA9IGluaXRpYWxVaVN0YXRlO1xuICAgIF90aGlzLl9pbml0aWFsUmVzdWx0cyA9IG51bGw7XG4gICAgX3RoaXMuX2luc2lnaHRzID0gaW5zaWdodHM7XG4gICAgaWYgKHNlYXJjaEZ1bmN0aW9uKSB7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IHdhcm5pbmcoZmFsc2UsIFwiVGhlIGBzZWFyY2hGdW5jdGlvbmAgb3B0aW9uIGlzIGRlcHJlY2F0ZWQuIFVzZSBgb25TdGF0ZUNoYW5nZWAgaW5zdGVhZC5cIikgOiB2b2lkIDA7XG4gICAgICBfdGhpcy5fc2VhcmNoRnVuY3Rpb24gPSBzZWFyY2hGdW5jdGlvbjtcbiAgICB9XG4gICAgX3RoaXMuc2VuZEV2ZW50VG9JbnNpZ2h0cyA9IG5vb3A7XG4gICAgaWYgKHJvdXRpbmcpIHtcbiAgICAgIHZhciByb3V0ZXJPcHRpb25zID0gdHlwZW9mIHJvdXRpbmcgPT09ICdib29sZWFuJyA/IHt9IDogcm91dGluZztcbiAgICAgIHJvdXRlck9wdGlvbnMuJCRpbnRlcm5hbCA9IHRydWU7XG4gICAgICBfdGhpcy51c2UoY3JlYXRlUm91dGVyTWlkZGxld2FyZShyb3V0ZXJPcHRpb25zKSk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBpcyB0aGUgZGVmYXVsdCBJbnNpZ2h0cyBtaWRkbGV3YXJlLFxuICAgIC8vIGFkZGVkIHdoZW4gYGluc2lnaHRzYCBpcyBzZXQgdG8gdHJ1ZSBieSB0aGUgdXNlci5cbiAgICAvLyBBbnkgdXNlci1wcm92aWRlZCBtaWRkbGV3YXJlIHdpbGwgYmUgYWRkZWQgbGF0ZXIgYW5kIG92ZXJyaWRlIHRoaXMgb25lLlxuICAgIGlmIChpbnNpZ2h0cykge1xuICAgICAgdmFyIGluc2lnaHRzT3B0aW9ucyA9IHR5cGVvZiBpbnNpZ2h0cyA9PT0gJ2Jvb2xlYW4nID8ge30gOiBpbnNpZ2h0cztcbiAgICAgIGluc2lnaHRzT3B0aW9ucy4kJGludGVybmFsID0gdHJ1ZTtcbiAgICAgIF90aGlzLnVzZShjcmVhdGVJbnNpZ2h0c01pZGRsZXdhcmUoaW5zaWdodHNPcHRpb25zKSk7XG4gICAgfVxuICAgIGlmIChpc01ldGFkYXRhRW5hYmxlZCgpKSB7XG4gICAgICBfdGhpcy51c2UoY3JlYXRlTWV0YWRhdGFNaWRkbGV3YXJlKHtcbiAgICAgICAgJCRpbnRlcm5hbDogdHJ1ZVxuICAgICAgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICAvKipcbiAgICogSG9va3MgYSBtaWRkbGV3YXJlIGludG8gdGhlIEluc3RhbnRTZWFyY2ggbGlmZWN5Y2xlLlxuICAgKi9cbiAgX2NyZWF0ZUNsYXNzKEluc3RhbnRTZWFyY2gsIFt7XG4gICAga2V5OiBcIl9pc1NlYXJjaFN0YWxsZWRcIixcbiAgICBnZXQ6XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIGBzdGF0dXMgPT09ICdzdGFsbGVkJ2AgaW5zdGVhZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gd2FybmluZyhmYWxzZSwgXCJgSW5zdGFudFNlYXJjaC5faXNTZWFyY2hTdGFsbGVkYCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gSW5zdGFudFNlYXJjaC5qcyA1LjAuXFxuXFxuVXNlIGBJbnN0YW50U2VhcmNoLnN0YXR1cyA9PT0gXFxcInN0YWxsZWRcXFwiYCBpbnN0ZWFkLlwiKSA6IHZvaWQgMDtcbiAgICAgIHJldHVybiB0aGlzLnN0YXR1cyA9PT0gJ3N0YWxsZWQnO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJ1c2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gdXNlKCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG4gICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgbWlkZGxld2FyZSA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgbWlkZGxld2FyZVtfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdNaWRkbGV3YXJlTGlzdCA9IG1pZGRsZXdhcmUubWFwKGZ1bmN0aW9uIChmbikge1xuICAgICAgICB2YXIgbmV3TWlkZGxld2FyZSA9IF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICQkdHlwZTogJ19fdW5rbm93bl9fJyxcbiAgICAgICAgICAkJGludGVybmFsOiBmYWxzZSxcbiAgICAgICAgICBzdWJzY3JpYmU6IG5vb3AsXG4gICAgICAgICAgc3RhcnRlZDogbm9vcCxcbiAgICAgICAgICB1bnN1YnNjcmliZTogbm9vcCxcbiAgICAgICAgICBvblN0YXRlQ2hhbmdlOiBub29wXG4gICAgICAgIH0sIGZuKHtcbiAgICAgICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2U6IF90aGlzMlxuICAgICAgICB9KSk7XG4gICAgICAgIF90aGlzMi5taWRkbGV3YXJlLnB1c2goe1xuICAgICAgICAgIGNyZWF0b3I6IGZuLFxuICAgICAgICAgIGluc3RhbmNlOiBuZXdNaWRkbGV3YXJlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3TWlkZGxld2FyZTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBJZiB0aGUgaW5zdGFuY2UgaGFzIGFscmVhZHkgc3RhcnRlZCwgd2UgZGlyZWN0bHkgc3Vic2NyaWJlIHRoZVxuICAgICAgLy8gbWlkZGxld2FyZSBzbyB0aGV5J3JlIG5vdGlmaWVkIG9mIGNoYW5nZXMuXG4gICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgIG5ld01pZGRsZXdhcmVMaXN0LmZvckVhY2goZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgICBtLnN1YnNjcmliZSgpO1xuICAgICAgICAgIG0uc3RhcnRlZCgpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBtaWRkbGV3YXJlIGZyb20gdGhlIEluc3RhbnRTZWFyY2ggbGlmZWN5Y2xlLlxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcInVudXNlXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVudXNlKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBtaWRkbGV3YXJlVG9VbnVzZSA9IG5ldyBBcnJheShfbGVuMiksIF9rZXkyID0gMDsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBtaWRkbGV3YXJlVG9VbnVzZVtfa2V5Ml0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuICAgICAgdGhpcy5taWRkbGV3YXJlLmZpbHRlcihmdW5jdGlvbiAobSkge1xuICAgICAgICByZXR1cm4gbWlkZGxld2FyZVRvVW51c2UuaW5jbHVkZXMobS5jcmVhdG9yKTtcbiAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKG0pIHtcbiAgICAgICAgcmV0dXJuIG0uaW5zdGFuY2UudW5zdWJzY3JpYmUoKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5taWRkbGV3YXJlID0gdGhpcy5taWRkbGV3YXJlLmZpbHRlcihmdW5jdGlvbiAobSkge1xuICAgICAgICByZXR1cm4gIW1pZGRsZXdhcmVUb1VudXNlLmluY2x1ZGVzKG0uY3JlYXRvcik7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEBtYWpvciB3ZSBzaGlwcGVkIHdpdGggRVhQRVJJTUVOVEFMX3VzZSwgYnV0IGhhdmUgY2hhbmdlZCB0aGF0IHRvIGp1c3QgYHVzZWAgbm93XG4gIH0sIHtcbiAgICBrZXk6IFwiRVhQRVJJTUVOVEFMX3VzZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBFWFBFUklNRU5UQUxfdXNlKCkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyB3YXJuaW5nKGZhbHNlLCAnVGhlIG1pZGRsZXdhcmUgQVBJIGlzIG5vdyBjb25zaWRlcmVkIHN0YWJsZSwgc28gd2UgcmVjb21tZW5kIHJlcGxhY2luZyBgRVhQRVJJTUVOVEFMX3VzZWAgd2l0aCBgdXNlYCBiZWZvcmUgdXBncmFkaW5nIHRvIHRoZSBuZXh0IG1ham9yIHZlcnNpb24uJykgOiB2b2lkIDA7XG4gICAgICByZXR1cm4gdGhpcy51c2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgd2lkZ2V0IHRvIHRoZSBzZWFyY2ggaW5zdGFuY2UuXG4gICAgICogQSB3aWRnZXQgY2FuIGJlIGFkZGVkIGVpdGhlciBiZWZvcmUgb3IgYWZ0ZXIgSW5zdGFudFNlYXJjaCBoYXMgc3RhcnRlZC5cbiAgICAgKiBAcGFyYW0gd2lkZ2V0IFRoZSB3aWRnZXQgdG8gYWRkIHRvIEluc3RhbnRTZWFyY2guXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBUaGlzIG1ldGhvZCB3aWxsIHN0aWxsIGJlIHN1cHBvcnRlZCBpbiA0LnggcmVsZWFzZXMsIGJ1dCBub3QgZnVydGhlci4gSXQgaXMgcmVwbGFjZWQgYnkgYGFkZFdpZGdldHMoW3dpZGdldF0pYC5cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJhZGRXaWRnZXRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkV2lkZ2V0KHdpZGdldCkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyB3YXJuaW5nKGZhbHNlLCAnYWRkV2lkZ2V0IHdpbGwgc3RpbGwgYmUgc3VwcG9ydGVkIGluIDQueCByZWxlYXNlcywgYnV0IG5vdCBmdXJ0aGVyLiBJdCBpcyByZXBsYWNlZCBieSBgYWRkV2lkZ2V0cyhbd2lkZ2V0XSlgJykgOiB2b2lkIDA7XG4gICAgICByZXR1cm4gdGhpcy5hZGRXaWRnZXRzKFt3aWRnZXRdKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIG11bHRpcGxlIHdpZGdldHMgdG8gdGhlIHNlYXJjaCBpbnN0YW5jZS5cbiAgICAgKiBXaWRnZXRzIGNhbiBiZSBhZGRlZCBlaXRoZXIgYmVmb3JlIG9yIGFmdGVyIEluc3RhbnRTZWFyY2ggaGFzIHN0YXJ0ZWQuXG4gICAgICogQHBhcmFtIHdpZGdldHMgVGhlIGFycmF5IG9mIHdpZGdldHMgdG8gYWRkIHRvIEluc3RhbnRTZWFyY2guXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiYWRkV2lkZ2V0c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRXaWRnZXRzKHdpZGdldHMpIHtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheSh3aWRnZXRzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3Iod2l0aFVzYWdlKCdUaGUgYGFkZFdpZGdldHNgIG1ldGhvZCBleHBlY3RzIGFuIGFycmF5IG9mIHdpZGdldHMuIFBsZWFzZSB1c2UgYGFkZFdpZGdldGAuJykpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuY29tcG9zaXRpb25JRCAmJiB3aWRnZXRzLnNvbWUoZnVuY3Rpb24gKHcpIHtcbiAgICAgICAgcmV0dXJuICFBcnJheS5pc0FycmF5KHcpICYmIGlzSW5kZXhXaWRnZXQodykgJiYgIXcuX2lzb2xhdGVkO1xuICAgICAgfSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHdpdGhVc2FnZSgnVGhlIGBpbmRleGAgd2lkZ2V0IGNhbm5vdCBiZSB1c2VkIHdpdGggYSBjb21wb3NpdGlvbi1iYXNlZCBJbnN0YW50U2VhcmNoIGltcGxlbWVudGF0aW9uLicpKTtcbiAgICAgIH1cbiAgICAgIHRoaXMubWFpbkluZGV4LmFkZFdpZGdldHMod2lkZ2V0cyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgd2lkZ2V0IGZyb20gdGhlIHNlYXJjaCBpbnN0YW5jZS5cbiAgICAgKiBAZGVwcmVjYXRlZCBUaGlzIG1ldGhvZCB3aWxsIHN0aWxsIGJlIHN1cHBvcnRlZCBpbiA0LnggcmVsZWFzZXMsIGJ1dCBub3QgZnVydGhlci4gSXQgaXMgcmVwbGFjZWQgYnkgYHJlbW92ZVdpZGdldHMoW3dpZGdldF0pYFxuICAgICAqIEBwYXJhbSB3aWRnZXQgVGhlIHdpZGdldCBpbnN0YW5jZSB0byByZW1vdmUgZnJvbSBJbnN0YW50U2VhcmNoLlxuICAgICAqXG4gICAgICogVGhlIHdpZGdldCBtdXN0IGltcGxlbWVudCBhIGBkaXNwb3NlKClgIG1ldGhvZCB0byBjbGVhciBpdHMgc3RhdGUuXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwicmVtb3ZlV2lkZ2V0XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZVdpZGdldCh3aWRnZXQpIHtcbiAgICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gd2FybmluZyhmYWxzZSwgJ3JlbW92ZVdpZGdldCB3aWxsIHN0aWxsIGJlIHN1cHBvcnRlZCBpbiA0LnggcmVsZWFzZXMsIGJ1dCBub3QgZnVydGhlci4gSXQgaXMgcmVwbGFjZWQgYnkgYHJlbW92ZVdpZGdldHMoW3dpZGdldF0pYCcpIDogdm9pZCAwO1xuICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlV2lkZ2V0cyhbd2lkZ2V0XSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBtdWx0aXBsZSB3aWRnZXRzIGZyb20gdGhlIHNlYXJjaCBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0gd2lkZ2V0cyBBcnJheSBvZiB3aWRnZXRzIGluc3RhbmNlcyB0byByZW1vdmUgZnJvbSBJbnN0YW50U2VhcmNoLlxuICAgICAqXG4gICAgICogVGhlIHdpZGdldHMgbXVzdCBpbXBsZW1lbnQgYSBgZGlzcG9zZSgpYCBtZXRob2QgdG8gY2xlYXIgdGhlaXIgc3RhdGVzLlxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcInJlbW92ZVdpZGdldHNcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVtb3ZlV2lkZ2V0cyh3aWRnZXRzKSB7XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkod2lkZ2V0cykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHdpdGhVc2FnZSgnVGhlIGByZW1vdmVXaWRnZXRzYCBtZXRob2QgZXhwZWN0cyBhbiBhcnJheSBvZiB3aWRnZXRzLiBQbGVhc2UgdXNlIGByZW1vdmVXaWRnZXRgLicpKTtcbiAgICAgIH1cbiAgICAgIHRoaXMubWFpbkluZGV4LnJlbW92ZVdpZGdldHMod2lkZ2V0cyk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmRzIHRoZSBpbml0aWFsaXphdGlvbiBvZiBJbnN0YW50U2VhcmNoLmpzIGFuZCB0cmlnZ2VycyB0aGVcbiAgICAgKiBmaXJzdCBzZWFyY2guXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwic3RhcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcbiAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHdpdGhVc2FnZSgnVGhlIGBzdGFydGAgbWV0aG9kIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkIG9uY2UuJykpO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGlzIEhlbHBlciBpcyB1c2VkIGZvciB0aGUgcXVlcmllcywgd2UgZG9uJ3QgY2FyZSBhYm91dCBpdHMgc3RhdGUuIFRoZVxuICAgICAgLy8gc3RhdGVzIGFyZSBtYW5hZ2VkIGF0IHRoZSBgaW5kZXhgIGxldmVsLiBXZSB1c2UgdGhpcyBIZWxwZXIgdG8gY3JlYXRlXG4gICAgICAvLyBEZXJpdmVkSGVscGVyIHNjb3BlZCBpbnRvIHRoZSBgaW5kZXhgIHdpZGdldHMuXG4gICAgICAvLyBJbiBWdWUgSW5zdGFudFNlYXJjaCcgaHlkcmF0ZSwgYSBtYWluIGhlbHBlciBnZXRzIHNldCBiZWZvcmUgc3RhcnQsIHNvXG4gICAgICAvLyB3ZSBuZWVkIHRvIHJlc3BlY3QgdGhpcyBoZWxwZXIgYXMgYSB3YXkgdG8ga2VlcCBhbGwgbGlzdGVuZXJzIGNvcnJlY3QuXG4gICAgICB2YXIgbWFpbkhlbHBlciA9IHRoaXMubWFpbkhlbHBlciB8fCBhbGdvbGlhc2VhcmNoSGVscGVyKHRoaXMuY2xpZW50LCB0aGlzLmluZGV4TmFtZSwgdW5kZWZpbmVkLCB7XG4gICAgICAgIHBlcnNpc3RIaWVyYXJjaGljYWxSb290Q291bnQ6IHRoaXMuZnV0dXJlLnBlcnNpc3RIaWVyYXJjaGljYWxSb290Q291bnRcbiAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMuY29tcG9zaXRpb25JRCkge1xuICAgICAgICBtYWluSGVscGVyLnNlYXJjaEZvckZhY2V0VmFsdWVzID0gbWFpbkhlbHBlci5zZWFyY2hGb3JDb21wb3NpdGlvbkZhY2V0VmFsdWVzLmJpbmQobWFpbkhlbHBlcik7XG4gICAgICB9XG4gICAgICBtYWluSGVscGVyLnNlYXJjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMzLnN0YXR1cyA9ICdsb2FkaW5nJztcbiAgICAgICAgX3RoaXMzLnNjaGVkdWxlUmVuZGVyKGZhbHNlKTtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyB3YXJuaW5nKEJvb2xlYW4oX3RoaXMzLmluZGV4TmFtZSkgfHwgQm9vbGVhbihfdGhpczMuY29tcG9zaXRpb25JRCkgfHwgX3RoaXMzLm1haW5JbmRleC5nZXRXaWRnZXRzKCkuc29tZShpc0luZGV4V2lkZ2V0KSwgJ05vIGluZGV4TmFtZSBwcm92aWRlZCwgbm9yIGFuIGV4cGxpY2l0IGluZGV4IHdpZGdldCBpbiB0aGUgd2lkZ2V0cyB0cmVlLiBUaGlzIGlzIHJlcXVpcmVkIHRvIGJlIGFibGUgdG8gZGlzcGxheSByZXN1bHRzLicpIDogdm9pZCAwO1xuXG4gICAgICAgIC8vIFRoaXMgc29sdXRpb24gYWxsb3dzIHVzIHRvIGtlZXAgdGhlIGV4YWN0IHNhbWUgQVBJIGZvciB0aGUgdXNlcnMgYnV0XG4gICAgICAgIC8vIHVuZGVyIHRoZSBob29kLCB3ZSBoYXZlIGEgZGlmZmVyZW50IGltcGxlbWVudGF0aW9uLiBJdCBzaG91bGQgYmVcbiAgICAgICAgLy8gY29tcGxldGVseSB0cmFuc3BhcmVudCBmb3IgdGhlIHJlc3Qgb2YgdGhlIGNvZGViYXNlLiBPbmx5IHRoaXMgbW9kdWxlXG4gICAgICAgIC8vIGlzIGltcGFjdGVkLlxuICAgICAgICBpZiAoX3RoaXMzLl9oYXNTZWFyY2hXaWRnZXQpIHtcbiAgICAgICAgICBpZiAoX3RoaXMzLmNvbXBvc2l0aW9uSUQpIHtcbiAgICAgICAgICAgIG1haW5IZWxwZXIuc2VhcmNoV2l0aENvbXBvc2l0aW9uKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1haW5IZWxwZXIuc2VhcmNoT25seVdpdGhEZXJpdmVkSGVscGVycygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoX3RoaXMzLl9oYXNSZWNvbW1lbmRXaWRnZXQpIHtcbiAgICAgICAgICBtYWluSGVscGVyLnJlY29tbWVuZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYWluSGVscGVyO1xuICAgICAgfTtcbiAgICAgIGlmICh0aGlzLl9zZWFyY2hGdW5jdGlvbikge1xuICAgICAgICAvLyB0aGlzIGNsaWVudCBpc24ndCB1c2VkIHRvIGFjdHVhbGx5IHNlYXJjaCwgYnV0IHJlcXVpcmVkIGZvciB0aGUgaGVscGVyXG4gICAgICAgIC8vIHRvIG5vdCB0aHJvdyBlcnJvcnNcbiAgICAgICAgdmFyIGZha2VDbGllbnQgPSB7XG4gICAgICAgICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2goKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2Uobm9vcCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9tYWluSGVscGVyU2VhcmNoID0gbWFpbkhlbHBlci5zZWFyY2guYmluZChtYWluSGVscGVyKTtcbiAgICAgICAgbWFpbkhlbHBlci5zZWFyY2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIG1haW5JbmRleEhlbHBlciA9IF90aGlzMy5tYWluSW5kZXguZ2V0SGVscGVyKCk7XG4gICAgICAgICAgdmFyIHNlYXJjaEZ1bmN0aW9uSGVscGVyID0gYWxnb2xpYXNlYXJjaEhlbHBlcihmYWtlQ2xpZW50LCBtYWluSW5kZXhIZWxwZXIuc3RhdGUuaW5kZXgsIG1haW5JbmRleEhlbHBlci5zdGF0ZSk7XG4gICAgICAgICAgc2VhcmNoRnVuY3Rpb25IZWxwZXIub25jZSgnc2VhcmNoJywgZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBfcmVmMi5zdGF0ZTtcbiAgICAgICAgICAgIG1haW5JbmRleEhlbHBlci5vdmVycmlkZVN0YXRlV2l0aG91dFRyaWdnZXJpbmdDaGFuZ2VFdmVudChzdGF0ZSk7XG4gICAgICAgICAgICBfdGhpczMuX21haW5IZWxwZXJTZWFyY2goKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAvLyBGb3J3YXJkIHN0YXRlIGNoYW5nZXMgZnJvbSBgc2VhcmNoRnVuY3Rpb25IZWxwZXJgIHRvIGBtYWluSW5kZXhIZWxwZXJgXG4gICAgICAgICAgc2VhcmNoRnVuY3Rpb25IZWxwZXIub24oJ2NoYW5nZScsIGZ1bmN0aW9uIChfcmVmMykge1xuICAgICAgICAgICAgdmFyIHN0YXRlID0gX3JlZjMuc3RhdGU7XG4gICAgICAgICAgICBtYWluSW5kZXhIZWxwZXIuc2V0U3RhdGUoc3RhdGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIF90aGlzMy5fc2VhcmNoRnVuY3Rpb24oc2VhcmNoRnVuY3Rpb25IZWxwZXIpO1xuICAgICAgICAgIHJldHVybiBtYWluSGVscGVyO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICAvLyBPbmx5IHRoZSBcIm1haW5cIiBIZWxwZXIgZW1pdHMgdGhlIGBlcnJvcmAgZXZlbnQgdnMgdGhlIG9uZSBmb3IgYHNlYXJjaGBcbiAgICAgIC8vIGFuZCBgcmVzdWx0c2AgdGhhdCBhcmUgYWxzbyBlbWl0dGVkIG9uIHRoZSBkZXJpdmVkIG9uZS5cbiAgICAgIG1haW5IZWxwZXIub24oJ2Vycm9yJywgZnVuY3Rpb24gKF9yZWY0KSB7XG4gICAgICAgIHZhciBlcnJvciA9IF9yZWY0LmVycm9yO1xuICAgICAgICBpZiAoIShlcnJvciBpbnN0YW5jZW9mIEVycm9yKSkge1xuICAgICAgICAgIC8vIHR5cGVzY3JpcHQgbGllcyBoZXJlLCBlcnJvciBpcyBpbiBzb21lIGNhc2VzIHsgbmFtZTogc3RyaW5nLCBtZXNzYWdlOiBzdHJpbmcgfVxuICAgICAgICAgIHZhciBlcnIgPSBlcnJvcjtcbiAgICAgICAgICBlcnJvciA9IE9iamVjdC5rZXlzKGVycikucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICAgICAgYWNjW2tleV0gPSBlcnJba2V5XTtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgfSwgbmV3IEVycm9yKGVyci5tZXNzYWdlKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgYW4gZXJyb3IgaXMgZW1pdHRlZCwgaXQgaXMgcmUtdGhyb3duIGJ5IGV2ZW50cy4gSW4gcHJldmlvdXMgdmVyc2lvbnNcbiAgICAgICAgLy8gd2UgZW1pdHRlZCB7ZXJyb3J9LCB3aGljaCBpcyB0aHJvd24gYXM6XG4gICAgICAgIC8vIFwiVW5jYXVnaHQsIHVuc3BlY2lmaWVkIFxcXCJlcnJvclxcXCIgZXZlbnQuIChbb2JqZWN0IE9iamVjdF0pXCJcbiAgICAgICAgLy8gVG8gYXZvaWQgYnJlYWtpbmcgY2hhbmdlcywgd2UgbWFrZSB0aGUgZXJyb3IgYXZhaWxhYmxlIGluIGJvdGhcbiAgICAgICAgLy8gYGVycm9yYCBhbmQgYGVycm9yLmVycm9yYFxuICAgICAgICAvLyBATUFKT1IgZW1pdCBvbmx5IGVycm9yXG4gICAgICAgIGVycm9yLmVycm9yID0gZXJyb3I7XG4gICAgICAgIF90aGlzMy5lcnJvciA9IGVycm9yO1xuICAgICAgICBfdGhpczMuc3RhdHVzID0gJ2Vycm9yJztcbiAgICAgICAgX3RoaXMzLnNjaGVkdWxlUmVuZGVyKGZhbHNlKTtcblxuICAgICAgICAvLyBUaGlzIG5lZWRzIHRvIGV4ZWN1dGUgbGFzdCBiZWNhdXNlIGl0IHRocm93cyB0aGUgZXJyb3IuXG4gICAgICAgIF90aGlzMy5lbWl0KCdlcnJvcicsIGVycm9yKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5tYWluSGVscGVyID0gbWFpbkhlbHBlcjtcbiAgICAgIHRoaXMubWlkZGxld2FyZS5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmNSkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBfcmVmNS5pbnN0YW5jZTtcbiAgICAgICAgaW5zdGFuY2Uuc3Vic2NyaWJlKCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMubWFpbkluZGV4LmluaXQoe1xuICAgICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2U6IHRoaXMsXG4gICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgdWlTdGF0ZTogdGhpcy5faW5pdGlhbFVpU3RhdGVcbiAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMuX2luaXRpYWxSZXN1bHRzKSB7XG4gICAgICAgIGh5ZHJhdGVTZWFyY2hDbGllbnQodGhpcy5jbGllbnQsIHRoaXMuX2luaXRpYWxSZXN1bHRzKTtcbiAgICAgICAgaHlkcmF0ZVJlY29tbWVuZENhY2hlKHRoaXMubWFpbkhlbHBlciwgdGhpcy5faW5pdGlhbFJlc3VsdHMpO1xuICAgICAgICB2YXIgb3JpZ2luYWxTY2hlZHVsZVNlYXJjaCA9IHRoaXMuc2NoZWR1bGVTZWFyY2g7XG4gICAgICAgIC8vIFdlIGRvbid0IHNjaGVkdWxlIGEgZmlyc3Qgc2VhcmNoIHdoZW4gaW5pdGlhbCByZXN1bHRzIGFyZSBwcm92aWRlZFxuICAgICAgICAvLyBiZWNhdXNlIHdlIGFscmVhZHkgaGF2ZSB0aGUgcmVzdWx0cyB0byByZW5kZXIuIFRoaXMgc2tpcHMgdGhlIGluaXRpYWxcbiAgICAgICAgLy8gbmV0d29yayByZXF1ZXN0IG9uIHRoZSBicm93c2VyIG9uIGBzdGFydGAuXG4gICAgICAgIHRoaXMuc2NoZWR1bGVTZWFyY2ggPSBkZWZlcihub29wKTtcbiAgICAgICAgaWYgKHRoaXMuX21hbnVhbGx5UmVzZXRTY2hlZHVsZVNlYXJjaCkge1xuICAgICAgICAgIC8vIElmIGBfbWFudWFsbHlSZXNldFNjaGVkdWxlU2VhcmNoYCBpcyBwYXNzZWQsIGl0IG1lYW5zIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgICAvLyB3YW50IHRvIHJlbHkgb24gYSBzaW5nbGUgYGRlZmVyYCB0byByZXNldCB0aGUgYHNjaGVkdWxlU2VhcmNoYC5cbiAgICAgICAgICAvLyBJbnN0ZWFkLCB0aGUgY29uc3VtZXIgd2lsbCBjYWxsIGBfcmVzZXRTY2hlZHVsZVNlYXJjaGAgdG8gcmVzdG9yZVxuICAgICAgICAgIC8vIHRoZSBvcmlnaW5hbCBgc2NoZWR1bGVTZWFyY2hgIGZ1bmN0aW9uLlxuICAgICAgICAgIC8vIFRoaXMgaGFwcGVucyBpbiB0aGUgUmVhY3QgZmxhdm91ciBhZnRlciByZW5kZXJpbmcuXG4gICAgICAgICAgdGhpcy5fcmVzZXRTY2hlZHVsZVNlYXJjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzMy5zY2hlZHVsZVNlYXJjaCA9IG9yaWdpbmFsU2NoZWR1bGVTZWFyY2g7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBXZSBhbHNvIHNraXAgdGhlIGluaXRpYWwgbmV0d29yayByZXF1ZXN0IHdoZW4gd2lkZ2V0cyBhcmUgZHluYW1pY2FsbHlcbiAgICAgICAgICAvLyBhZGRlZCBpbiB0aGUgZmlyc3QgdGljayAodGhhdCdzIHRoZSBjYXNlIGluIGFsbCB0aGUgZnJhbWV3b3JrLWJhc2VkIGZsYXZvcnMpLlxuICAgICAgICAgIC8vIFdoZW4gd2UgYWRkIGEgd2lkZ2V0IHRvIGBpbmRleGAsIGl0IGNhbGxzIGBzY2hlZHVsZVNlYXJjaGAuIFdlIGNhbiByZWx5XG4gICAgICAgICAgLy8gb24gb3VyIGBkZWZlcmAgdXRpbCB0byByZXN0b3JlIHRoZSBvcmlnaW5hbCBgc2NoZWR1bGVTZWFyY2hgIHZhbHVlIG9uY2VcbiAgICAgICAgICAvLyB3aWRnZXRzIGFyZSBhZGRlZCB0byBob29rIGJhY2sgdG8gdGhlIHJlZ3VsYXIgbGlmZWN5Y2xlLlxuICAgICAgICAgIGRlZmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzMy5zY2hlZHVsZVNlYXJjaCA9IG9yaWdpbmFsU2NoZWR1bGVTZWFyY2g7XG4gICAgICAgICAgfSkoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gV2Ugb25seSBzY2hlZHVsZSBhIHNlYXJjaCB3aGVuIHdpZGdldHMgaGF2ZSBiZWVuIGFkZGVkIGJlZm9yZSBgc3RhcnQoKWBcbiAgICAgIC8vIGJlY2F1c2UgdGhlcmUgYXJlIGxpc3RlbmVycyB0aGF0IGNhbiB1c2UgdGhlc2UgcmVzdWx0cy5cbiAgICAgIC8vIFRoaXMgaXMgZXNwZWNpYWxseSB1c2VmdWwgaW4gZnJhbWV3b3JrLWJhc2VkIGZsYXZvcnMgdGhhdCB3YWl0IGZvclxuICAgICAgLy8gZHluYW1pY2FsbHktYWRkZWQgd2lkZ2V0cyB0byB0cmlnZ2VyIGEgbmV0d29yayByZXF1ZXN0LiBJdCBhdm9pZHNcbiAgICAgIC8vIGhhdmluZyB0byBiYXRjaCB0aGlzIGluaXRpYWwgbmV0d29yayByZXF1ZXN0IHdpdGggdGhlIG9uZSBjb21pbmcgZnJvbVxuICAgICAgLy8gYGFkZFdpZGdldHMoKWAuXG4gICAgICAvLyBMYXRlciwgd2UgY291bGQgYWxzbyBza2lwIGBpbmRleCgpYCB3aWRnZXRzIGFuZCB3aWRnZXRzIHRoYXQgZG9uJ3QgcmVhZFxuICAgICAgLy8gdGhlIHJlc3VsdHMsIGJ1dCB0aGlzIGlzIGFuIG9wdGltaXphdGlvbiB0aGF0IGhhcyBhIHZlcnkgbG93IGltcGFjdCBmb3Igbm93LlxuICAgICAgZWxzZSBpZiAodGhpcy5tYWluSW5kZXguZ2V0V2lkZ2V0cygpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhpcy5zY2hlZHVsZVNlYXJjaCgpO1xuICAgICAgfVxuXG4gICAgICAvLyBLZWVwIHRoZSBwcmV2aW91cyByZWZlcmVuY2UgZm9yIGxlZ2FjeSBwdXJwb3NlLCBzb21lIHBhdHRlcm4gdXNlXG4gICAgICAvLyB0aGUgZGlyZWN0IEhlbHBlciBhY2Nlc3MgYHNlYXJjaC5oZWxwZXJgIChlLmcgbXVsdGktaW5kZXgpLlxuICAgICAgdGhpcy5oZWxwZXIgPSB0aGlzLm1haW5JbmRleC5nZXRIZWxwZXIoKTtcblxuICAgICAgLy8gdHJhY2sgd2Ugc3RhcnRlZCB0aGUgc2VhcmNoIGlmIHdlIGFkZCBtb3JlIHdpZGdldHMsXG4gICAgICAvLyB0byBpbml0IHRoZW0gZGlyZWN0bHkgYWZ0ZXIgYWRkXG4gICAgICB0aGlzLnN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5taWRkbGV3YXJlLmZvckVhY2goZnVuY3Rpb24gKF9yZWY2KSB7XG4gICAgICAgIHZhciBpbnN0YW5jZSA9IF9yZWY2Lmluc3RhbmNlO1xuICAgICAgICBpbnN0YW5jZS5zdGFydGVkKCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gVGhpcyBpcyB0aGUgYXV0b21hdGljIEluc2lnaHRzIG1pZGRsZXdhcmUsXG4gICAgICAvLyBhZGRlZCB3aGVuIGBpbnNpZ2h0c2AgaXMgdW5zZXQgYW5kIHRoZSBpbml0aWFsIHJlc3VsdHMgcG9zc2VzcyBgcXVlcnlJRGAuXG4gICAgICAvLyBBbnkgdXNlci1wcm92aWRlZCBtaWRkbGV3YXJlIHdpbGwgYmUgYWRkZWQgbGF0ZXIgYW5kIG92ZXJyaWRlIHRoaXMgb25lLlxuICAgICAgaWYgKHR5cGVvZiB0aGlzLl9pbnNpZ2h0cyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbWFpbkhlbHBlci5kZXJpdmVkSGVscGVyc1swXS5vbmNlKCdyZXN1bHQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGhhc0F1dG9tYXRpY0luc2lnaHRzID0gX3RoaXMzLm1haW5JbmRleC5nZXRTY29wZWRSZXN1bHRzKCkuc29tZShmdW5jdGlvbiAoX3JlZjcpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHRzID0gX3JlZjcucmVzdWx0cztcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRzID09PSBudWxsIHx8IHJlc3VsdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlc3VsdHMuX2F1dG9tYXRpY0luc2lnaHRzO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChoYXNBdXRvbWF0aWNJbnNpZ2h0cykge1xuICAgICAgICAgICAgX3RoaXMzLnVzZShjcmVhdGVJbnNpZ2h0c01pZGRsZXdhcmUoe1xuICAgICAgICAgICAgICAkJGludGVybmFsOiB0cnVlLFxuICAgICAgICAgICAgICAkJGF1dG9tYXRpYzogdHJ1ZVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgd2lkZ2V0cyB3aXRob3V0IHRyaWdnZXJpbmcgYSBzZWFyY2ggYWZ0ZXJ3YXJkcy5cbiAgICAgKiBAcmV0dXJuIHt1bmRlZmluZWR9IFRoaXMgbWV0aG9kIGRvZXMgbm90IHJldHVybiBhbnl0aGluZ1xuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcImRpc3Bvc2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgIHZhciBfdGhpcyRtYWluSGVscGVyMjtcbiAgICAgIHRoaXMuc2NoZWR1bGVTZWFyY2guY2FuY2VsKCk7XG4gICAgICB0aGlzLnNjaGVkdWxlUmVuZGVyLmNhbmNlbCgpO1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3NlYXJjaFN0YWxsZWRUaW1lcik7XG4gICAgICB0aGlzLnJlbW92ZVdpZGdldHModGhpcy5tYWluSW5kZXguZ2V0V2lkZ2V0cygpKTtcbiAgICAgIHRoaXMubWFpbkluZGV4LmRpc3Bvc2UoKTtcblxuICAgICAgLy8gWW91IGNhbiBub3Qgc3RhcnQgYW4gaW5zdGFuY2UgdHdvIHRpbWVzLCB0aGVyZWZvcmUgYSBkaXNwb3NlZCBpbnN0YW5jZVxuICAgICAgLy8gbmVlZHMgdG8gc2V0IHN0YXJ0ZWQgYXMgZmFsc2Ugb3RoZXJ3aXNlIHRoaXMgY2FuIG5vdCBiZSByZXN0YXJ0ZWQgYXQgYVxuICAgICAgLy8gbGF0ZXIgcG9pbnQuXG4gICAgICB0aGlzLnN0YXJ0ZWQgPSBmYWxzZTtcblxuICAgICAgLy8gVGhlIGhlbHBlciBuZWVkcyB0byBiZSByZXNldCB0byBwZXJmb3JtIHRoZSBuZXh0IHNlYXJjaCBmcm9tIGEgZnJlc2ggc3RhdGUuXG4gICAgICAvLyBJZiBub3QgcmVzZXQsIGl0IHdvdWxkIHVzZSB0aGUgc3RhdGUgc3RvcmVkIGJlZm9yZSBjYWxsaW5nIGBkaXNwb3NlKClgLlxuICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgIChfdGhpcyRtYWluSGVscGVyMiA9IHRoaXMubWFpbkhlbHBlcikgPT09IG51bGwgfHwgX3RoaXMkbWFpbkhlbHBlcjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG1haW5IZWxwZXIyLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgdGhpcy5tYWluSGVscGVyID0gbnVsbDtcbiAgICAgIHRoaXMuaGVscGVyID0gbnVsbDtcbiAgICAgIHRoaXMubWlkZGxld2FyZS5mb3JFYWNoKGZ1bmN0aW9uIChfcmVmOCkge1xuICAgICAgICB2YXIgaW5zdGFuY2UgPSBfcmVmOC5pbnN0YW5jZTtcbiAgICAgICAgaW5zdGFuY2UudW5zdWJzY3JpYmUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJzY2hlZHVsZVN0YWxsZWRSZW5kZXJcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2NoZWR1bGVTdGFsbGVkUmVuZGVyKCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG4gICAgICBpZiAoIXRoaXMuX3NlYXJjaFN0YWxsZWRUaW1lcikge1xuICAgICAgICB0aGlzLl9zZWFyY2hTdGFsbGVkVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBfdGhpczQuc3RhdHVzID0gJ3N0YWxsZWQnO1xuICAgICAgICAgIF90aGlzNC5zY2hlZHVsZVJlbmRlcigpO1xuICAgICAgICB9LCB0aGlzLl9zdGFsbGVkU2VhcmNoRGVsYXkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgVUkgc3RhdGUgYW5kIHRyaWdnZXIgYSBzZWFyY2guXG4gICAgICogQHBhcmFtIHVpU3RhdGUgVGhlIG5leHQgVUkgc3RhdGUgb3IgYSBmdW5jdGlvbiBjb21wdXRpbmcgaXQgZnJvbSB0aGUgY3VycmVudCBzdGF0ZVxuICAgICAqIEBwYXJhbSBjYWxsT25TdGF0ZUNoYW5nZSBwcml2YXRlIHBhcmFtZXRlciB1c2VkIHRvIGtub3cgaWYgdGhlIG1ldGhvZCBpcyBjYWxsZWQgZnJvbSBhIHN0YXRlIGNoYW5nZVxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcInNldFVpU3RhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VWlTdGF0ZSh1aVN0YXRlKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcbiAgICAgIHZhciBjYWxsT25TdGF0ZUNoYW5nZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcbiAgICAgIGlmICghdGhpcy5tYWluSGVscGVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih3aXRoVXNhZ2UoJ1RoZSBgc3RhcnRgIG1ldGhvZCBuZWVkcyB0byBiZSBjYWxsZWQgYmVmb3JlIGBzZXRVaVN0YXRlYC4nKSk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdlIHJlZnJlc2ggdGhlIGluZGV4IFVJIHN0YXRlIHRvIHVwZGF0ZSB0aGUgbG9jYWwgVUkgc3RhdGUgdGhhdCB0aGVcbiAgICAgIC8vIG1haW4gaW5kZXggcGFzc2VzIHRvIHRoZSBmdW5jdGlvbiBmb3JtIG9mIGBzZXRVaVN0YXRlYC5cbiAgICAgIHRoaXMubWFpbkluZGV4LnJlZnJlc2hVaVN0YXRlKCk7XG4gICAgICB2YXIgbmV4dFVpU3RhdGUgPSB0eXBlb2YgdWlTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyA/IHVpU3RhdGUodGhpcy5tYWluSW5kZXguZ2V0V2lkZ2V0VWlTdGF0ZSh7fSkpIDogdWlTdGF0ZTtcbiAgICAgIGlmICh0aGlzLm9uU3RhdGVDaGFuZ2UgJiYgY2FsbE9uU3RhdGVDaGFuZ2UpIHtcbiAgICAgICAgdGhpcy5vblN0YXRlQ2hhbmdlKHtcbiAgICAgICAgICB1aVN0YXRlOiBuZXh0VWlTdGF0ZSxcbiAgICAgICAgICBzZXRVaVN0YXRlOiBmdW5jdGlvbiBzZXRVaVN0YXRlKGZpbmFsVWlTdGF0ZSkge1xuICAgICAgICAgICAgc2V0SW5kZXhIZWxwZXJTdGF0ZSh0eXBlb2YgZmluYWxVaVN0YXRlID09PSAnZnVuY3Rpb24nID8gZmluYWxVaVN0YXRlKG5leHRVaVN0YXRlKSA6IGZpbmFsVWlTdGF0ZSwgX3RoaXM1Lm1haW5JbmRleCk7XG4gICAgICAgICAgICBfdGhpczUuc2NoZWR1bGVTZWFyY2goKTtcbiAgICAgICAgICAgIF90aGlzNS5vbkludGVybmFsU3RhdGVDaGFuZ2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0SW5kZXhIZWxwZXJTdGF0ZShuZXh0VWlTdGF0ZSwgdGhpcy5tYWluSW5kZXgpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlU2VhcmNoKCk7XG4gICAgICAgIHRoaXMub25JbnRlcm5hbFN0YXRlQ2hhbmdlKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcImdldFVpU3RhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VWlTdGF0ZSgpIHtcbiAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHtcbiAgICAgICAgLy8gV2UgcmVmcmVzaCB0aGUgaW5kZXggVUkgc3RhdGUgdG8gbWFrZSBzdXJlIGNoYW5nZXMgZnJvbSBgcmVmaW5lYCBhcmUgdGFrZW4gaW4gYWNjb3VudFxuICAgICAgICB0aGlzLm1haW5JbmRleC5yZWZyZXNoVWlTdGF0ZSgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMubWFpbkluZGV4LmdldFdpZGdldFVpU3RhdGUoe30pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogXCJjcmVhdGVVUkxcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlVVJMKCkge1xuICAgICAgdmFyIG5leHRTdGF0ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICBpZiAoIXRoaXMuc3RhcnRlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3Iod2l0aFVzYWdlKCdUaGUgYHN0YXJ0YCBtZXRob2QgbmVlZHMgdG8gYmUgY2FsbGVkIGJlZm9yZSBgY3JlYXRlVVJMYC4nKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fY3JlYXRlVVJMKG5leHRTdGF0ZSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcInJlZnJlc2hcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVmcmVzaCgpIHtcbiAgICAgIGlmICghdGhpcy5tYWluSGVscGVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih3aXRoVXNhZ2UoJ1RoZSBgc3RhcnRgIG1ldGhvZCBuZWVkcyB0byBiZSBjYWxsZWQgYmVmb3JlIGByZWZyZXNoYC4nKSk7XG4gICAgICB9XG4gICAgICB0aGlzLm1haW5IZWxwZXIuY2xlYXJDYWNoZSgpLnNlYXJjaCgpO1xuICAgIH1cbiAgfV0pO1xuICByZXR1cm4gSW5zdGFudFNlYXJjaDtcbn0oRXZlbnRFbWl0dGVyKTtcbmV4cG9ydCBkZWZhdWx0IEluc3RhbnRTZWFyY2g7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/InstantSearch.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/chat/chat.js":
/*!***********************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/chat/chat.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractChat: () => (/* reexport safe */ ai__WEBPACK_IMPORTED_MODULE_0__.AbstractChat),\n/* harmony export */   CACHE_KEY: () => (/* binding */ CACHE_KEY),\n/* harmony export */   Chat: () => (/* binding */ Chat),\n/* harmony export */   ChatState: () => (/* binding */ ChatState)\n/* harmony export */ });\n/* harmony import */ var ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ai */ \"(ssr)/./node_modules/ai/dist/index.mjs\");\nvar _excluded = [\"messages\", \"agentId\"];\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nfunction _inherits(t, e) { if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, \"prototype\", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\nfunction _createSuper(t) { var r = _isNativeReflectConstruct(); return function () { var e, o = _getPrototypeOf(t); if (r) { var s = _getPrototypeOf(this).constructor; e = Reflect.construct(o, arguments, s); } else e = o.apply(this, arguments); return _possibleConstructorReturn(this, e); }; }\nfunction _possibleConstructorReturn(t, e) { if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e; if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\n\nvar CACHE_KEY = 'instantsearch-chat-initial-messages';\nfunction getDefaultInitialMessages(id) {\n  var initialMessages = sessionStorage.getItem(CACHE_KEY + (id ? \"-\".concat(id) : ''));\n  return initialMessages ? JSON.parse(initialMessages) : [];\n}\nvar ChatState = /*#__PURE__*/function () {\n  function ChatState() {\n    var _this = this;\n    var id = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;\n    var initialMessages = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : getDefaultInitialMessages(id);\n    _classCallCheck(this, ChatState);\n    _defineProperty(this, \"_messages\", void 0);\n    _defineProperty(this, \"_status\", 'ready');\n    _defineProperty(this, \"_error\", undefined);\n    _defineProperty(this, \"_messagesCallbacks\", new Set());\n    _defineProperty(this, \"_statusCallbacks\", new Set());\n    _defineProperty(this, \"_errorCallbacks\", new Set());\n    _defineProperty(this, \"pushMessage\", function (message) {\n      _this._messages = _this._messages.concat(message);\n      _this._callMessagesCallbacks();\n    });\n    _defineProperty(this, \"popMessage\", function () {\n      _this._messages = _this._messages.slice(0, -1);\n      _this._callMessagesCallbacks();\n    });\n    _defineProperty(this, \"replaceMessage\", function (index, message) {\n      _this._messages = [].concat(_toConsumableArray(_this._messages.slice(0, index)), [\n      // We deep clone the message here to ensure the new React Compiler (currently in RC) detects deeply nested parts/metadata changes:\n      _this.snapshot(message)], _toConsumableArray(_this._messages.slice(index + 1)));\n      _this._callMessagesCallbacks();\n    });\n    _defineProperty(this, \"snapshot\", function (thing) {\n      return JSON.parse(JSON.stringify(thing));\n    });\n    _defineProperty(this, '~registerMessagesCallback', function (onChange) {\n      var callback = onChange;\n      _this._messagesCallbacks.add(callback);\n      return function () {\n        _this._messagesCallbacks.delete(callback);\n      };\n    });\n    _defineProperty(this, '~registerStatusCallback', function (onChange) {\n      _this._statusCallbacks.add(onChange);\n      return function () {\n        _this._statusCallbacks.delete(onChange);\n      };\n    });\n    _defineProperty(this, '~registerErrorCallback', function (onChange) {\n      _this._errorCallbacks.add(onChange);\n      return function () {\n        _this._errorCallbacks.delete(onChange);\n      };\n    });\n    _defineProperty(this, \"_callMessagesCallbacks\", function () {\n      _this._messagesCallbacks.forEach(function (callback) {\n        return callback();\n      });\n    });\n    _defineProperty(this, \"_callStatusCallbacks\", function () {\n      _this._statusCallbacks.forEach(function (callback) {\n        return callback();\n      });\n    });\n    _defineProperty(this, \"_callErrorCallbacks\", function () {\n      _this._errorCallbacks.forEach(function (callback) {\n        return callback();\n      });\n    });\n    this._messages = initialMessages;\n    var saveMessagesInLocalStorage = function saveMessagesInLocalStorage() {\n      if (_this.status === 'ready') {\n        try {\n          sessionStorage.setItem(CACHE_KEY + (id ? \"-\".concat(id) : ''), JSON.stringify(_this.messages));\n        } catch (e) {\n          // Do nothing if sessionStorage is not available or full\n        }\n      }\n    };\n    this['~registerMessagesCallback'](saveMessagesInLocalStorage);\n    this['~registerStatusCallback'](saveMessagesInLocalStorage);\n  }\n  _createClass(ChatState, [{\n    key: \"status\",\n    get: function get() {\n      return this._status;\n    },\n    set: function set(newStatus) {\n      this._status = newStatus;\n      this._callStatusCallbacks();\n    }\n  }, {\n    key: \"error\",\n    get: function get() {\n      return this._error;\n    },\n    set: function set(newError) {\n      this._error = newError;\n      this._callErrorCallbacks();\n    }\n  }, {\n    key: \"messages\",\n    get: function get() {\n      return this._messages;\n    },\n    set: function set(newMessages) {\n      this._messages = _toConsumableArray(newMessages);\n      this._callMessagesCallbacks();\n    }\n  }]);\n  return ChatState;\n}();\nvar Chat = /*#__PURE__*/function (_AbstractChat) {\n  _inherits(Chat, _AbstractChat);\n  var _super = _createSuper(Chat);\n  function Chat(_ref) {\n    var _this2;\n    var messages = _ref.messages,\n      agentId = _ref.agentId,\n      init = _objectWithoutProperties(_ref, _excluded);\n    _classCallCheck(this, Chat);\n    var state = new ChatState(agentId, messages);\n    _this2 = _super.call(this, _objectSpread(_objectSpread({}, init), {}, {\n      state: state\n    }));\n    _defineProperty(_assertThisInitialized(_this2), \"_state\", void 0);\n    _defineProperty(_assertThisInitialized(_this2), '~registerMessagesCallback', function (onChange) {\n      return _this2._state['~registerMessagesCallback'](onChange);\n    });\n    _defineProperty(_assertThisInitialized(_this2), '~registerStatusCallback', function (onChange) {\n      return _this2._state['~registerStatusCallback'](onChange);\n    });\n    _defineProperty(_assertThisInitialized(_this2), '~registerErrorCallback', function (onChange) {\n      return _this2._state['~registerErrorCallback'](onChange);\n    });\n    _this2._state = state;\n    return _this2;\n  }\n  return _createClass(Chat);\n}(ai__WEBPACK_IMPORTED_MODULE_0__.AbstractChat);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvY2hhdC9jaGF0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQSxzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUMvUyx5QkFBeUIsd0JBQXdCLG9DQUFvQyx5Q0FBeUMsa0NBQWtDLDBEQUEwRCwwQkFBMEI7QUFDcFAsNEJBQTRCLGdCQUFnQixzQkFBc0IsT0FBTyxrREFBa0Qsc0RBQXNELDhCQUE4QixtSkFBbUoscUVBQXFFLEtBQUs7QUFDNWEsMENBQTBDLDBCQUEwQixtREFBbUQsb0NBQW9DLHlDQUF5QyxZQUFZLGNBQWMsd0NBQXdDLHFEQUFxRDtBQUMzVCwrQ0FBK0MsMEJBQTBCLFlBQVksdUJBQXVCLDhCQUE4QixtQ0FBbUMsZUFBZTtBQUM1TCwyQkFBMkIscUhBQXFILGdEQUFnRCxlQUFlLDRDQUE0QywyQ0FBMkMsY0FBYztBQUNwVCxpQ0FBaUMsa0dBQWtHLDRCQUE0QjtBQUMvSiwyQkFBMkIscUNBQXFDLHFCQUFxQiwrQkFBK0IsU0FBUywyQ0FBMkMsMENBQTBDLG1DQUFtQztBQUNyUCw0Q0FBNEMsdUVBQXVFLG1HQUFtRztBQUN0TixxQ0FBcUMseUdBQXlHO0FBQzlJLHVDQUF1QyxNQUFNLHFGQUFxRixNQUFNLGFBQWEsMkVBQTJFLGFBQWE7QUFDN08sOEJBQThCLCtGQUErRixpREFBaUQ7QUFDOUssaUNBQWlDO0FBQ2pDLGdDQUFnQztBQUNoQyw2Q0FBNkMsU0FBUywwREFBMEQsVUFBVSxnQ0FBZ0M7QUFDMUosK0JBQStCO0FBQy9CLGlDQUFpQztBQUNqQyxtQ0FBbUMsK0NBQStDLDhCQUE4QixPQUFPLGtCQUFrQjtBQUN6SSxpQ0FBaUM7QUFDakMsbUNBQW1DLGdCQUFnQixjQUFjLE9BQU8sY0FBYztBQUN0RixpQ0FBaUMscUhBQXFILGNBQWM7QUFDcEssb0NBQW9DLG9FQUFvRSwwREFBMEQ7QUFDbEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDM087QUFDVjtBQUNqQjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLENBQUM7QUFDTTtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxXQUFXO0FBQ3hFO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLENBQUMsNENBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGVjLWxvZ2ljLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2luc3RhbnRzZWFyY2guanMvZXMvbGliL2NoYXQvY2hhdC5qcz83YTA4Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfZXhjbHVkZWQgPSBbXCJtZXNzYWdlc1wiLCBcImFnZW50SWRcIl07XG5mdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5mdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhlLCB0KSB7IGlmIChudWxsID09IGUpIHJldHVybiB7fTsgdmFyIG8sIHIsIGkgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShlLCB0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG4gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyBmb3IgKHIgPSAwOyByIDwgbi5sZW5ndGg7IHIrKykgbyA9IG5bcl0sIC0xID09PSB0LmluZGV4T2YobykgJiYge30ucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLCBvKSAmJiAoaVtvXSA9IGVbb10pOyB9IHJldHVybiBpOyB9XG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShyLCBlKSB7IGlmIChudWxsID09IHIpIHJldHVybiB7fTsgdmFyIHQgPSB7fTsgZm9yICh2YXIgbiBpbiByKSBpZiAoe30uaGFzT3duUHJvcGVydHkuY2FsbChyLCBuKSkgeyBpZiAoLTEgIT09IGUuaW5kZXhPZihuKSkgY29udGludWU7IHRbbl0gPSByW25dOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfaW5oZXJpdHModCwgZSkgeyBpZiAoXCJmdW5jdGlvblwiICE9IHR5cGVvZiBlICYmIG51bGwgIT09IGUpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvblwiKTsgdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGUgJiYgZS5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHQsIHdyaXRhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCB9IH0pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogITEgfSksIGUgJiYgX3NldFByb3RvdHlwZU9mKHQsIGUpOyB9XG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YodCwgZSkgeyByZXR1cm4gX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mLmJpbmQoKSA6IGZ1bmN0aW9uICh0LCBlKSB7IHJldHVybiB0Ll9fcHJvdG9fXyA9IGUsIHQ7IH0sIF9zZXRQcm90b3R5cGVPZih0LCBlKTsgfVxuZnVuY3Rpb24gX2NyZWF0ZVN1cGVyKHQpIHsgdmFyIHIgPSBfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0KCk7IHJldHVybiBmdW5jdGlvbiAoKSB7IHZhciBlLCBvID0gX2dldFByb3RvdHlwZU9mKHQpOyBpZiAocikgeyB2YXIgcyA9IF9nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjsgZSA9IFJlZmxlY3QuY29uc3RydWN0KG8sIGFyZ3VtZW50cywgcyk7IH0gZWxzZSBlID0gby5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgZSk7IH07IH1cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHQsIGUpIHsgaWYgKGUgJiYgKFwib2JqZWN0XCIgPT0gX3R5cGVvZihlKSB8fCBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUpKSByZXR1cm4gZTsgaWYgKHZvaWQgMCAhPT0gZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkRlcml2ZWQgY29uc3RydWN0b3JzIG1heSBvbmx5IHJldHVybiBvYmplY3Qgb3IgdW5kZWZpbmVkXCIpOyByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZCh0KTsgfVxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChlKSB7IGlmICh2b2lkIDAgPT09IGUpIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9pc05hdGl2ZVJlZmxlY3RDb25zdHJ1Y3QoKSB7IHRyeSB7IHZhciB0ID0gIUJvb2xlYW4ucHJvdG90eXBlLnZhbHVlT2YuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChCb29sZWFuLCBbXSwgZnVuY3Rpb24gKCkge30pKTsgfSBjYXRjaCAodCkge30gcmV0dXJuIChfaXNOYXRpdmVSZWZsZWN0Q29uc3RydWN0ID0gZnVuY3Rpb24gX2lzTmF0aXZlUmVmbGVjdENvbnN0cnVjdCgpIHsgcmV0dXJuICEhdDsgfSkoKTsgfVxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKHQpIHsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZi5iaW5kKCkgOiBmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKHQpOyB9LCBfZ2V0UHJvdG90eXBlT2YodCk7IH1cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMocikgfHwgX2l0ZXJhYmxlVG9BcnJheShyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkocikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmIChcInN0cmluZ1wiID09IHR5cGVvZiByKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkociwgYSk7IHZhciB0ID0ge30udG9TdHJpbmcuY2FsbChyKS5zbGljZSg4LCAtMSk7IHJldHVybiBcIk9iamVjdFwiID09PSB0ICYmIHIuY29uc3RydWN0b3IgJiYgKHQgPSByLmNvbnN0cnVjdG9yLm5hbWUpLCBcIk1hcFwiID09PSB0IHx8IFwiU2V0XCIgPT09IHQgPyBBcnJheS5mcm9tKHIpIDogXCJBcmd1bWVudHNcIiA9PT0gdCB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSA/IF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIDogdm9pZCAwOyB9IH1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkocikgeyBpZiAoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIG51bGwgIT0gcltTeW1ib2wuaXRlcmF0b3JdIHx8IG51bGwgIT0gcltcIkBAaXRlcmF0b3JcIl0pIHJldHVybiBBcnJheS5mcm9tKHIpOyB9XG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMocikgeyBpZiAoQXJyYXkuaXNBcnJheShyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIpOyB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soYSwgbikgeyBpZiAoIShhIGluc3RhbmNlb2YgbikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHIpIHsgZm9yICh2YXIgdCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKSB7IHZhciBvID0gclt0XTsgby5lbnVtZXJhYmxlID0gby5lbnVtZXJhYmxlIHx8ICExLCBvLmNvbmZpZ3VyYWJsZSA9ICEwLCBcInZhbHVlXCIgaW4gbyAmJiAoby53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIF90b1Byb3BlcnR5S2V5KG8ua2V5KSwgbyk7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKGUsIHIsIHQpIHsgcmV0dXJuIHIgJiYgX2RlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsIHIpLCB0ICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHQpLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogITEgfSksIGU7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0KSB7IHJldHVybiAociA9IF90b1Byb3BlcnR5S2V5KHIpKSBpbiBlID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIHsgdmFsdWU6IHQsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSkgOiBlW3JdID0gdCwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmltcG9ydCB7IEFic3RyYWN0Q2hhdCB9IGZyb20gJ2FpJztcbmV4cG9ydCB7IEFic3RyYWN0Q2hhdCB9O1xuZXhwb3J0IHZhciBDQUNIRV9LRVkgPSAnaW5zdGFudHNlYXJjaC1jaGF0LWluaXRpYWwtbWVzc2FnZXMnO1xuZnVuY3Rpb24gZ2V0RGVmYXVsdEluaXRpYWxNZXNzYWdlcyhpZCkge1xuICB2YXIgaW5pdGlhbE1lc3NhZ2VzID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShDQUNIRV9LRVkgKyAoaWQgPyBcIi1cIi5jb25jYXQoaWQpIDogJycpKTtcbiAgcmV0dXJuIGluaXRpYWxNZXNzYWdlcyA/IEpTT04ucGFyc2UoaW5pdGlhbE1lc3NhZ2VzKSA6IFtdO1xufVxuZXhwb3J0IHZhciBDaGF0U3RhdGUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBDaGF0U3RhdGUoKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgaWQgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHVuZGVmaW5lZDtcbiAgICB2YXIgaW5pdGlhbE1lc3NhZ2VzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBnZXREZWZhdWx0SW5pdGlhbE1lc3NhZ2VzKGlkKTtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ2hhdFN0YXRlKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfbWVzc2FnZXNcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfc3RhdHVzXCIsICdyZWFkeScpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9lcnJvclwiLCB1bmRlZmluZWQpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9tZXNzYWdlc0NhbGxiYWNrc1wiLCBuZXcgU2V0KCkpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zdGF0dXNDYWxsYmFja3NcIiwgbmV3IFNldCgpKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfZXJyb3JDYWxsYmFja3NcIiwgbmV3IFNldCgpKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJwdXNoTWVzc2FnZVwiLCBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgX3RoaXMuX21lc3NhZ2VzID0gX3RoaXMuX21lc3NhZ2VzLmNvbmNhdChtZXNzYWdlKTtcbiAgICAgIF90aGlzLl9jYWxsTWVzc2FnZXNDYWxsYmFja3MoKTtcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJwb3BNZXNzYWdlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIF90aGlzLl9tZXNzYWdlcyA9IF90aGlzLl9tZXNzYWdlcy5zbGljZSgwLCAtMSk7XG4gICAgICBfdGhpcy5fY2FsbE1lc3NhZ2VzQ2FsbGJhY2tzKCk7XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwicmVwbGFjZU1lc3NhZ2VcIiwgZnVuY3Rpb24gKGluZGV4LCBtZXNzYWdlKSB7XG4gICAgICBfdGhpcy5fbWVzc2FnZXMgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzLl9tZXNzYWdlcy5zbGljZSgwLCBpbmRleCkpLCBbXG4gICAgICAvLyBXZSBkZWVwIGNsb25lIHRoZSBtZXNzYWdlIGhlcmUgdG8gZW5zdXJlIHRoZSBuZXcgUmVhY3QgQ29tcGlsZXIgKGN1cnJlbnRseSBpbiBSQykgZGV0ZWN0cyBkZWVwbHkgbmVzdGVkIHBhcnRzL21ldGFkYXRhIGNoYW5nZXM6XG4gICAgICBfdGhpcy5zbmFwc2hvdChtZXNzYWdlKV0sIF90b0NvbnN1bWFibGVBcnJheShfdGhpcy5fbWVzc2FnZXMuc2xpY2UoaW5kZXggKyAxKSkpO1xuICAgICAgX3RoaXMuX2NhbGxNZXNzYWdlc0NhbGxiYWNrcygpO1xuICAgIH0pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInNuYXBzaG90XCIsIGZ1bmN0aW9uICh0aGluZykge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpbmcpKTtcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgJ35yZWdpc3Rlck1lc3NhZ2VzQ2FsbGJhY2snLCBmdW5jdGlvbiAob25DaGFuZ2UpIHtcbiAgICAgIHZhciBjYWxsYmFjayA9IG9uQ2hhbmdlO1xuICAgICAgX3RoaXMuX21lc3NhZ2VzQ2FsbGJhY2tzLmFkZChjYWxsYmFjayk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpcy5fbWVzc2FnZXNDYWxsYmFja3MuZGVsZXRlKGNhbGxiYWNrKTtcbiAgICAgIH07XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsICd+cmVnaXN0ZXJTdGF0dXNDYWxsYmFjaycsIGZ1bmN0aW9uIChvbkNoYW5nZSkge1xuICAgICAgX3RoaXMuX3N0YXR1c0NhbGxiYWNrcy5hZGQob25DaGFuZ2UpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuX3N0YXR1c0NhbGxiYWNrcy5kZWxldGUob25DaGFuZ2UpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgJ35yZWdpc3RlckVycm9yQ2FsbGJhY2snLCBmdW5jdGlvbiAob25DaGFuZ2UpIHtcbiAgICAgIF90aGlzLl9lcnJvckNhbGxiYWNrcy5hZGQob25DaGFuZ2UpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMuX2Vycm9yQ2FsbGJhY2tzLmRlbGV0ZShvbkNoYW5nZSk7XG4gICAgICB9O1xuICAgIH0pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jYWxsTWVzc2FnZXNDYWxsYmFja3NcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuX21lc3NhZ2VzQ2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX2NhbGxTdGF0dXNDYWxsYmFja3NcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuX3N0YXR1c0NhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9jYWxsRXJyb3JDYWxsYmFja3NcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgX3RoaXMuX2Vycm9yQ2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgdGhpcy5fbWVzc2FnZXMgPSBpbml0aWFsTWVzc2FnZXM7XG4gICAgdmFyIHNhdmVNZXNzYWdlc0luTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24gc2F2ZU1lc3NhZ2VzSW5Mb2NhbFN0b3JhZ2UoKSB7XG4gICAgICBpZiAoX3RoaXMuc3RhdHVzID09PSAncmVhZHknKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShDQUNIRV9LRVkgKyAoaWQgPyBcIi1cIi5jb25jYXQoaWQpIDogJycpLCBKU09OLnN0cmluZ2lmeShfdGhpcy5tZXNzYWdlcykpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gRG8gbm90aGluZyBpZiBzZXNzaW9uU3RvcmFnZSBpcyBub3QgYXZhaWxhYmxlIG9yIGZ1bGxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdGhpc1snfnJlZ2lzdGVyTWVzc2FnZXNDYWxsYmFjayddKHNhdmVNZXNzYWdlc0luTG9jYWxTdG9yYWdlKTtcbiAgICB0aGlzWyd+cmVnaXN0ZXJTdGF0dXNDYWxsYmFjayddKHNhdmVNZXNzYWdlc0luTG9jYWxTdG9yYWdlKTtcbiAgfVxuICBfY3JlYXRlQ2xhc3MoQ2hhdFN0YXRlLCBbe1xuICAgIGtleTogXCJzdGF0dXNcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zdGF0dXM7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXdTdGF0dXMpIHtcbiAgICAgIHRoaXMuX3N0YXR1cyA9IG5ld1N0YXR1cztcbiAgICAgIHRoaXMuX2NhbGxTdGF0dXNDYWxsYmFja3MoKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwiZXJyb3JcIixcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgIHJldHVybiB0aGlzLl9lcnJvcjtcbiAgICB9LFxuICAgIHNldDogZnVuY3Rpb24gc2V0KG5ld0Vycm9yKSB7XG4gICAgICB0aGlzLl9lcnJvciA9IG5ld0Vycm9yO1xuICAgICAgdGhpcy5fY2FsbEVycm9yQ2FsbGJhY2tzKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiBcIm1lc3NhZ2VzXCIsXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbWVzc2FnZXM7XG4gICAgfSxcbiAgICBzZXQ6IGZ1bmN0aW9uIHNldChuZXdNZXNzYWdlcykge1xuICAgICAgdGhpcy5fbWVzc2FnZXMgPSBfdG9Db25zdW1hYmxlQXJyYXkobmV3TWVzc2FnZXMpO1xuICAgICAgdGhpcy5fY2FsbE1lc3NhZ2VzQ2FsbGJhY2tzKCk7XG4gICAgfVxuICB9XSk7XG4gIHJldHVybiBDaGF0U3RhdGU7XG59KCk7XG5leHBvcnQgdmFyIENoYXQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9BYnN0cmFjdENoYXQpIHtcbiAgX2luaGVyaXRzKENoYXQsIF9BYnN0cmFjdENoYXQpO1xuICB2YXIgX3N1cGVyID0gX2NyZWF0ZVN1cGVyKENoYXQpO1xuICBmdW5jdGlvbiBDaGF0KF9yZWYpIHtcbiAgICB2YXIgX3RoaXMyO1xuICAgIHZhciBtZXNzYWdlcyA9IF9yZWYubWVzc2FnZXMsXG4gICAgICBhZ2VudElkID0gX3JlZi5hZ2VudElkLFxuICAgICAgaW5pdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBfZXhjbHVkZWQpO1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDaGF0KTtcbiAgICB2YXIgc3RhdGUgPSBuZXcgQ2hhdFN0YXRlKGFnZW50SWQsIG1lc3NhZ2VzKTtcbiAgICBfdGhpczIgPSBfc3VwZXIuY2FsbCh0aGlzLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGluaXQpLCB7fSwge1xuICAgICAgc3RhdGU6IHN0YXRlXG4gICAgfSkpO1xuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMiksIFwiX3N0YXRlXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMyKSwgJ35yZWdpc3Rlck1lc3NhZ2VzQ2FsbGJhY2snLCBmdW5jdGlvbiAob25DaGFuZ2UpIHtcbiAgICAgIHJldHVybiBfdGhpczIuX3N0YXRlWyd+cmVnaXN0ZXJNZXNzYWdlc0NhbGxiYWNrJ10ob25DaGFuZ2UpO1xuICAgIH0pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMiksICd+cmVnaXN0ZXJTdGF0dXNDYWxsYmFjaycsIGZ1bmN0aW9uIChvbkNoYW5nZSkge1xuICAgICAgcmV0dXJuIF90aGlzMi5fc3RhdGVbJ35yZWdpc3RlclN0YXR1c0NhbGxiYWNrJ10ob25DaGFuZ2UpO1xuICAgIH0pO1xuICAgIF9kZWZpbmVQcm9wZXJ0eShfYXNzZXJ0VGhpc0luaXRpYWxpemVkKF90aGlzMiksICd+cmVnaXN0ZXJFcnJvckNhbGxiYWNrJywgZnVuY3Rpb24gKG9uQ2hhbmdlKSB7XG4gICAgICByZXR1cm4gX3RoaXMyLl9zdGF0ZVsnfnJlZ2lzdGVyRXJyb3JDYWxsYmFjayddKG9uQ2hhbmdlKTtcbiAgICB9KTtcbiAgICBfdGhpczIuX3N0YXRlID0gc3RhdGU7XG4gICAgcmV0dXJuIF90aGlzMjtcbiAgfVxuICByZXR1cm4gX2NyZWF0ZUNsYXNzKENoYXQpO1xufShBYnN0cmFjdENoYXQpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/chat/chat.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/chat/index.js":
/*!************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/chat/index.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AbstractChat: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_0__.AbstractChat),\n/* harmony export */   Chat: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_1__.Chat),\n/* harmony export */   ChatState: () => (/* reexport safe */ _chat_js__WEBPACK_IMPORTED_MODULE_1__.ChatState),\n/* harmony export */   MemorizeToolType: () => (/* binding */ MemorizeToolType),\n/* harmony export */   MemorySearchToolType: () => (/* binding */ MemorySearchToolType),\n/* harmony export */   PonderToolType: () => (/* binding */ PonderToolType),\n/* harmony export */   RecommendToolType: () => (/* binding */ RecommendToolType),\n/* harmony export */   SearchIndexToolType: () => (/* binding */ SearchIndexToolType)\n/* harmony export */ });\n/* harmony import */ var _chat_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chat.js */ \"(ssr)/./node_modules/ai/dist/index.mjs\");\n/* harmony import */ var _chat_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chat.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/chat/chat.js\");\n\n\n\nvar SearchIndexToolType = 'algolia_search_index';\nvar RecommendToolType = 'algolia_recommend';\nvar MemorizeToolType = 'algolia_memorize';\nvar MemorySearchToolType = 'algolia_memory_search';\nvar PonderToolType = 'algolia_ponder';//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvY2hhdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQXlDO0FBQ0g7QUFDTDtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2xpYi9jaGF0L2luZGV4LmpzPzAwZGIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgQWJzdHJhY3RDaGF0IH0gZnJvbSBcIi4vY2hhdC5qc1wiO1xuZXhwb3J0IHsgQ2hhdFN0YXRlIH0gZnJvbSBcIi4vY2hhdC5qc1wiO1xuZXhwb3J0IHsgQ2hhdCB9IGZyb20gXCIuL2NoYXQuanNcIjtcbmV4cG9ydCB2YXIgU2VhcmNoSW5kZXhUb29sVHlwZSA9ICdhbGdvbGlhX3NlYXJjaF9pbmRleCc7XG5leHBvcnQgdmFyIFJlY29tbWVuZFRvb2xUeXBlID0gJ2FsZ29saWFfcmVjb21tZW5kJztcbmV4cG9ydCB2YXIgTWVtb3JpemVUb29sVHlwZSA9ICdhbGdvbGlhX21lbW9yaXplJztcbmV4cG9ydCB2YXIgTWVtb3J5U2VhcmNoVG9vbFR5cGUgPSAnYWxnb2xpYV9tZW1vcnlfc2VhcmNoJztcbmV4cG9ydCB2YXIgUG9uZGVyVG9vbFR5cGUgPSAnYWxnb2xpYV9wb25kZXInOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/chat/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/createHelpers.js":
/*!***************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/createHelpers.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ hoganHelpers)\n/* harmony export */ });\n/* harmony import */ var _helpers_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/helpers/highlight.js\");\n/* harmony import */ var _helpers_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/helpers/reverseHighlight.js\");\n/* harmony import */ var _helpers_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helpers/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/helpers/snippet.js\");\n/* harmony import */ var _helpers_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../helpers/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/helpers/reverseSnippet.js\");\n/* harmony import */ var _helpers_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../helpers/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/helpers/insights.js\");\n/* harmony import */ var _formatNumber_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./formatNumber.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/formatNumber.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\n\nfunction hoganHelpers(_ref) {\n  var numberLocale = _ref.numberLocale;\n  return {\n    formatNumber: function formatNumber(value, render) {\n      return (0,_formatNumber_js__WEBPACK_IMPORTED_MODULE_0__.formatNumber)(Number(render(value)), numberLocale);\n    },\n    highlight: function highlight(options, render) {\n      try {\n        var highlightOptions = JSON.parse(options);\n        return render((0,_helpers_index_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(_objectSpread(_objectSpread({}, highlightOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\nThe highlight helper expects a JSON object of the format:\\n{ \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    reverseHighlight: function reverseHighlight(options, render) {\n      try {\n        var reverseHighlightOptions = JSON.parse(options);\n        return render((0,_helpers_index_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(_objectSpread(_objectSpread({}, reverseHighlightOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\n  The reverseHighlight helper expects a JSON object of the format:\\n  { \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    snippet: function snippet(options, render) {\n      try {\n        var snippetOptions = JSON.parse(options);\n        return render((0,_helpers_index_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(_objectSpread(_objectSpread({}, snippetOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\nThe snippet helper expects a JSON object of the format:\\n{ \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    reverseSnippet: function reverseSnippet(options, render) {\n      try {\n        var reverseSnippetOptions = JSON.parse(options);\n        return render((0,_helpers_index_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(_objectSpread(_objectSpread({}, reverseSnippetOptions), {}, {\n          hit: this\n        })));\n      } catch (error) {\n        throw new Error(\"\\n  The reverseSnippet helper expects a JSON object of the format:\\n  { \\\"attribute\\\": \\\"name\\\", \\\"highlightedTagName\\\": \\\"mark\\\" }\");\n      }\n    },\n    insights: function insights(options, render) {\n      try {\n        var _JSON$parse = JSON.parse(options),\n          method = _JSON$parse.method,\n          payload = _JSON$parse.payload;\n        return render((0,_helpers_index_js__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(method, _objectSpread({\n          objectIDs: [this.objectID]\n        }, payload)));\n      } catch (error) {\n        throw new Error(\"\\nThe insights helper expects a JSON object of the format:\\n{ \\\"method\\\": \\\"method-name\\\", \\\"payload\\\": { \\\"eventName\\\": \\\"name of the event\\\" } }\");\n      }\n    }\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvY3JlYXRlSGVscGVycy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MseUJBQXlCLHdCQUF3QixvQ0FBb0MseUNBQXlDLGtDQUFrQywwREFBMEQsMEJBQTBCO0FBQ3BQLDRCQUE0QixnQkFBZ0Isc0JBQXNCLE9BQU8sa0RBQWtELHNEQUFzRCw4QkFBOEIsbUpBQW1KLHFFQUFxRSxLQUFLO0FBQzVhLG9DQUFvQyxvRUFBb0UsMERBQTBEO0FBQ2xLLDZCQUE2QixtQ0FBbUM7QUFDaEUsOEJBQThCLDRDQUE0QywrQkFBK0Isb0JBQW9CLG1DQUFtQyxzQ0FBc0MsdUVBQXVFO0FBQ3pGO0FBQ2xIO0FBQ25EO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsYUFBYSw4REFBYTtBQUMxQixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDZEQUFVLCtCQUErQix1QkFBdUI7QUFDdEY7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSLHdGQUF3RiwyREFBMkQ7QUFDbko7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDZEQUFpQiwrQkFBK0IsOEJBQThCO0FBQ3BHO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUixtR0FBbUcsMkRBQTJEO0FBQzlKO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw2REFBUSwrQkFBK0IscUJBQXFCO0FBQ2xGO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUixzRkFBc0YsMkRBQTJEO0FBQ2pKO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiw2REFBZSwrQkFBK0IsNEJBQTRCO0FBQ2hHO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUixpR0FBaUcsMkRBQTJEO0FBQzVKO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsNkRBQVM7QUFDL0I7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSLHVGQUF1Riw0Q0FBNEMsd0NBQXdDO0FBQzNLO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2xpYi9jcmVhdGVIZWxwZXJzLmpzPzFmNWQiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5pbXBvcnQgeyBoaWdobGlnaHQgYXMgX2hpZ2hsaWdodCwgcmV2ZXJzZUhpZ2hsaWdodCBhcyBfcmV2ZXJzZUhpZ2hsaWdodCwgc25pcHBldCBhcyBfc25pcHBldCwgcmV2ZXJzZVNuaXBwZXQgYXMgX3JldmVyc2VTbmlwcGV0LCBpbnNpZ2h0cyBhcyBfaW5zaWdodHMgfSBmcm9tIFwiLi4vaGVscGVycy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgZm9ybWF0TnVtYmVyIGFzIF9mb3JtYXROdW1iZXIgfSBmcm9tIFwiLi9mb3JtYXROdW1iZXIuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhvZ2FuSGVscGVycyhfcmVmKSB7XG4gIHZhciBudW1iZXJMb2NhbGUgPSBfcmVmLm51bWJlckxvY2FsZTtcbiAgcmV0dXJuIHtcbiAgICBmb3JtYXROdW1iZXI6IGZ1bmN0aW9uIGZvcm1hdE51bWJlcih2YWx1ZSwgcmVuZGVyKSB7XG4gICAgICByZXR1cm4gX2Zvcm1hdE51bWJlcihOdW1iZXIocmVuZGVyKHZhbHVlKSksIG51bWJlckxvY2FsZSk7XG4gICAgfSxcbiAgICBoaWdobGlnaHQ6IGZ1bmN0aW9uIGhpZ2hsaWdodChvcHRpb25zLCByZW5kZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBoaWdobGlnaHRPcHRpb25zID0gSlNPTi5wYXJzZShvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHJlbmRlcihfaGlnaGxpZ2h0KF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaGlnaGxpZ2h0T3B0aW9ucyksIHt9LCB7XG4gICAgICAgICAgaGl0OiB0aGlzXG4gICAgICAgIH0pKSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJcXG5UaGUgaGlnaGxpZ2h0IGhlbHBlciBleHBlY3RzIGEgSlNPTiBvYmplY3Qgb2YgdGhlIGZvcm1hdDpcXG57IFxcXCJhdHRyaWJ1dGVcXFwiOiBcXFwibmFtZVxcXCIsIFxcXCJoaWdobGlnaHRlZFRhZ05hbWVcXFwiOiBcXFwibWFya1xcXCIgfVwiKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJldmVyc2VIaWdobGlnaHQ6IGZ1bmN0aW9uIHJldmVyc2VIaWdobGlnaHQob3B0aW9ucywgcmVuZGVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmV2ZXJzZUhpZ2hsaWdodE9wdGlvbnMgPSBKU09OLnBhcnNlKG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gcmVuZGVyKF9yZXZlcnNlSGlnaGxpZ2h0KF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcmV2ZXJzZUhpZ2hsaWdodE9wdGlvbnMpLCB7fSwge1xuICAgICAgICAgIGhpdDogdGhpc1xuICAgICAgICB9KSkpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiXFxuICBUaGUgcmV2ZXJzZUhpZ2hsaWdodCBoZWxwZXIgZXhwZWN0cyBhIEpTT04gb2JqZWN0IG9mIHRoZSBmb3JtYXQ6XFxuICB7IFxcXCJhdHRyaWJ1dGVcXFwiOiBcXFwibmFtZVxcXCIsIFxcXCJoaWdobGlnaHRlZFRhZ05hbWVcXFwiOiBcXFwibWFya1xcXCIgfVwiKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNuaXBwZXQ6IGZ1bmN0aW9uIHNuaXBwZXQob3B0aW9ucywgcmVuZGVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgc25pcHBldE9wdGlvbnMgPSBKU09OLnBhcnNlKG9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gcmVuZGVyKF9zbmlwcGV0KF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc25pcHBldE9wdGlvbnMpLCB7fSwge1xuICAgICAgICAgIGhpdDogdGhpc1xuICAgICAgICB9KSkpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiXFxuVGhlIHNuaXBwZXQgaGVscGVyIGV4cGVjdHMgYSBKU09OIG9iamVjdCBvZiB0aGUgZm9ybWF0OlxcbnsgXFxcImF0dHJpYnV0ZVxcXCI6IFxcXCJuYW1lXFxcIiwgXFxcImhpZ2hsaWdodGVkVGFnTmFtZVxcXCI6IFxcXCJtYXJrXFxcIiB9XCIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmV2ZXJzZVNuaXBwZXQ6IGZ1bmN0aW9uIHJldmVyc2VTbmlwcGV0KG9wdGlvbnMsIHJlbmRlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJldmVyc2VTbmlwcGV0T3B0aW9ucyA9IEpTT04ucGFyc2Uob3B0aW9ucyk7XG4gICAgICAgIHJldHVybiByZW5kZXIoX3JldmVyc2VTbmlwcGV0KF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcmV2ZXJzZVNuaXBwZXRPcHRpb25zKSwge30sIHtcbiAgICAgICAgICBoaXQ6IHRoaXNcbiAgICAgICAgfSkpKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlxcbiAgVGhlIHJldmVyc2VTbmlwcGV0IGhlbHBlciBleHBlY3RzIGEgSlNPTiBvYmplY3Qgb2YgdGhlIGZvcm1hdDpcXG4gIHsgXFxcImF0dHJpYnV0ZVxcXCI6IFxcXCJuYW1lXFxcIiwgXFxcImhpZ2hsaWdodGVkVGFnTmFtZVxcXCI6IFxcXCJtYXJrXFxcIiB9XCIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgaW5zaWdodHM6IGZ1bmN0aW9uIGluc2lnaHRzKG9wdGlvbnMsIHJlbmRlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIF9KU09OJHBhcnNlID0gSlNPTi5wYXJzZShvcHRpb25zKSxcbiAgICAgICAgICBtZXRob2QgPSBfSlNPTiRwYXJzZS5tZXRob2QsXG4gICAgICAgICAgcGF5bG9hZCA9IF9KU09OJHBhcnNlLnBheWxvYWQ7XG4gICAgICAgIHJldHVybiByZW5kZXIoX2luc2lnaHRzKG1ldGhvZCwgX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgb2JqZWN0SURzOiBbdGhpcy5vYmplY3RJRF1cbiAgICAgICAgfSwgcGF5bG9hZCkpKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlxcblRoZSBpbnNpZ2h0cyBoZWxwZXIgZXhwZWN0cyBhIEpTT04gb2JqZWN0IG9mIHRoZSBmb3JtYXQ6XFxueyBcXFwibWV0aG9kXFxcIjogXFxcIm1ldGhvZC1uYW1lXFxcIiwgXFxcInBheWxvYWRcXFwiOiB7IFxcXCJldmVudE5hbWVcXFwiOiBcXFwibmFtZSBvZiB0aGUgZXZlbnRcXFwiIH0gfVwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/createHelpers.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/formatNumber.js":
/*!**************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/formatNumber.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   formatNumber: () => (/* binding */ formatNumber)\n/* harmony export */ });\nfunction formatNumber(value, numberLocale) {\n  return value.toLocaleString(numberLocale);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvZm9ybWF0TnVtYmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGVjLWxvZ2ljLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2luc3RhbnRzZWFyY2guanMvZXMvbGliL2Zvcm1hdE51bWJlci5qcz9mMWJmIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBmb3JtYXROdW1iZXIodmFsdWUsIG51bWJlckxvY2FsZSkge1xuICByZXR1cm4gdmFsdWUudG9Mb2NhbGVTdHJpbmcobnVtYmVyTG9jYWxlKTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/formatNumber.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/routers/history.js":
/*!*****************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/routers/history.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ historyRouter)\n/* harmony export */ });\n/* harmony import */ var qs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! qs */ \"(ssr)/./node_modules/qs/lib/index.js\");\n/* harmony import */ var _utils_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/documentation.js\");\n/* harmony import */ var _utils_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/safelyRunOnBrowser.js\");\n/* harmony import */ var _utils_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/logger.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\n\nvar setWindowTitle = function setWindowTitle(title) {\n  if (title) {\n    // This function is only executed on browsers so we can disable this check.\n    // eslint-disable-next-line no-restricted-globals\n    window.document.title = title;\n  }\n};\nvar BrowserHistory = /*#__PURE__*/function () {\n  /**\n   * Initializes a new storage provider that syncs the search state to the URL\n   * using web APIs (`window.location.pushState` and `onpopstate` event).\n   */\n  function BrowserHistory(_ref) {\n    var _this = this;\n    var windowTitle = _ref.windowTitle,\n      _ref$writeDelay = _ref.writeDelay,\n      writeDelay = _ref$writeDelay === void 0 ? 400 : _ref$writeDelay,\n      createURL = _ref.createURL,\n      parseURL = _ref.parseURL,\n      getLocation = _ref.getLocation,\n      start = _ref.start,\n      dispose = _ref.dispose,\n      push = _ref.push,\n      cleanUrlOnDispose = _ref.cleanUrlOnDispose;\n    _classCallCheck(this, BrowserHistory);\n    _defineProperty(this, \"$$type\", 'ais.browser');\n    /**\n     * Transforms a UI state into a title for the page.\n     */\n    _defineProperty(this, \"windowTitle\", void 0);\n    /**\n     * Time in milliseconds before performing a write in the history.\n     * It prevents from adding too many entries in the history and\n     * makes the back button more usable.\n     *\n     * @default 400\n     */\n    _defineProperty(this, \"writeDelay\", void 0);\n    /**\n     * Creates a full URL based on the route state.\n     * The storage adaptor maps all syncable keys to the query string of the URL.\n     */\n    _defineProperty(this, \"_createURL\", void 0);\n    /**\n     * Parses the URL into a route state.\n     * It should be symmetrical to `createURL`.\n     */\n    _defineProperty(this, \"parseURL\", void 0);\n    /**\n     * Returns the location to store in the history.\n     * @default () => window.location\n     */\n    _defineProperty(this, \"getLocation\", void 0);\n    _defineProperty(this, \"writeTimer\", void 0);\n    _defineProperty(this, \"_onPopState\", void 0);\n    /**\n     * Indicates if last action was back/forward in the browser.\n     */\n    _defineProperty(this, \"inPopState\", false);\n    /**\n     * Indicates whether the history router is disposed or not.\n     */\n    _defineProperty(this, \"isDisposed\", false);\n    /**\n     * Indicates the window.history.length before the last call to\n     * window.history.pushState (called in `write`).\n     * It allows to determine if a `pushState` has been triggered elsewhere,\n     * and thus to prevent the `write` method from calling `pushState`.\n     */\n    _defineProperty(this, \"latestAcknowledgedHistory\", 0);\n    _defineProperty(this, \"_start\", void 0);\n    _defineProperty(this, \"_dispose\", void 0);\n    _defineProperty(this, \"_push\", void 0);\n    _defineProperty(this, \"_cleanUrlOnDispose\", void 0);\n    this.windowTitle = windowTitle;\n    this.writeTimer = undefined;\n    this.writeDelay = writeDelay;\n    this._createURL = createURL;\n    this.parseURL = parseURL;\n    this.getLocation = getLocation;\n    this._start = start;\n    this._dispose = dispose;\n    this._push = push;\n    this._cleanUrlOnDispose = typeof cleanUrlOnDispose === 'undefined' ? true : cleanUrlOnDispose;\n    if ( true && typeof cleanUrlOnDispose === 'undefined') {\n      // eslint-disable-next-line no-console\n      console.info(\"Starting from the next major version, InstantSearch will not clean up the URL from active refinements when it is disposed.\\n\\nWe recommend setting `cleanUrlOnDispose` to false to adopt this change today.\\nTo stay with the current behaviour and remove this warning, set the option to true.\\n\\nSee documentation: \".concat((0,_utils_index_js__WEBPACK_IMPORTED_MODULE_0__.createDocumentationLink)({\n        name: 'history-router'\n      }), \"#widget-param-cleanurlondispose\"));\n    }\n    (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.safelyRunOnBrowser)(function (_ref2) {\n      var window = _ref2.window;\n      var title = _this.windowTitle && _this.windowTitle(_this.read());\n      setWindowTitle(title);\n      _this.latestAcknowledgedHistory = window.history.length;\n    });\n  }\n\n  /**\n   * Reads the URL and returns a syncable UI search state.\n   */\n  _createClass(BrowserHistory, [{\n    key: \"read\",\n    value: function read() {\n      return this.parseURL({\n        qsModule: qs__WEBPACK_IMPORTED_MODULE_2__,\n        location: this.getLocation()\n      });\n    }\n\n    /**\n     * Pushes a search state into the URL.\n     */\n  }, {\n    key: \"write\",\n    value: function write(routeState) {\n      var _this2 = this;\n      (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.safelyRunOnBrowser)(function (_ref3) {\n        var window = _ref3.window;\n        var url = _this2.createURL(routeState);\n        var title = _this2.windowTitle && _this2.windowTitle(routeState);\n        if (_this2.writeTimer) {\n          clearTimeout(_this2.writeTimer);\n        }\n        _this2.writeTimer = setTimeout(function () {\n          setWindowTitle(title);\n          if (_this2.shouldWrite(url)) {\n            if (_this2._push) {\n              _this2._push(url);\n            } else {\n              window.history.pushState(routeState, title || '', url);\n            }\n            _this2.latestAcknowledgedHistory = window.history.length;\n          }\n          _this2.inPopState = false;\n          _this2.writeTimer = undefined;\n        }, _this2.writeDelay);\n      });\n    }\n\n    /**\n     * Sets a callback on the `onpopstate` event of the history API of the current page.\n     * It enables the URL sync to keep track of the changes.\n     */\n  }, {\n    key: \"onUpdate\",\n    value: function onUpdate(callback) {\n      var _this3 = this;\n      if (this._start) {\n        this._start(function () {\n          callback(_this3.read());\n        });\n      }\n      this._onPopState = function () {\n        if (_this3.writeTimer) {\n          clearTimeout(_this3.writeTimer);\n          _this3.writeTimer = undefined;\n        }\n        _this3.inPopState = true;\n\n        // We always read the state from the URL because the state of the history\n        // can be incorect in some cases (e.g. using React Router).\n        callback(_this3.read());\n      };\n      (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.safelyRunOnBrowser)(function (_ref4) {\n        var window = _ref4.window;\n        window.addEventListener('popstate', _this3._onPopState);\n      });\n    }\n\n    /**\n     * Creates a complete URL from a given syncable UI state.\n     *\n     * It always generates the full URL, not a relative one.\n     * This allows to handle cases like using a <base href>.\n     * See: https://github.com/algolia/instantsearch/issues/790\n     */\n  }, {\n    key: \"createURL\",\n    value: function createURL(routeState) {\n      var url = this._createURL({\n        qsModule: qs__WEBPACK_IMPORTED_MODULE_2__,\n        routeState: routeState,\n        location: this.getLocation()\n      });\n      if (true) {\n        try {\n          // We just want to check if the URL is valid.\n          // eslint-disable-next-line no-new\n          new URL(url);\n        } catch (e) {\n           true ? (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.warning)(false, \"The URL returned by the `createURL` function is invalid.\\nPlease make sure it returns an absolute URL to avoid issues, e.g: `https://algolia.com/search?query=iphone`.\") : 0;\n        }\n      }\n      return url;\n    }\n\n    /**\n     * Removes the event listener and cleans up the URL.\n     */\n  }, {\n    key: \"dispose\",\n    value: function dispose() {\n      var _this4 = this;\n      if (this._dispose) {\n        this._dispose();\n      }\n      this.isDisposed = true;\n      (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.safelyRunOnBrowser)(function (_ref5) {\n        var window = _ref5.window;\n        if (_this4._onPopState) {\n          window.removeEventListener('popstate', _this4._onPopState);\n        }\n      });\n      if (this.writeTimer) {\n        clearTimeout(this.writeTimer);\n      }\n      if (this._cleanUrlOnDispose) {\n        this.write({});\n      }\n    }\n  }, {\n    key: \"start\",\n    value: function start() {\n      this.isDisposed = false;\n    }\n  }, {\n    key: \"shouldWrite\",\n    value: function shouldWrite(url) {\n      var _this5 = this;\n      return (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.safelyRunOnBrowser)(function (_ref6) {\n        var window = _ref6.window;\n        // When disposed and the cleanUrlOnDispose is set to false, we do not want to write the URL.\n        if (_this5.isDisposed && !_this5._cleanUrlOnDispose) {\n          return false;\n        }\n\n        // We do want to `pushState` if:\n        // - the router is not disposed, IS.js needs to update the URL\n        // OR\n        // - the last write was from InstantSearch.js\n        // (unlike a SPA, where it would have last written)\n        var lastPushWasByISAfterDispose = !(_this5.isDisposed && _this5.latestAcknowledgedHistory !== window.history.length);\n        return (\n          // When the last state change was through popstate, the IS.js state changes,\n          // but that should not write the URL.\n          !_this5.inPopState &&\n          // When the previous pushState after dispose was by IS.js, we want to write the URL.\n          lastPushWasByISAfterDispose &&\n          // When the URL is the same as the current one, we do not want to write it.\n          url !== window.location.href\n        );\n      });\n    }\n  }]);\n  return BrowserHistory;\n}();\nfunction historyRouter() {\n  var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    _ref7$createURL = _ref7.createURL,\n    createURL = _ref7$createURL === void 0 ? function (_ref8) {\n      var qsModule = _ref8.qsModule,\n        routeState = _ref8.routeState,\n        location = _ref8.location;\n      var protocol = location.protocol,\n        hostname = location.hostname,\n        _location$port = location.port,\n        port = _location$port === void 0 ? '' : _location$port,\n        pathname = location.pathname,\n        hash = location.hash;\n      var queryString = qsModule.stringify(routeState);\n      var portWithPrefix = port === '' ? '' : \":\".concat(port);\n\n      // IE <= 11 has no proper `location.origin` so we cannot rely on it.\n      if (!queryString) {\n        return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname).concat(hash);\n      }\n      return \"\".concat(protocol, \"//\").concat(hostname).concat(portWithPrefix).concat(pathname, \"?\").concat(queryString).concat(hash);\n    } : _ref7$createURL,\n    _ref7$parseURL = _ref7.parseURL,\n    parseURL = _ref7$parseURL === void 0 ? function (_ref9) {\n      var qsModule = _ref9.qsModule,\n        location = _ref9.location;\n      // `qs` by default converts arrays with more than 20 items to an object.\n      // We want to avoid this because the data structure manipulated can therefore vary.\n      // Setting the limit to `100` seems a good number because the engine's default is 100\n      // (it can go up to 1000 but it is very unlikely to select more than 100 items in the UI).\n      //\n      // Using an `arrayLimit` of `n` allows `n + 1` items.\n      //\n      // See:\n      //   - https://github.com/ljharb/qs#parsing-arrays\n      //   - https://www.algolia.com/doc/api-reference/api-parameters/maxValuesPerFacet/\n      return qsModule.parse(location.search.slice(1), {\n        arrayLimit: 99\n      });\n    } : _ref7$parseURL,\n    _ref7$writeDelay = _ref7.writeDelay,\n    writeDelay = _ref7$writeDelay === void 0 ? 400 : _ref7$writeDelay,\n    windowTitle = _ref7.windowTitle,\n    _ref7$getLocation = _ref7.getLocation,\n    getLocation = _ref7$getLocation === void 0 ? function () {\n      return (0,_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.safelyRunOnBrowser)(function (_ref0) {\n        var window = _ref0.window;\n        return window.location;\n      }, {\n        fallback: function fallback() {\n          throw new Error('You need to provide `getLocation` to the `history` router in environments where `window` does not exist.');\n        }\n      });\n    } : _ref7$getLocation,\n    start = _ref7.start,\n    dispose = _ref7.dispose,\n    push = _ref7.push,\n    cleanUrlOnDispose = _ref7.cleanUrlOnDispose;\n  return new BrowserHistory({\n    createURL: createURL,\n    parseURL: parseURL,\n    writeDelay: writeDelay,\n    windowTitle: windowTitle,\n    getLocation: getLocation,\n    start: start,\n    dispose: dispose,\n    push: push,\n    cleanUrlOnDispose: cleanUrlOnDispose\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvcm91dGVycy9oaXN0b3J5LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MsaUNBQWlDO0FBQ2pDLG1DQUFtQyxnQkFBZ0IsY0FBYyxPQUFPLGNBQWM7QUFDdEYsaUNBQWlDLHFIQUFxSCxjQUFjO0FBQ3BLLG9DQUFvQyxvRUFBb0UsMERBQTBEO0FBQ2xLLDZCQUE2QixtQ0FBbUM7QUFDaEUsOEJBQThCLDRDQUE0QywrQkFBK0Isb0JBQW9CLG1DQUFtQyxzQ0FBc0MsdUVBQXVFO0FBQ3pQO0FBQ3FFO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsS0FBc0M7QUFDOUM7QUFDQSxvVkFBb1Ysd0VBQXVCO0FBQzNXO0FBQ0EsT0FBTztBQUNQO0FBQ0EsSUFBSSxtRUFBa0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsK0JBQUU7QUFDcEI7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLE1BQU0sbUVBQWtCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLG1FQUFrQjtBQUN4QjtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwrQkFBRTtBQUNwQjtBQUNBO0FBQ0EsT0FBTztBQUNQLFVBQVUsSUFBc0M7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsVUFBVSxLQUFzQyxHQUFHLHdEQUFPLG9MQUFvTCxDQUFNO0FBQ3BQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sbUVBQWtCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsYUFBYSxtRUFBa0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQSxDQUFDO0FBQ2M7QUFDZixvRkFBb0Y7QUFDcEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsbUVBQWtCO0FBQy9CO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2xpYi9yb3V0ZXJzL2hpc3RvcnkuanM/ZTA2YiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soYSwgbikgeyBpZiAoIShhIGluc3RhbmNlb2YgbikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHIpIHsgZm9yICh2YXIgdCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKSB7IHZhciBvID0gclt0XTsgby5lbnVtZXJhYmxlID0gby5lbnVtZXJhYmxlIHx8ICExLCBvLmNvbmZpZ3VyYWJsZSA9ICEwLCBcInZhbHVlXCIgaW4gbyAmJiAoby53cml0YWJsZSA9ICEwKSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIF90b1Byb3BlcnR5S2V5KG8ua2V5KSwgbyk7IH0gfVxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKGUsIHIsIHQpIHsgcmV0dXJuIHIgJiYgX2RlZmluZVByb3BlcnRpZXMoZS5wcm90b3R5cGUsIHIpLCB0ICYmIF9kZWZpbmVQcm9wZXJ0aWVzKGUsIHQpLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgXCJwcm90b3R5cGVcIiwgeyB3cml0YWJsZTogITEgfSksIGU7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0KSB7IHJldHVybiAociA9IF90b1Byb3BlcnR5S2V5KHIpKSBpbiBlID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIHsgdmFsdWU6IHQsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSkgOiBlW3JdID0gdCwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmltcG9ydCBxcyBmcm9tICdxcyc7XG5pbXBvcnQgeyBjcmVhdGVEb2N1bWVudGF0aW9uTGluaywgc2FmZWx5UnVuT25Ccm93c2VyLCB3YXJuaW5nIH0gZnJvbSBcIi4uL3V0aWxzL2luZGV4LmpzXCI7XG52YXIgc2V0V2luZG93VGl0bGUgPSBmdW5jdGlvbiBzZXRXaW5kb3dUaXRsZSh0aXRsZSkge1xuICBpZiAodGl0bGUpIHtcbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGlzIG9ubHkgZXhlY3V0ZWQgb24gYnJvd3NlcnMgc28gd2UgY2FuIGRpc2FibGUgdGhpcyBjaGVjay5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXG4gICAgd2luZG93LmRvY3VtZW50LnRpdGxlID0gdGl0bGU7XG4gIH1cbn07XG52YXIgQnJvd3Nlckhpc3RvcnkgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogSW5pdGlhbGl6ZXMgYSBuZXcgc3RvcmFnZSBwcm92aWRlciB0aGF0IHN5bmNzIHRoZSBzZWFyY2ggc3RhdGUgdG8gdGhlIFVSTFxuICAgKiB1c2luZyB3ZWIgQVBJcyAoYHdpbmRvdy5sb2NhdGlvbi5wdXNoU3RhdGVgIGFuZCBgb25wb3BzdGF0ZWAgZXZlbnQpLlxuICAgKi9cbiAgZnVuY3Rpb24gQnJvd3Nlckhpc3RvcnkoX3JlZikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHdpbmRvd1RpdGxlID0gX3JlZi53aW5kb3dUaXRsZSxcbiAgICAgIF9yZWYkd3JpdGVEZWxheSA9IF9yZWYud3JpdGVEZWxheSxcbiAgICAgIHdyaXRlRGVsYXkgPSBfcmVmJHdyaXRlRGVsYXkgPT09IHZvaWQgMCA/IDQwMCA6IF9yZWYkd3JpdGVEZWxheSxcbiAgICAgIGNyZWF0ZVVSTCA9IF9yZWYuY3JlYXRlVVJMLFxuICAgICAgcGFyc2VVUkwgPSBfcmVmLnBhcnNlVVJMLFxuICAgICAgZ2V0TG9jYXRpb24gPSBfcmVmLmdldExvY2F0aW9uLFxuICAgICAgc3RhcnQgPSBfcmVmLnN0YXJ0LFxuICAgICAgZGlzcG9zZSA9IF9yZWYuZGlzcG9zZSxcbiAgICAgIHB1c2ggPSBfcmVmLnB1c2gsXG4gICAgICBjbGVhblVybE9uRGlzcG9zZSA9IF9yZWYuY2xlYW5VcmxPbkRpc3Bvc2U7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEJyb3dzZXJIaXN0b3J5KTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCIkJHR5cGVcIiwgJ2Fpcy5icm93c2VyJyk7XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtcyBhIFVJIHN0YXRlIGludG8gYSB0aXRsZSBmb3IgdGhlIHBhZ2UuXG4gICAgICovXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwid2luZG93VGl0bGVcIiwgdm9pZCAwKTtcbiAgICAvKipcbiAgICAgKiBUaW1lIGluIG1pbGxpc2Vjb25kcyBiZWZvcmUgcGVyZm9ybWluZyBhIHdyaXRlIGluIHRoZSBoaXN0b3J5LlxuICAgICAqIEl0IHByZXZlbnRzIGZyb20gYWRkaW5nIHRvbyBtYW55IGVudHJpZXMgaW4gdGhlIGhpc3RvcnkgYW5kXG4gICAgICogbWFrZXMgdGhlIGJhY2sgYnV0dG9uIG1vcmUgdXNhYmxlLlxuICAgICAqXG4gICAgICogQGRlZmF1bHQgNDAwXG4gICAgICovXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwid3JpdGVEZWxheVwiLCB2b2lkIDApO1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdWxsIFVSTCBiYXNlZCBvbiB0aGUgcm91dGUgc3RhdGUuXG4gICAgICogVGhlIHN0b3JhZ2UgYWRhcHRvciBtYXBzIGFsbCBzeW5jYWJsZSBrZXlzIHRvIHRoZSBxdWVyeSBzdHJpbmcgb2YgdGhlIFVSTC5cbiAgICAgKi9cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY3JlYXRlVVJMXCIsIHZvaWQgMCk7XG4gICAgLyoqXG4gICAgICogUGFyc2VzIHRoZSBVUkwgaW50byBhIHJvdXRlIHN0YXRlLlxuICAgICAqIEl0IHNob3VsZCBiZSBzeW1tZXRyaWNhbCB0byBgY3JlYXRlVVJMYC5cbiAgICAgKi9cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJwYXJzZVVSTFwiLCB2b2lkIDApO1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGxvY2F0aW9uIHRvIHN0b3JlIGluIHRoZSBoaXN0b3J5LlxuICAgICAqIEBkZWZhdWx0ICgpID0+IHdpbmRvdy5sb2NhdGlvblxuICAgICAqL1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcImdldExvY2F0aW9uXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwid3JpdGVUaW1lclwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9vblBvcFN0YXRlXCIsIHZvaWQgMCk7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGlmIGxhc3QgYWN0aW9uIHdhcyBiYWNrL2ZvcndhcmQgaW4gdGhlIGJyb3dzZXIuXG4gICAgICovXG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiaW5Qb3BTdGF0ZVwiLCBmYWxzZSk7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGhpc3Rvcnkgcm91dGVyIGlzIGRpc3Bvc2VkIG9yIG5vdC5cbiAgICAgKi9cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJpc0Rpc3Bvc2VkXCIsIGZhbHNlKTtcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhlIHdpbmRvdy5oaXN0b3J5Lmxlbmd0aCBiZWZvcmUgdGhlIGxhc3QgY2FsbCB0b1xuICAgICAqIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSAoY2FsbGVkIGluIGB3cml0ZWApLlxuICAgICAqIEl0IGFsbG93cyB0byBkZXRlcm1pbmUgaWYgYSBgcHVzaFN0YXRlYCBoYXMgYmVlbiB0cmlnZ2VyZWQgZWxzZXdoZXJlLFxuICAgICAqIGFuZCB0aHVzIHRvIHByZXZlbnQgdGhlIGB3cml0ZWAgbWV0aG9kIGZyb20gY2FsbGluZyBgcHVzaFN0YXRlYC5cbiAgICAgKi9cbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJsYXRlc3RBY2tub3dsZWRnZWRIaXN0b3J5XCIsIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9zdGFydFwiLCB2b2lkIDApO1xuICAgIF9kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIl9kaXNwb3NlXCIsIHZvaWQgMCk7XG4gICAgX2RlZmluZVByb3BlcnR5KHRoaXMsIFwiX3B1c2hcIiwgdm9pZCAwKTtcbiAgICBfZGVmaW5lUHJvcGVydHkodGhpcywgXCJfY2xlYW5VcmxPbkRpc3Bvc2VcIiwgdm9pZCAwKTtcbiAgICB0aGlzLndpbmRvd1RpdGxlID0gd2luZG93VGl0bGU7XG4gICAgdGhpcy53cml0ZVRpbWVyID0gdW5kZWZpbmVkO1xuICAgIHRoaXMud3JpdGVEZWxheSA9IHdyaXRlRGVsYXk7XG4gICAgdGhpcy5fY3JlYXRlVVJMID0gY3JlYXRlVVJMO1xuICAgIHRoaXMucGFyc2VVUkwgPSBwYXJzZVVSTDtcbiAgICB0aGlzLmdldExvY2F0aW9uID0gZ2V0TG9jYXRpb247XG4gICAgdGhpcy5fc3RhcnQgPSBzdGFydDtcbiAgICB0aGlzLl9kaXNwb3NlID0gZGlzcG9zZTtcbiAgICB0aGlzLl9wdXNoID0gcHVzaDtcbiAgICB0aGlzLl9jbGVhblVybE9uRGlzcG9zZSA9IHR5cGVvZiBjbGVhblVybE9uRGlzcG9zZSA9PT0gJ3VuZGVmaW5lZCcgPyB0cnVlIDogY2xlYW5VcmxPbkRpc3Bvc2U7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnICYmIHR5cGVvZiBjbGVhblVybE9uRGlzcG9zZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICBjb25zb2xlLmluZm8oXCJTdGFydGluZyBmcm9tIHRoZSBuZXh0IG1ham9yIHZlcnNpb24sIEluc3RhbnRTZWFyY2ggd2lsbCBub3QgY2xlYW4gdXAgdGhlIFVSTCBmcm9tIGFjdGl2ZSByZWZpbmVtZW50cyB3aGVuIGl0IGlzIGRpc3Bvc2VkLlxcblxcbldlIHJlY29tbWVuZCBzZXR0aW5nIGBjbGVhblVybE9uRGlzcG9zZWAgdG8gZmFsc2UgdG8gYWRvcHQgdGhpcyBjaGFuZ2UgdG9kYXkuXFxuVG8gc3RheSB3aXRoIHRoZSBjdXJyZW50IGJlaGF2aW91ciBhbmQgcmVtb3ZlIHRoaXMgd2FybmluZywgc2V0IHRoZSBvcHRpb24gdG8gdHJ1ZS5cXG5cXG5TZWUgZG9jdW1lbnRhdGlvbjogXCIuY29uY2F0KGNyZWF0ZURvY3VtZW50YXRpb25MaW5rKHtcbiAgICAgICAgbmFtZTogJ2hpc3Rvcnktcm91dGVyJ1xuICAgICAgfSksIFwiI3dpZGdldC1wYXJhbS1jbGVhbnVybG9uZGlzcG9zZVwiKSk7XG4gICAgfVxuICAgIHNhZmVseVJ1bk9uQnJvd3NlcihmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICAgIHZhciB3aW5kb3cgPSBfcmVmMi53aW5kb3c7XG4gICAgICB2YXIgdGl0bGUgPSBfdGhpcy53aW5kb3dUaXRsZSAmJiBfdGhpcy53aW5kb3dUaXRsZShfdGhpcy5yZWFkKCkpO1xuICAgICAgc2V0V2luZG93VGl0bGUodGl0bGUpO1xuICAgICAgX3RoaXMubGF0ZXN0QWNrbm93bGVkZ2VkSGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5Lmxlbmd0aDtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWFkcyB0aGUgVVJMIGFuZCByZXR1cm5zIGEgc3luY2FibGUgVUkgc2VhcmNoIHN0YXRlLlxuICAgKi9cbiAgX2NyZWF0ZUNsYXNzKEJyb3dzZXJIaXN0b3J5LCBbe1xuICAgIGtleTogXCJyZWFkXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlYWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wYXJzZVVSTCh7XG4gICAgICAgIHFzTW9kdWxlOiBxcyxcbiAgICAgICAgbG9jYXRpb246IHRoaXMuZ2V0TG9jYXRpb24oKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHVzaGVzIGEgc2VhcmNoIHN0YXRlIGludG8gdGhlIFVSTC5cbiAgICAgKi9cbiAgfSwge1xuICAgIGtleTogXCJ3cml0ZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB3cml0ZShyb3V0ZVN0YXRlKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcbiAgICAgIHNhZmVseVJ1bk9uQnJvd3NlcihmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICAgICAgdmFyIHdpbmRvdyA9IF9yZWYzLndpbmRvdztcbiAgICAgICAgdmFyIHVybCA9IF90aGlzMi5jcmVhdGVVUkwocm91dGVTdGF0ZSk7XG4gICAgICAgIHZhciB0aXRsZSA9IF90aGlzMi53aW5kb3dUaXRsZSAmJiBfdGhpczIud2luZG93VGl0bGUocm91dGVTdGF0ZSk7XG4gICAgICAgIGlmIChfdGhpczIud3JpdGVUaW1lcikge1xuICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpczIud3JpdGVUaW1lcik7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMyLndyaXRlVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzZXRXaW5kb3dUaXRsZSh0aXRsZSk7XG4gICAgICAgICAgaWYgKF90aGlzMi5zaG91bGRXcml0ZSh1cmwpKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMyLl9wdXNoKSB7XG4gICAgICAgICAgICAgIF90aGlzMi5fcHVzaCh1cmwpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHJvdXRlU3RhdGUsIHRpdGxlIHx8ICcnLCB1cmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMyLmxhdGVzdEFja25vd2xlZGdlZEhpc3RvcnkgPSB3aW5kb3cuaGlzdG9yeS5sZW5ndGg7XG4gICAgICAgICAgfVxuICAgICAgICAgIF90aGlzMi5pblBvcFN0YXRlID0gZmFsc2U7XG4gICAgICAgICAgX3RoaXMyLndyaXRlVGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0sIF90aGlzMi53cml0ZURlbGF5KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgYSBjYWxsYmFjayBvbiB0aGUgYG9ucG9wc3RhdGVgIGV2ZW50IG9mIHRoZSBoaXN0b3J5IEFQSSBvZiB0aGUgY3VycmVudCBwYWdlLlxuICAgICAqIEl0IGVuYWJsZXMgdGhlIFVSTCBzeW5jIHRvIGtlZXAgdHJhY2sgb2YgdGhlIGNoYW5nZXMuXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwib25VcGRhdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25VcGRhdGUoY2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuICAgICAgaWYgKHRoaXMuX3N0YXJ0KSB7XG4gICAgICAgIHRoaXMuX3N0YXJ0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjYWxsYmFjayhfdGhpczMucmVhZCgpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLl9vblBvcFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoX3RoaXMzLndyaXRlVGltZXIpIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQoX3RoaXMzLndyaXRlVGltZXIpO1xuICAgICAgICAgIF90aGlzMy53cml0ZVRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzMy5pblBvcFN0YXRlID0gdHJ1ZTtcblxuICAgICAgICAvLyBXZSBhbHdheXMgcmVhZCB0aGUgc3RhdGUgZnJvbSB0aGUgVVJMIGJlY2F1c2UgdGhlIHN0YXRlIG9mIHRoZSBoaXN0b3J5XG4gICAgICAgIC8vIGNhbiBiZSBpbmNvcmVjdCBpbiBzb21lIGNhc2VzIChlLmcuIHVzaW5nIFJlYWN0IFJvdXRlcikuXG4gICAgICAgIGNhbGxiYWNrKF90aGlzMy5yZWFkKCkpO1xuICAgICAgfTtcbiAgICAgIHNhZmVseVJ1bk9uQnJvd3NlcihmdW5jdGlvbiAoX3JlZjQpIHtcbiAgICAgICAgdmFyIHdpbmRvdyA9IF9yZWY0LndpbmRvdztcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BvcHN0YXRlJywgX3RoaXMzLl9vblBvcFN0YXRlKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjb21wbGV0ZSBVUkwgZnJvbSBhIGdpdmVuIHN5bmNhYmxlIFVJIHN0YXRlLlxuICAgICAqXG4gICAgICogSXQgYWx3YXlzIGdlbmVyYXRlcyB0aGUgZnVsbCBVUkwsIG5vdCBhIHJlbGF0aXZlIG9uZS5cbiAgICAgKiBUaGlzIGFsbG93cyB0byBoYW5kbGUgY2FzZXMgbGlrZSB1c2luZyBhIDxiYXNlIGhyZWY+LlxuICAgICAqIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2FsZ29saWEvaW5zdGFudHNlYXJjaC9pc3N1ZXMvNzkwXG4gICAgICovXG4gIH0sIHtcbiAgICBrZXk6IFwiY3JlYXRlVVJMXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVVSTChyb3V0ZVN0YXRlKSB7XG4gICAgICB2YXIgdXJsID0gdGhpcy5fY3JlYXRlVVJMKHtcbiAgICAgICAgcXNNb2R1bGU6IHFzLFxuICAgICAgICByb3V0ZVN0YXRlOiByb3V0ZVN0YXRlLFxuICAgICAgICBsb2NhdGlvbjogdGhpcy5nZXRMb2NhdGlvbigpXG4gICAgICB9KTtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFdlIGp1c3Qgd2FudCB0byBjaGVjayBpZiB0aGUgVVJMIGlzIHZhbGlkLlxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXdcbiAgICAgICAgICBuZXcgVVJMKHVybCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IHdhcm5pbmcoZmFsc2UsIFwiVGhlIFVSTCByZXR1cm5lZCBieSB0aGUgYGNyZWF0ZVVSTGAgZnVuY3Rpb24gaXMgaW52YWxpZC5cXG5QbGVhc2UgbWFrZSBzdXJlIGl0IHJldHVybnMgYW4gYWJzb2x1dGUgVVJMIHRvIGF2b2lkIGlzc3VlcywgZS5nOiBgaHR0cHM6Ly9hbGdvbGlhLmNvbS9zZWFyY2g/cXVlcnk9aXBob25lYC5cIikgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB1cmw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgZXZlbnQgbGlzdGVuZXIgYW5kIGNsZWFucyB1cCB0aGUgVVJMLlxuICAgICAqL1xuICB9LCB7XG4gICAga2V5OiBcImRpc3Bvc2VcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuICAgICAgaWYgKHRoaXMuX2Rpc3Bvc2UpIHtcbiAgICAgICAgdGhpcy5fZGlzcG9zZSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5pc0Rpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgIHNhZmVseVJ1bk9uQnJvd3NlcihmdW5jdGlvbiAoX3JlZjUpIHtcbiAgICAgICAgdmFyIHdpbmRvdyA9IF9yZWY1LndpbmRvdztcbiAgICAgICAgaWYgKF90aGlzNC5fb25Qb3BTdGF0ZSkge1xuICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdwb3BzdGF0ZScsIF90aGlzNC5fb25Qb3BTdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKHRoaXMud3JpdGVUaW1lcikge1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy53cml0ZVRpbWVyKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLl9jbGVhblVybE9uRGlzcG9zZSkge1xuICAgICAgICB0aGlzLndyaXRlKHt9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic3RhcnRcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICB0aGlzLmlzRGlzcG9zZWQgPSBmYWxzZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6IFwic2hvdWxkV3JpdGVcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdWxkV3JpdGUodXJsKSB7XG4gICAgICB2YXIgX3RoaXM1ID0gdGhpcztcbiAgICAgIHJldHVybiBzYWZlbHlSdW5PbkJyb3dzZXIoZnVuY3Rpb24gKF9yZWY2KSB7XG4gICAgICAgIHZhciB3aW5kb3cgPSBfcmVmNi53aW5kb3c7XG4gICAgICAgIC8vIFdoZW4gZGlzcG9zZWQgYW5kIHRoZSBjbGVhblVybE9uRGlzcG9zZSBpcyBzZXQgdG8gZmFsc2UsIHdlIGRvIG5vdCB3YW50IHRvIHdyaXRlIHRoZSBVUkwuXG4gICAgICAgIGlmIChfdGhpczUuaXNEaXNwb3NlZCAmJiAhX3RoaXM1Ll9jbGVhblVybE9uRGlzcG9zZSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdlIGRvIHdhbnQgdG8gYHB1c2hTdGF0ZWAgaWY6XG4gICAgICAgIC8vIC0gdGhlIHJvdXRlciBpcyBub3QgZGlzcG9zZWQsIElTLmpzIG5lZWRzIHRvIHVwZGF0ZSB0aGUgVVJMXG4gICAgICAgIC8vIE9SXG4gICAgICAgIC8vIC0gdGhlIGxhc3Qgd3JpdGUgd2FzIGZyb20gSW5zdGFudFNlYXJjaC5qc1xuICAgICAgICAvLyAodW5saWtlIGEgU1BBLCB3aGVyZSBpdCB3b3VsZCBoYXZlIGxhc3Qgd3JpdHRlbilcbiAgICAgICAgdmFyIGxhc3RQdXNoV2FzQnlJU0FmdGVyRGlzcG9zZSA9ICEoX3RoaXM1LmlzRGlzcG9zZWQgJiYgX3RoaXM1LmxhdGVzdEFja25vd2xlZGdlZEhpc3RvcnkgIT09IHdpbmRvdy5oaXN0b3J5Lmxlbmd0aCk7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgLy8gV2hlbiB0aGUgbGFzdCBzdGF0ZSBjaGFuZ2Ugd2FzIHRocm91Z2ggcG9wc3RhdGUsIHRoZSBJUy5qcyBzdGF0ZSBjaGFuZ2VzLFxuICAgICAgICAgIC8vIGJ1dCB0aGF0IHNob3VsZCBub3Qgd3JpdGUgdGhlIFVSTC5cbiAgICAgICAgICAhX3RoaXM1LmluUG9wU3RhdGUgJiZcbiAgICAgICAgICAvLyBXaGVuIHRoZSBwcmV2aW91cyBwdXNoU3RhdGUgYWZ0ZXIgZGlzcG9zZSB3YXMgYnkgSVMuanMsIHdlIHdhbnQgdG8gd3JpdGUgdGhlIFVSTC5cbiAgICAgICAgICBsYXN0UHVzaFdhc0J5SVNBZnRlckRpc3Bvc2UgJiZcbiAgICAgICAgICAvLyBXaGVuIHRoZSBVUkwgaXMgdGhlIHNhbWUgYXMgdGhlIGN1cnJlbnQgb25lLCB3ZSBkbyBub3Qgd2FudCB0byB3cml0ZSBpdC5cbiAgICAgICAgICB1cmwgIT09IHdpbmRvdy5sb2NhdGlvbi5ocmVmXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1dKTtcbiAgcmV0dXJuIEJyb3dzZXJIaXN0b3J5O1xufSgpO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gaGlzdG9yeVJvdXRlcigpIHtcbiAgdmFyIF9yZWY3ID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSxcbiAgICBfcmVmNyRjcmVhdGVVUkwgPSBfcmVmNy5jcmVhdGVVUkwsXG4gICAgY3JlYXRlVVJMID0gX3JlZjckY3JlYXRlVVJMID09PSB2b2lkIDAgPyBmdW5jdGlvbiAoX3JlZjgpIHtcbiAgICAgIHZhciBxc01vZHVsZSA9IF9yZWY4LnFzTW9kdWxlLFxuICAgICAgICByb3V0ZVN0YXRlID0gX3JlZjgucm91dGVTdGF0ZSxcbiAgICAgICAgbG9jYXRpb24gPSBfcmVmOC5sb2NhdGlvbjtcbiAgICAgIHZhciBwcm90b2NvbCA9IGxvY2F0aW9uLnByb3RvY29sLFxuICAgICAgICBob3N0bmFtZSA9IGxvY2F0aW9uLmhvc3RuYW1lLFxuICAgICAgICBfbG9jYXRpb24kcG9ydCA9IGxvY2F0aW9uLnBvcnQsXG4gICAgICAgIHBvcnQgPSBfbG9jYXRpb24kcG9ydCA9PT0gdm9pZCAwID8gJycgOiBfbG9jYXRpb24kcG9ydCxcbiAgICAgICAgcGF0aG5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZSxcbiAgICAgICAgaGFzaCA9IGxvY2F0aW9uLmhhc2g7XG4gICAgICB2YXIgcXVlcnlTdHJpbmcgPSBxc01vZHVsZS5zdHJpbmdpZnkocm91dGVTdGF0ZSk7XG4gICAgICB2YXIgcG9ydFdpdGhQcmVmaXggPSBwb3J0ID09PSAnJyA/ICcnIDogXCI6XCIuY29uY2F0KHBvcnQpO1xuXG4gICAgICAvLyBJRSA8PSAxMSBoYXMgbm8gcHJvcGVyIGBsb2NhdGlvbi5vcmlnaW5gIHNvIHdlIGNhbm5vdCByZWx5IG9uIGl0LlxuICAgICAgaWYgKCFxdWVyeVN0cmluZykge1xuICAgICAgICByZXR1cm4gXCJcIi5jb25jYXQocHJvdG9jb2wsIFwiLy9cIikuY29uY2F0KGhvc3RuYW1lKS5jb25jYXQocG9ydFdpdGhQcmVmaXgpLmNvbmNhdChwYXRobmFtZSkuY29uY2F0KGhhc2gpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHByb3RvY29sLCBcIi8vXCIpLmNvbmNhdChob3N0bmFtZSkuY29uY2F0KHBvcnRXaXRoUHJlZml4KS5jb25jYXQocGF0aG5hbWUsIFwiP1wiKS5jb25jYXQocXVlcnlTdHJpbmcpLmNvbmNhdChoYXNoKTtcbiAgICB9IDogX3JlZjckY3JlYXRlVVJMLFxuICAgIF9yZWY3JHBhcnNlVVJMID0gX3JlZjcucGFyc2VVUkwsXG4gICAgcGFyc2VVUkwgPSBfcmVmNyRwYXJzZVVSTCA9PT0gdm9pZCAwID8gZnVuY3Rpb24gKF9yZWY5KSB7XG4gICAgICB2YXIgcXNNb2R1bGUgPSBfcmVmOS5xc01vZHVsZSxcbiAgICAgICAgbG9jYXRpb24gPSBfcmVmOS5sb2NhdGlvbjtcbiAgICAgIC8vIGBxc2AgYnkgZGVmYXVsdCBjb252ZXJ0cyBhcnJheXMgd2l0aCBtb3JlIHRoYW4gMjAgaXRlbXMgdG8gYW4gb2JqZWN0LlxuICAgICAgLy8gV2Ugd2FudCB0byBhdm9pZCB0aGlzIGJlY2F1c2UgdGhlIGRhdGEgc3RydWN0dXJlIG1hbmlwdWxhdGVkIGNhbiB0aGVyZWZvcmUgdmFyeS5cbiAgICAgIC8vIFNldHRpbmcgdGhlIGxpbWl0IHRvIGAxMDBgIHNlZW1zIGEgZ29vZCBudW1iZXIgYmVjYXVzZSB0aGUgZW5naW5lJ3MgZGVmYXVsdCBpcyAxMDBcbiAgICAgIC8vIChpdCBjYW4gZ28gdXAgdG8gMTAwMCBidXQgaXQgaXMgdmVyeSB1bmxpa2VseSB0byBzZWxlY3QgbW9yZSB0aGFuIDEwMCBpdGVtcyBpbiB0aGUgVUkpLlxuICAgICAgLy9cbiAgICAgIC8vIFVzaW5nIGFuIGBhcnJheUxpbWl0YCBvZiBgbmAgYWxsb3dzIGBuICsgMWAgaXRlbXMuXG4gICAgICAvL1xuICAgICAgLy8gU2VlOlxuICAgICAgLy8gICAtIGh0dHBzOi8vZ2l0aHViLmNvbS9samhhcmIvcXMjcGFyc2luZy1hcnJheXNcbiAgICAgIC8vICAgLSBodHRwczovL3d3dy5hbGdvbGlhLmNvbS9kb2MvYXBpLXJlZmVyZW5jZS9hcGktcGFyYW1ldGVycy9tYXhWYWx1ZXNQZXJGYWNldC9cbiAgICAgIHJldHVybiBxc01vZHVsZS5wYXJzZShsb2NhdGlvbi5zZWFyY2guc2xpY2UoMSksIHtcbiAgICAgICAgYXJyYXlMaW1pdDogOTlcbiAgICAgIH0pO1xuICAgIH0gOiBfcmVmNyRwYXJzZVVSTCxcbiAgICBfcmVmNyR3cml0ZURlbGF5ID0gX3JlZjcud3JpdGVEZWxheSxcbiAgICB3cml0ZURlbGF5ID0gX3JlZjckd3JpdGVEZWxheSA9PT0gdm9pZCAwID8gNDAwIDogX3JlZjckd3JpdGVEZWxheSxcbiAgICB3aW5kb3dUaXRsZSA9IF9yZWY3LndpbmRvd1RpdGxlLFxuICAgIF9yZWY3JGdldExvY2F0aW9uID0gX3JlZjcuZ2V0TG9jYXRpb24sXG4gICAgZ2V0TG9jYXRpb24gPSBfcmVmNyRnZXRMb2NhdGlvbiA9PT0gdm9pZCAwID8gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHNhZmVseVJ1bk9uQnJvd3NlcihmdW5jdGlvbiAoX3JlZjApIHtcbiAgICAgICAgdmFyIHdpbmRvdyA9IF9yZWYwLndpbmRvdztcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbjtcbiAgICAgIH0sIHtcbiAgICAgICAgZmFsbGJhY2s6IGZ1bmN0aW9uIGZhbGxiYWNrKCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignWW91IG5lZWQgdG8gcHJvdmlkZSBgZ2V0TG9jYXRpb25gIHRvIHRoZSBgaGlzdG9yeWAgcm91dGVyIGluIGVudmlyb25tZW50cyB3aGVyZSBgd2luZG93YCBkb2VzIG5vdCBleGlzdC4nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSA6IF9yZWY3JGdldExvY2F0aW9uLFxuICAgIHN0YXJ0ID0gX3JlZjcuc3RhcnQsXG4gICAgZGlzcG9zZSA9IF9yZWY3LmRpc3Bvc2UsXG4gICAgcHVzaCA9IF9yZWY3LnB1c2gsXG4gICAgY2xlYW5VcmxPbkRpc3Bvc2UgPSBfcmVmNy5jbGVhblVybE9uRGlzcG9zZTtcbiAgcmV0dXJuIG5ldyBCcm93c2VySGlzdG9yeSh7XG4gICAgY3JlYXRlVVJMOiBjcmVhdGVVUkwsXG4gICAgcGFyc2VVUkw6IHBhcnNlVVJMLFxuICAgIHdyaXRlRGVsYXk6IHdyaXRlRGVsYXksXG4gICAgd2luZG93VGl0bGU6IHdpbmRvd1RpdGxlLFxuICAgIGdldExvY2F0aW9uOiBnZXRMb2NhdGlvbixcbiAgICBzdGFydDogc3RhcnQsXG4gICAgZGlzcG9zZTogZGlzcG9zZSxcbiAgICBwdXNoOiBwdXNoLFxuICAgIGNsZWFuVXJsT25EaXNwb3NlOiBjbGVhblVybE9uRGlzcG9zZVxuICB9KTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/routers/history.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/stateMappings/simple.js":
/*!**********************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/stateMappings/simple.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ simpleStateMapping)\n/* harmony export */ });\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nvar _excluded = [\"configure\"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\nfunction getIndexStateWithoutConfigure(uiState) {\n  var configure = uiState.configure,\n    trackedUiState = _objectWithoutProperties(uiState, _excluded);\n  return trackedUiState;\n}\n\n// technically a URL could contain any key, since users provide it,\n// which is why the input to this function is UiState, not something\n// which excludes \"configure\" as this function does.\nfunction simpleStateMapping() {\n  return {\n    $$type: 'ais.simple',\n    stateToRoute: function stateToRoute(uiState) {\n      return Object.keys(uiState).reduce(function (state, indexId) {\n        return _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, indexId, getIndexStateWithoutConfigure(uiState[indexId])));\n      }, {});\n    },\n    routeToState: function routeToState() {\n      var routeState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return Object.keys(routeState).reduce(function (state, indexId) {\n        return _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, indexId, getIndexStateWithoutConfigure(routeState[indexId])));\n      }, {});\n    }\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvc3RhdGVNYXBwaW5ncy9zaW1wbGUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLHNCQUFzQiwyQkFBMkIsb0dBQW9HLG1CQUFtQixpQkFBaUIsc0hBQXNIO0FBQy9TO0FBQ0EseUJBQXlCLHdCQUF3QixvQ0FBb0MseUNBQXlDLGtDQUFrQywwREFBMEQsMEJBQTBCO0FBQ3BQLDRCQUE0QixnQkFBZ0Isc0JBQXNCLE9BQU8sa0RBQWtELHNEQUFzRCw4QkFBOEIsbUpBQW1KLHFFQUFxRSxLQUFLO0FBQzVhLG9DQUFvQyxvRUFBb0UsMERBQTBEO0FBQ2xLLDZCQUE2QixtQ0FBbUM7QUFDaEUsOEJBQThCLDRDQUE0QywrQkFBK0Isb0JBQW9CLG1DQUFtQyxzQ0FBc0MsdUVBQXVFO0FBQzdRLDBDQUEwQywwQkFBMEIsbURBQW1ELG9DQUFvQyx5Q0FBeUMsWUFBWSxjQUFjLHdDQUF3QyxxREFBcUQ7QUFDM1QsK0NBQStDLDBCQUEwQixZQUFZLHVCQUF1Qiw4QkFBOEIsbUNBQW1DLGVBQWU7QUFDNUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLFlBQVksb0JBQW9CO0FBQzdFLE9BQU8sSUFBSTtBQUNYLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsWUFBWSxvQkFBb0I7QUFDN0UsT0FBTyxJQUFJO0FBQ1g7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2xpYi9zdGF0ZU1hcHBpbmdzL3NpbXBsZS5qcz85YWRhIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbnZhciBfZXhjbHVkZWQgPSBbXCJjb25maWd1cmVcIl07XG5mdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0KSB7IHJldHVybiAociA9IF90b1Byb3BlcnR5S2V5KHIpKSBpbiBlID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIHsgdmFsdWU6IHQsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSkgOiBlW3JdID0gdCwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhlLCB0KSB7IGlmIChudWxsID09IGUpIHJldHVybiB7fTsgdmFyIG8sIHIsIGkgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShlLCB0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG4gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyBmb3IgKHIgPSAwOyByIDwgbi5sZW5ndGg7IHIrKykgbyA9IG5bcl0sIC0xID09PSB0LmluZGV4T2YobykgJiYge30ucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLCBvKSAmJiAoaVtvXSA9IGVbb10pOyB9IHJldHVybiBpOyB9XG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShyLCBlKSB7IGlmIChudWxsID09IHIpIHJldHVybiB7fTsgdmFyIHQgPSB7fTsgZm9yICh2YXIgbiBpbiByKSBpZiAoe30uaGFzT3duUHJvcGVydHkuY2FsbChyLCBuKSkgeyBpZiAoLTEgIT09IGUuaW5kZXhPZihuKSkgY29udGludWU7IHRbbl0gPSByW25dOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBnZXRJbmRleFN0YXRlV2l0aG91dENvbmZpZ3VyZSh1aVN0YXRlKSB7XG4gIHZhciBjb25maWd1cmUgPSB1aVN0YXRlLmNvbmZpZ3VyZSxcbiAgICB0cmFja2VkVWlTdGF0ZSA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyh1aVN0YXRlLCBfZXhjbHVkZWQpO1xuICByZXR1cm4gdHJhY2tlZFVpU3RhdGU7XG59XG5cbi8vIHRlY2huaWNhbGx5IGEgVVJMIGNvdWxkIGNvbnRhaW4gYW55IGtleSwgc2luY2UgdXNlcnMgcHJvdmlkZSBpdCxcbi8vIHdoaWNoIGlzIHdoeSB0aGUgaW5wdXQgdG8gdGhpcyBmdW5jdGlvbiBpcyBVaVN0YXRlLCBub3Qgc29tZXRoaW5nXG4vLyB3aGljaCBleGNsdWRlcyBcImNvbmZpZ3VyZVwiIGFzIHRoaXMgZnVuY3Rpb24gZG9lcy5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNpbXBsZVN0YXRlTWFwcGluZygpIHtcbiAgcmV0dXJuIHtcbiAgICAkJHR5cGU6ICdhaXMuc2ltcGxlJyxcbiAgICBzdGF0ZVRvUm91dGU6IGZ1bmN0aW9uIHN0YXRlVG9Sb3V0ZSh1aVN0YXRlKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmtleXModWlTdGF0ZSkucmVkdWNlKGZ1bmN0aW9uIChzdGF0ZSwgaW5kZXhJZCkge1xuICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZSksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIGluZGV4SWQsIGdldEluZGV4U3RhdGVXaXRob3V0Q29uZmlndXJlKHVpU3RhdGVbaW5kZXhJZF0pKSk7XG4gICAgICB9LCB7fSk7XG4gICAgfSxcbiAgICByb3V0ZVRvU3RhdGU6IGZ1bmN0aW9uIHJvdXRlVG9TdGF0ZSgpIHtcbiAgICAgIHZhciByb3V0ZVN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgICAgIHJldHVybiBPYmplY3Qua2V5cyhyb3V0ZVN0YXRlKS5yZWR1Y2UoZnVuY3Rpb24gKHN0YXRlLCBpbmRleElkKSB7XG4gICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHN0YXRlKSwge30sIF9kZWZpbmVQcm9wZXJ0eSh7fSwgaW5kZXhJZCwgZ2V0SW5kZXhTdGF0ZVdpdGhvdXRDb25maWd1cmUocm91dGVTdGF0ZVtpbmRleElkXSkpKTtcbiAgICAgIH0sIHt9KTtcbiAgICB9XG4gIH07XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/stateMappings/simple.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/suit.js":
/*!******************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/suit.js ***!
  \******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   component: () => (/* binding */ component)\n/* harmony export */ });\nvar NAMESPACE = 'ais';\nvar component = function component(componentName) {\n  return function () {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      descendantName = _ref.descendantName,\n      modifierName = _ref.modifierName;\n    var descendent = descendantName ? \"-\".concat(descendantName) : '';\n    var modifier = modifierName ? \"--\".concat(modifierName) : '';\n    return \"\".concat(NAMESPACE, \"-\").concat(componentName).concat(descendent).concat(modifier);\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvc3VpdC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDTztBQUNQO0FBQ0EscUZBQXFGO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2xpYi9zdWl0LmpzP2JmMzYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIE5BTUVTUEFDRSA9ICdhaXMnO1xuZXhwb3J0IHZhciBjb21wb25lbnQgPSBmdW5jdGlvbiBjb21wb25lbnQoY29tcG9uZW50TmFtZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfcmVmID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fSxcbiAgICAgIGRlc2NlbmRhbnROYW1lID0gX3JlZi5kZXNjZW5kYW50TmFtZSxcbiAgICAgIG1vZGlmaWVyTmFtZSA9IF9yZWYubW9kaWZpZXJOYW1lO1xuICAgIHZhciBkZXNjZW5kZW50ID0gZGVzY2VuZGFudE5hbWUgPyBcIi1cIi5jb25jYXQoZGVzY2VuZGFudE5hbWUpIDogJyc7XG4gICAgdmFyIG1vZGlmaWVyID0gbW9kaWZpZXJOYW1lID8gXCItLVwiLmNvbmNhdChtb2RpZmllck5hbWUpIDogJyc7XG4gICAgcmV0dXJuIFwiXCIuY29uY2F0KE5BTUVTUEFDRSwgXCItXCIpLmNvbmNhdChjb21wb25lbnROYW1lKS5jb25jYXQoZGVzY2VuZGVudCkuY29uY2F0KG1vZGlmaWVyKTtcbiAgfTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/suit.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/addWidgetId.js":
/*!*******************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/addWidgetId.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addWidgetId: () => (/* binding */ addWidgetId),\n/* harmony export */   resetWidgetId: () => (/* binding */ resetWidgetId)\n/* harmony export */ });\nvar id = 0;\nfunction addWidgetId(widget) {\n  if (widget.dependsOn !== 'recommend') {\n    return;\n  }\n  widget.$$id = id++;\n}\nfunction resetWidgetId() {\n  id = 0;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvYWRkV2lkZ2V0SWQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3NwZWMtbG9naWMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvYWRkV2lkZ2V0SWQuanM/ODczZSJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaWQgPSAwO1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFdpZGdldElkKHdpZGdldCkge1xuICBpZiAod2lkZ2V0LmRlcGVuZHNPbiAhPT0gJ3JlY29tbWVuZCcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgd2lkZ2V0LiQkaWQgPSBpZCsrO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJlc2V0V2lkZ2V0SWQoKSB7XG4gIGlkID0gMDtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/addWidgetId.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/capitalize.js":
/*!******************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/capitalize.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   capitalize: () => (/* binding */ capitalize)\n/* harmony export */ });\nfunction capitalize(text) {\n  return text.toString().charAt(0).toUpperCase() + text.toString().slice(1);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvY2FwaXRhbGl6ZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2xpYi91dGlscy9jYXBpdGFsaXplLmpzP2JhMmYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGNhcGl0YWxpemUodGV4dCkge1xuICByZXR1cm4gdGV4dC50b1N0cmluZygpLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdGV4dC50b1N0cmluZygpLnNsaWNlKDEpO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/capitalize.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/checkIndexUiState.js":
/*!*************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/checkIndexUiState.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkIndexUiState: () => (/* binding */ checkIndexUiState)\n/* harmony export */ });\n/* harmony import */ var _capitalize_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./capitalize.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/capitalize.js\");\n/* harmony import */ var _logger_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./logger.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/logger.js\");\n/* harmony import */ var _typedObject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./typedObject.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/typedObject.js\");\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n\n\n\n// Some connectors are responsible for multiple widgets so we need\n// to map them.\nfunction getWidgetNames(connectorName) {\n  switch (connectorName) {\n    case 'range':\n      return [];\n    case 'menu':\n      return ['menu', 'menuSelect'];\n    default:\n      return [connectorName];\n  }\n}\nvar stateToWidgetsMap = {\n  query: {\n    connectors: ['connectSearchBox'],\n    widgets: ['ais.searchBox', 'ais.autocomplete', 'ais.voiceSearch']\n  },\n  refinementList: {\n    connectors: ['connectRefinementList'],\n    widgets: ['ais.refinementList']\n  },\n  menu: {\n    connectors: ['connectMenu'],\n    widgets: ['ais.menu']\n  },\n  hierarchicalMenu: {\n    connectors: ['connectHierarchicalMenu'],\n    widgets: ['ais.hierarchicalMenu']\n  },\n  numericMenu: {\n    connectors: ['connectNumericMenu'],\n    widgets: ['ais.numericMenu']\n  },\n  ratingMenu: {\n    connectors: ['connectRatingMenu'],\n    widgets: ['ais.ratingMenu']\n  },\n  range: {\n    connectors: ['connectRange'],\n    widgets: ['ais.rangeInput', 'ais.rangeSlider', 'ais.range']\n  },\n  toggle: {\n    connectors: ['connectToggleRefinement'],\n    widgets: ['ais.toggleRefinement']\n  },\n  geoSearch: {\n    connectors: ['connectGeoSearch'],\n    widgets: ['ais.geoSearch']\n  },\n  sortBy: {\n    connectors: ['connectSortBy'],\n    widgets: ['ais.sortBy']\n  },\n  page: {\n    connectors: ['connectPagination'],\n    widgets: ['ais.pagination', 'ais.infiniteHits']\n  },\n  hitsPerPage: {\n    connectors: ['connectHitsPerPage'],\n    widgets: ['ais.hitsPerPage']\n  },\n  configure: {\n    connectors: ['connectConfigure'],\n    widgets: ['ais.configure']\n  },\n  places: {\n    connectors: [],\n    widgets: ['ais.places']\n  }\n};\nfunction checkIndexUiState(_ref) {\n  var index = _ref.index,\n    indexUiState = _ref.indexUiState;\n  var mountedWidgets = index.getWidgets().map(function (widget) {\n    return widget.$$type;\n  }).filter(Boolean);\n  var missingWidgets = (0,_typedObject_js__WEBPACK_IMPORTED_MODULE_0__.keys)(indexUiState).reduce(function (acc, parameter) {\n    var widgetUiState = stateToWidgetsMap[parameter];\n    if (!widgetUiState) {\n      return acc;\n    }\n    var requiredWidgets = widgetUiState.widgets;\n    if (requiredWidgets && !requiredWidgets.some(function (requiredWidget) {\n      return mountedWidgets.includes(requiredWidget);\n    })) {\n      acc.push([parameter, {\n        connectors: widgetUiState.connectors,\n        widgets: widgetUiState.widgets.map(function (widgetIdentifier) {\n          return widgetIdentifier.split('ais.')[1];\n        })\n      }]);\n    }\n    return acc;\n  }, []);\n   true ? (0,_logger_js__WEBPACK_IMPORTED_MODULE_1__.warning)(missingWidgets.length === 0, \"The UI state for the index \\\"\".concat(index.getIndexId(), \"\\\" is not consistent with the widgets mounted.\\n\\nThis can happen when the UI state is specified via `initialUiState`, `routing` or `setUiState` but that the widgets responsible for this state were not added. This results in those query parameters not being sent to the API.\\n\\nTo fully reflect the state, some widgets need to be added to the index \\\"\").concat(index.getIndexId(), \"\\\":\\n\\n\").concat(missingWidgets.map(function (_ref2) {\n    var _ref4;\n    var _ref3 = _slicedToArray(_ref2, 2),\n      stateParameter = _ref3[0],\n      widgets = _ref3[1].widgets;\n    return \"- `\".concat(stateParameter, \"` needs one of these widgets: \").concat((_ref4 = []).concat.apply(_ref4, _toConsumableArray(widgets.map(function (name) {\n      return getWidgetNames(name);\n    }))).map(function (name) {\n      return \"\\\"\".concat(name, \"\\\"\");\n    }).join(', '));\n  }).join('\\n'), \"\\n\\nIf you do not wish to display widgets but still want to support their search parameters, you can mount \\\"virtual widgets\\\" that don't render anything:\\n\\n```\\n\").concat(missingWidgets.filter(function (_ref5) {\n    var _ref6 = _slicedToArray(_ref5, 2),\n      _stateParameter = _ref6[0],\n      connectors = _ref6[1].connectors;\n    return connectors.length > 0;\n  }).map(function (_ref7) {\n    var _ref8 = _slicedToArray(_ref7, 2),\n      _stateParameter = _ref8[0],\n      _ref8$ = _ref8[1],\n      connectors = _ref8$.connectors,\n      widgets = _ref8$.widgets;\n    var capitalizedWidget = (0,_capitalize_js__WEBPACK_IMPORTED_MODULE_2__.capitalize)(widgets[0]);\n    var connectorName = connectors[0];\n    return \"const virtual\".concat(capitalizedWidget, \" = \").concat(connectorName, \"(() => null);\");\n  }).join('\\n'), \"\\n\\nsearch.addWidgets([\\n  \").concat(missingWidgets.filter(function (_ref9) {\n    var _ref0 = _slicedToArray(_ref9, 2),\n      _stateParameter = _ref0[0],\n      connectors = _ref0[1].connectors;\n    return connectors.length > 0;\n  }).map(function (_ref1) {\n    var _ref10 = _slicedToArray(_ref1, 2),\n      _stateParameter = _ref10[0],\n      widgets = _ref10[1].widgets;\n    var capitalizedWidget = (0,_capitalize_js__WEBPACK_IMPORTED_MODULE_2__.capitalize)(widgets[0]);\n    return \"virtual\".concat(capitalizedWidget, \"({ /* ... */ })\");\n  }).join(',\\n  '), \"\\n]);\\n```\\n\\nIf you're using custom widgets that do set these query parameters, we recommend using connectors instead.\\n\\nSee https://www.algolia.com/doc/guides/building-search-ui/widgets/customize-an-existing-widget/js/#customize-the-complete-ui-of-the-widgets\")) : 0;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvY2hlY2tJbmRleFVpU3RhdGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLGlDQUFpQztBQUNqQyxnQ0FBZ0M7QUFDaEMsK0JBQStCO0FBQy9CLGlDQUFpQztBQUNqQyxnQ0FBZ0M7QUFDaEMsOEJBQThCO0FBQzlCLDZDQUE2QyxTQUFTLDBEQUEwRCxVQUFVLGdDQUFnQztBQUMxSixtQ0FBbUMsK0NBQStDLDhCQUE4QixPQUFPLGtCQUFrQjtBQUN6SSx1Q0FBdUMsa0dBQWtHLGlCQUFpQix3Q0FBd0MsTUFBTSx5Q0FBeUMsNkJBQTZCLFVBQVUsWUFBWSxrRUFBa0UsV0FBVyxZQUFZLGlCQUFpQixVQUFVLE1BQU0sMkVBQTJFLFVBQVUsb0JBQW9CO0FBQ3ZnQiw4QkFBOEI7QUFDZTtBQUNQO0FBQ0U7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsdUJBQXVCLHFEQUFJO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNILEVBQUUsS0FBc0MsR0FBRyxtREFBTztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMERBQVU7QUFDdEM7QUFDQSxnR0FBZ0c7QUFDaEcsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QiwwREFBVTtBQUN0QyxtREFBbUQsV0FBVztBQUM5RCxHQUFHLHVCQUF1Qix1UUFBdVEsQ0FBTTtBQUN2UyIsInNvdXJjZXMiOlsid2VicGFjazovL3NwZWMtbG9naWMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvY2hlY2tJbmRleFVpU3RhdGUuanM/ZjIyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkocikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXkocikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KHIpIHsgaWYgKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBudWxsICE9IHJbU3ltYm9sLml0ZXJhdG9yXSB8fCBudWxsICE9IHJbXCJAQGl0ZXJhdG9yXCJdKSByZXR1cm4gQXJyYXkuZnJvbShyKTsgfVxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyKTsgfVxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkociwgZSkgeyByZXR1cm4gX2FycmF5V2l0aEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBlKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgZSkgfHwgX25vbkl0ZXJhYmxlUmVzdCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVSZXN0KCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5TGltaXQociwgbCkgeyB2YXIgdCA9IG51bGwgPT0gciA/IG51bGwgOiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgcltTeW1ib2wuaXRlcmF0b3JdIHx8IHJbXCJAQGl0ZXJhdG9yXCJdOyBpZiAobnVsbCAhPSB0KSB7IHZhciBlLCBuLCBpLCB1LCBhID0gW10sIGYgPSAhMCwgbyA9ICExOyB0cnkgeyBpZiAoaSA9ICh0ID0gdC5jYWxsKHIpKS5uZXh0LCAwID09PSBsKSB7IGlmIChPYmplY3QodCkgIT09IHQpIHJldHVybjsgZiA9ICExOyB9IGVsc2UgZm9yICg7ICEoZiA9IChlID0gaS5jYWxsKHQpKS5kb25lKSAmJiAoYS5wdXNoKGUudmFsdWUpLCBhLmxlbmd0aCAhPT0gbCk7IGYgPSAhMCk7IH0gY2F0Y2ggKHIpIHsgbyA9ICEwLCBuID0gcjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFmICYmIG51bGwgIT0gdC5yZXR1cm4gJiYgKHUgPSB0LnJldHVybigpLCBPYmplY3QodSkgIT09IHUpKSByZXR1cm47IH0gZmluYWxseSB7IGlmIChvKSB0aHJvdyBuOyB9IH0gcmV0dXJuIGE7IH0gfVxuZnVuY3Rpb24gX2FycmF5V2l0aEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiByOyB9XG5pbXBvcnQgeyBjYXBpdGFsaXplIH0gZnJvbSBcIi4vY2FwaXRhbGl6ZS5qc1wiO1xuaW1wb3J0IHsgd2FybmluZyB9IGZyb20gXCIuL2xvZ2dlci5qc1wiO1xuaW1wb3J0IHsga2V5cyB9IGZyb20gXCIuL3R5cGVkT2JqZWN0LmpzXCI7XG4vLyBTb21lIGNvbm5lY3RvcnMgYXJlIHJlc3BvbnNpYmxlIGZvciBtdWx0aXBsZSB3aWRnZXRzIHNvIHdlIG5lZWRcbi8vIHRvIG1hcCB0aGVtLlxuZnVuY3Rpb24gZ2V0V2lkZ2V0TmFtZXMoY29ubmVjdG9yTmFtZSkge1xuICBzd2l0Y2ggKGNvbm5lY3Rvck5hbWUpIHtcbiAgICBjYXNlICdyYW5nZSc6XG4gICAgICByZXR1cm4gW107XG4gICAgY2FzZSAnbWVudSc6XG4gICAgICByZXR1cm4gWydtZW51JywgJ21lbnVTZWxlY3QnXTtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIFtjb25uZWN0b3JOYW1lXTtcbiAgfVxufVxudmFyIHN0YXRlVG9XaWRnZXRzTWFwID0ge1xuICBxdWVyeToge1xuICAgIGNvbm5lY3RvcnM6IFsnY29ubmVjdFNlYXJjaEJveCddLFxuICAgIHdpZGdldHM6IFsnYWlzLnNlYXJjaEJveCcsICdhaXMuYXV0b2NvbXBsZXRlJywgJ2Fpcy52b2ljZVNlYXJjaCddXG4gIH0sXG4gIHJlZmluZW1lbnRMaXN0OiB7XG4gICAgY29ubmVjdG9yczogWydjb25uZWN0UmVmaW5lbWVudExpc3QnXSxcbiAgICB3aWRnZXRzOiBbJ2Fpcy5yZWZpbmVtZW50TGlzdCddXG4gIH0sXG4gIG1lbnU6IHtcbiAgICBjb25uZWN0b3JzOiBbJ2Nvbm5lY3RNZW51J10sXG4gICAgd2lkZ2V0czogWydhaXMubWVudSddXG4gIH0sXG4gIGhpZXJhcmNoaWNhbE1lbnU6IHtcbiAgICBjb25uZWN0b3JzOiBbJ2Nvbm5lY3RIaWVyYXJjaGljYWxNZW51J10sXG4gICAgd2lkZ2V0czogWydhaXMuaGllcmFyY2hpY2FsTWVudSddXG4gIH0sXG4gIG51bWVyaWNNZW51OiB7XG4gICAgY29ubmVjdG9yczogWydjb25uZWN0TnVtZXJpY01lbnUnXSxcbiAgICB3aWRnZXRzOiBbJ2Fpcy5udW1lcmljTWVudSddXG4gIH0sXG4gIHJhdGluZ01lbnU6IHtcbiAgICBjb25uZWN0b3JzOiBbJ2Nvbm5lY3RSYXRpbmdNZW51J10sXG4gICAgd2lkZ2V0czogWydhaXMucmF0aW5nTWVudSddXG4gIH0sXG4gIHJhbmdlOiB7XG4gICAgY29ubmVjdG9yczogWydjb25uZWN0UmFuZ2UnXSxcbiAgICB3aWRnZXRzOiBbJ2Fpcy5yYW5nZUlucHV0JywgJ2Fpcy5yYW5nZVNsaWRlcicsICdhaXMucmFuZ2UnXVxuICB9LFxuICB0b2dnbGU6IHtcbiAgICBjb25uZWN0b3JzOiBbJ2Nvbm5lY3RUb2dnbGVSZWZpbmVtZW50J10sXG4gICAgd2lkZ2V0czogWydhaXMudG9nZ2xlUmVmaW5lbWVudCddXG4gIH0sXG4gIGdlb1NlYXJjaDoge1xuICAgIGNvbm5lY3RvcnM6IFsnY29ubmVjdEdlb1NlYXJjaCddLFxuICAgIHdpZGdldHM6IFsnYWlzLmdlb1NlYXJjaCddXG4gIH0sXG4gIHNvcnRCeToge1xuICAgIGNvbm5lY3RvcnM6IFsnY29ubmVjdFNvcnRCeSddLFxuICAgIHdpZGdldHM6IFsnYWlzLnNvcnRCeSddXG4gIH0sXG4gIHBhZ2U6IHtcbiAgICBjb25uZWN0b3JzOiBbJ2Nvbm5lY3RQYWdpbmF0aW9uJ10sXG4gICAgd2lkZ2V0czogWydhaXMucGFnaW5hdGlvbicsICdhaXMuaW5maW5pdGVIaXRzJ11cbiAgfSxcbiAgaGl0c1BlclBhZ2U6IHtcbiAgICBjb25uZWN0b3JzOiBbJ2Nvbm5lY3RIaXRzUGVyUGFnZSddLFxuICAgIHdpZGdldHM6IFsnYWlzLmhpdHNQZXJQYWdlJ11cbiAgfSxcbiAgY29uZmlndXJlOiB7XG4gICAgY29ubmVjdG9yczogWydjb25uZWN0Q29uZmlndXJlJ10sXG4gICAgd2lkZ2V0czogWydhaXMuY29uZmlndXJlJ11cbiAgfSxcbiAgcGxhY2VzOiB7XG4gICAgY29ubmVjdG9yczogW10sXG4gICAgd2lkZ2V0czogWydhaXMucGxhY2VzJ11cbiAgfVxufTtcbmV4cG9ydCBmdW5jdGlvbiBjaGVja0luZGV4VWlTdGF0ZShfcmVmKSB7XG4gIHZhciBpbmRleCA9IF9yZWYuaW5kZXgsXG4gICAgaW5kZXhVaVN0YXRlID0gX3JlZi5pbmRleFVpU3RhdGU7XG4gIHZhciBtb3VudGVkV2lkZ2V0cyA9IGluZGV4LmdldFdpZGdldHMoKS5tYXAoZnVuY3Rpb24gKHdpZGdldCkge1xuICAgIHJldHVybiB3aWRnZXQuJCR0eXBlO1xuICB9KS5maWx0ZXIoQm9vbGVhbik7XG4gIHZhciBtaXNzaW5nV2lkZ2V0cyA9IGtleXMoaW5kZXhVaVN0YXRlKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGFyYW1ldGVyKSB7XG4gICAgdmFyIHdpZGdldFVpU3RhdGUgPSBzdGF0ZVRvV2lkZ2V0c01hcFtwYXJhbWV0ZXJdO1xuICAgIGlmICghd2lkZ2V0VWlTdGF0ZSkge1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9XG4gICAgdmFyIHJlcXVpcmVkV2lkZ2V0cyA9IHdpZGdldFVpU3RhdGUud2lkZ2V0cztcbiAgICBpZiAocmVxdWlyZWRXaWRnZXRzICYmICFyZXF1aXJlZFdpZGdldHMuc29tZShmdW5jdGlvbiAocmVxdWlyZWRXaWRnZXQpIHtcbiAgICAgIHJldHVybiBtb3VudGVkV2lkZ2V0cy5pbmNsdWRlcyhyZXF1aXJlZFdpZGdldCk7XG4gICAgfSkpIHtcbiAgICAgIGFjYy5wdXNoKFtwYXJhbWV0ZXIsIHtcbiAgICAgICAgY29ubmVjdG9yczogd2lkZ2V0VWlTdGF0ZS5jb25uZWN0b3JzLFxuICAgICAgICB3aWRnZXRzOiB3aWRnZXRVaVN0YXRlLndpZGdldHMubWFwKGZ1bmN0aW9uICh3aWRnZXRJZGVudGlmaWVyKSB7XG4gICAgICAgICAgcmV0dXJuIHdpZGdldElkZW50aWZpZXIuc3BsaXQoJ2Fpcy4nKVsxXTtcbiAgICAgICAgfSlcbiAgICAgIH1dKTtcbiAgICB9XG4gICAgcmV0dXJuIGFjYztcbiAgfSwgW10pO1xuICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IHdhcm5pbmcobWlzc2luZ1dpZGdldHMubGVuZ3RoID09PSAwLCBcIlRoZSBVSSBzdGF0ZSBmb3IgdGhlIGluZGV4IFxcXCJcIi5jb25jYXQoaW5kZXguZ2V0SW5kZXhJZCgpLCBcIlxcXCIgaXMgbm90IGNvbnNpc3RlbnQgd2l0aCB0aGUgd2lkZ2V0cyBtb3VudGVkLlxcblxcblRoaXMgY2FuIGhhcHBlbiB3aGVuIHRoZSBVSSBzdGF0ZSBpcyBzcGVjaWZpZWQgdmlhIGBpbml0aWFsVWlTdGF0ZWAsIGByb3V0aW5nYCBvciBgc2V0VWlTdGF0ZWAgYnV0IHRoYXQgdGhlIHdpZGdldHMgcmVzcG9uc2libGUgZm9yIHRoaXMgc3RhdGUgd2VyZSBub3QgYWRkZWQuIFRoaXMgcmVzdWx0cyBpbiB0aG9zZSBxdWVyeSBwYXJhbWV0ZXJzIG5vdCBiZWluZyBzZW50IHRvIHRoZSBBUEkuXFxuXFxuVG8gZnVsbHkgcmVmbGVjdCB0aGUgc3RhdGUsIHNvbWUgd2lkZ2V0cyBuZWVkIHRvIGJlIGFkZGVkIHRvIHRoZSBpbmRleCBcXFwiXCIpLmNvbmNhdChpbmRleC5nZXRJbmRleElkKCksIFwiXFxcIjpcXG5cXG5cIikuY29uY2F0KG1pc3NpbmdXaWRnZXRzLm1hcChmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICB2YXIgX3JlZjQ7XG4gICAgdmFyIF9yZWYzID0gX3NsaWNlZFRvQXJyYXkoX3JlZjIsIDIpLFxuICAgICAgc3RhdGVQYXJhbWV0ZXIgPSBfcmVmM1swXSxcbiAgICAgIHdpZGdldHMgPSBfcmVmM1sxXS53aWRnZXRzO1xuICAgIHJldHVybiBcIi0gYFwiLmNvbmNhdChzdGF0ZVBhcmFtZXRlciwgXCJgIG5lZWRzIG9uZSBvZiB0aGVzZSB3aWRnZXRzOiBcIikuY29uY2F0KChfcmVmNCA9IFtdKS5jb25jYXQuYXBwbHkoX3JlZjQsIF90b0NvbnN1bWFibGVBcnJheSh3aWRnZXRzLm1hcChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgcmV0dXJuIGdldFdpZGdldE5hbWVzKG5hbWUpO1xuICAgIH0pKSkubWFwKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICByZXR1cm4gXCJcXFwiXCIuY29uY2F0KG5hbWUsIFwiXFxcIlwiKTtcbiAgICB9KS5qb2luKCcsICcpKTtcbiAgfSkuam9pbignXFxuJyksIFwiXFxuXFxuSWYgeW91IGRvIG5vdCB3aXNoIHRvIGRpc3BsYXkgd2lkZ2V0cyBidXQgc3RpbGwgd2FudCB0byBzdXBwb3J0IHRoZWlyIHNlYXJjaCBwYXJhbWV0ZXJzLCB5b3UgY2FuIG1vdW50IFxcXCJ2aXJ0dWFsIHdpZGdldHNcXFwiIHRoYXQgZG9uJ3QgcmVuZGVyIGFueXRoaW5nOlxcblxcbmBgYFxcblwiKS5jb25jYXQobWlzc2luZ1dpZGdldHMuZmlsdGVyKGZ1bmN0aW9uIChfcmVmNSkge1xuICAgIHZhciBfcmVmNiA9IF9zbGljZWRUb0FycmF5KF9yZWY1LCAyKSxcbiAgICAgIF9zdGF0ZVBhcmFtZXRlciA9IF9yZWY2WzBdLFxuICAgICAgY29ubmVjdG9ycyA9IF9yZWY2WzFdLmNvbm5lY3RvcnM7XG4gICAgcmV0dXJuIGNvbm5lY3RvcnMubGVuZ3RoID4gMDtcbiAgfSkubWFwKGZ1bmN0aW9uIChfcmVmNykge1xuICAgIHZhciBfcmVmOCA9IF9zbGljZWRUb0FycmF5KF9yZWY3LCAyKSxcbiAgICAgIF9zdGF0ZVBhcmFtZXRlciA9IF9yZWY4WzBdLFxuICAgICAgX3JlZjgkID0gX3JlZjhbMV0sXG4gICAgICBjb25uZWN0b3JzID0gX3JlZjgkLmNvbm5lY3RvcnMsXG4gICAgICB3aWRnZXRzID0gX3JlZjgkLndpZGdldHM7XG4gICAgdmFyIGNhcGl0YWxpemVkV2lkZ2V0ID0gY2FwaXRhbGl6ZSh3aWRnZXRzWzBdKTtcbiAgICB2YXIgY29ubmVjdG9yTmFtZSA9IGNvbm5lY3RvcnNbMF07XG4gICAgcmV0dXJuIFwiY29uc3QgdmlydHVhbFwiLmNvbmNhdChjYXBpdGFsaXplZFdpZGdldCwgXCIgPSBcIikuY29uY2F0KGNvbm5lY3Rvck5hbWUsIFwiKCgpID0+IG51bGwpO1wiKTtcbiAgfSkuam9pbignXFxuJyksIFwiXFxuXFxuc2VhcmNoLmFkZFdpZGdldHMoW1xcbiAgXCIpLmNvbmNhdChtaXNzaW5nV2lkZ2V0cy5maWx0ZXIoZnVuY3Rpb24gKF9yZWY5KSB7XG4gICAgdmFyIF9yZWYwID0gX3NsaWNlZFRvQXJyYXkoX3JlZjksIDIpLFxuICAgICAgX3N0YXRlUGFyYW1ldGVyID0gX3JlZjBbMF0sXG4gICAgICBjb25uZWN0b3JzID0gX3JlZjBbMV0uY29ubmVjdG9ycztcbiAgICByZXR1cm4gY29ubmVjdG9ycy5sZW5ndGggPiAwO1xuICB9KS5tYXAoZnVuY3Rpb24gKF9yZWYxKSB7XG4gICAgdmFyIF9yZWYxMCA9IF9zbGljZWRUb0FycmF5KF9yZWYxLCAyKSxcbiAgICAgIF9zdGF0ZVBhcmFtZXRlciA9IF9yZWYxMFswXSxcbiAgICAgIHdpZGdldHMgPSBfcmVmMTBbMV0ud2lkZ2V0cztcbiAgICB2YXIgY2FwaXRhbGl6ZWRXaWRnZXQgPSBjYXBpdGFsaXplKHdpZGdldHNbMF0pO1xuICAgIHJldHVybiBcInZpcnR1YWxcIi5jb25jYXQoY2FwaXRhbGl6ZWRXaWRnZXQsIFwiKHsgLyogLi4uICovIH0pXCIpO1xuICB9KS5qb2luKCcsXFxuICAnKSwgXCJcXG5dKTtcXG5gYGBcXG5cXG5JZiB5b3UncmUgdXNpbmcgY3VzdG9tIHdpZGdldHMgdGhhdCBkbyBzZXQgdGhlc2UgcXVlcnkgcGFyYW1ldGVycywgd2UgcmVjb21tZW5kIHVzaW5nIGNvbm5lY3RvcnMgaW5zdGVhZC5cXG5cXG5TZWUgaHR0cHM6Ly93d3cuYWxnb2xpYS5jb20vZG9jL2d1aWRlcy9idWlsZGluZy1zZWFyY2gtdWkvd2lkZ2V0cy9jdXN0b21pemUtYW4tZXhpc3Rpbmctd2lkZ2V0L2pzLyNjdXN0b21pemUtdGhlLWNvbXBsZXRlLXVpLW9mLXRoZS13aWRnZXRzXCIpKSA6IHZvaWQgMDtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/checkIndexUiState.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/checkRendering.js":
/*!**********************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/checkRendering.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkRendering: () => (/* binding */ checkRendering)\n/* harmony export */ });\n/* harmony import */ var _getObjectType_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getObjectType.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/getObjectType.js\");\n\nfunction checkRendering(rendering, usage) {\n  if (rendering === undefined || typeof rendering !== 'function') {\n    throw new Error(\"The render function is not valid (received type \".concat((0,_getObjectType_js__WEBPACK_IMPORTED_MODULE_0__.getObjectType)(rendering), \").\\n\\n\").concat(usage));\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvY2hlY2tSZW5kZXJpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBbUQ7QUFDNUM7QUFDUDtBQUNBLDhFQUE4RSxnRUFBYTtBQUMzRjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2xpYi91dGlscy9jaGVja1JlbmRlcmluZy5qcz9iMTE5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldE9iamVjdFR5cGUgfSBmcm9tIFwiLi9nZXRPYmplY3RUeXBlLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gY2hlY2tSZW5kZXJpbmcocmVuZGVyaW5nLCB1c2FnZSkge1xuICBpZiAocmVuZGVyaW5nID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIHJlbmRlcmluZyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSByZW5kZXIgZnVuY3Rpb24gaXMgbm90IHZhbGlkIChyZWNlaXZlZCB0eXBlIFwiLmNvbmNhdChnZXRPYmplY3RUeXBlKHJlbmRlcmluZyksIFwiKS5cXG5cXG5cIikuY29uY2F0KHVzYWdlKSk7XG4gIH1cbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/checkRendering.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/concatHighlightedParts.js":
/*!******************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/concatHighlightedParts.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   concatHighlightedParts: () => (/* binding */ concatHighlightedParts)\n/* harmony export */ });\n/* harmony import */ var _escape_highlight_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./escape-highlight.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/escape-highlight.js\");\n\nfunction concatHighlightedParts(parts) {\n  var highlightPreTag = _escape_highlight_js__WEBPACK_IMPORTED_MODULE_0__.TAG_REPLACEMENT.highlightPreTag,\n    highlightPostTag = _escape_highlight_js__WEBPACK_IMPORTED_MODULE_0__.TAG_REPLACEMENT.highlightPostTag;\n  return parts.map(function (part) {\n    return part.isHighlighted ? highlightPreTag + part.value + highlightPostTag : part.value;\n  }).join('');\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvY29uY2F0SGlnaGxpZ2h0ZWRQYXJ0cy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3RDtBQUNqRDtBQUNQLHdCQUF3QixpRUFBZTtBQUN2Qyx1QkFBdUIsaUVBQWU7QUFDdEM7QUFDQTtBQUNBLEdBQUc7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL3NwZWMtbG9naWMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvY29uY2F0SGlnaGxpZ2h0ZWRQYXJ0cy5qcz81YmI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRBR19SRVBMQUNFTUVOVCB9IGZyb20gXCIuL2VzY2FwZS1oaWdobGlnaHQuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBjb25jYXRIaWdobGlnaHRlZFBhcnRzKHBhcnRzKSB7XG4gIHZhciBoaWdobGlnaHRQcmVUYWcgPSBUQUdfUkVQTEFDRU1FTlQuaGlnaGxpZ2h0UHJlVGFnLFxuICAgIGhpZ2hsaWdodFBvc3RUYWcgPSBUQUdfUkVQTEFDRU1FTlQuaGlnaGxpZ2h0UG9zdFRhZztcbiAgcmV0dXJuIHBhcnRzLm1hcChmdW5jdGlvbiAocGFydCkge1xuICAgIHJldHVybiBwYXJ0LmlzSGlnaGxpZ2h0ZWQgPyBoaWdobGlnaHRQcmVUYWcgKyBwYXJ0LnZhbHVlICsgaGlnaGxpZ2h0UG9zdFRhZyA6IHBhcnQudmFsdWU7XG4gIH0pLmpvaW4oJycpO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/concatHighlightedParts.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/createSendEventForFacet.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/createSendEventForFacet.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createSendEventForFacet: () => (/* binding */ createSendEventForFacet)\n/* harmony export */ });\n/* harmony import */ var _isFacetRefined_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./isFacetRefined.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/isFacetRefined.js\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n\nfunction createSendEventForFacet(_ref) {\n  var instantSearchInstance = _ref.instantSearchInstance,\n    helper = _ref.helper,\n    attr = _ref.attribute,\n    widgetType = _ref.widgetType;\n  var sendEventForFacet = function sendEventForFacet() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    var facetValue = args[1],\n      _args$ = args[2],\n      eventName = _args$ === void 0 ? 'Filter Applied' : _args$,\n      _args$2 = args[3],\n      additionalData = _args$2 === void 0 ? {} : _args$2;\n    var _args$0$split = args[0].split(':'),\n      _args$0$split2 = _slicedToArray(_args$0$split, 2),\n      eventType = _args$0$split2[0],\n      eventModifier = _args$0$split2[1];\n    var attribute = typeof attr === 'string' ? attr : attr(facetValue);\n    if (args.length === 1 && _typeof(args[0]) === 'object') {\n      instantSearchInstance.sendEventToInsights(args[0]);\n    } else if (eventType === 'click' && args.length >= 2 && args.length <= 4) {\n      if (!(0,_isFacetRefined_js__WEBPACK_IMPORTED_MODULE_0__.isFacetRefined)(helper, attribute, facetValue)) {\n        var _helper$lastResults;\n        // send event only when the facet is being checked \"ON\"\n        instantSearchInstance.sendEventToInsights({\n          insightsMethod: 'clickedFilters',\n          widgetType: widgetType,\n          eventType: eventType,\n          eventModifier: eventModifier,\n          payload: _objectSpread({\n            eventName: eventName,\n            index: ((_helper$lastResults = helper.lastResults) === null || _helper$lastResults === void 0 ? void 0 : _helper$lastResults.index) || helper.state.index,\n            filters: [\"\".concat(attribute, \":\").concat(facetValue)]\n          }, additionalData),\n          attribute: attribute\n        });\n      }\n    } else if (true) {\n      throw new Error(\"You need to pass between two and four arguments like:\\n  sendEvent('click', facetValue, eventName?, additionalData?);\\n\\nIf you want to send a custom payload, you can pass one object: sendEvent(customPayload);\\n\");\n    }\n  };\n  return sendEventForFacet;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvY3JlYXRlU2VuZEV2ZW50Rm9yRmFjZXQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSx5QkFBeUIsd0JBQXdCLG9DQUFvQyx5Q0FBeUMsa0NBQWtDLDBEQUEwRCwwQkFBMEI7QUFDcFAsNEJBQTRCLGdCQUFnQixzQkFBc0IsT0FBTyxrREFBa0Qsc0RBQXNELDhCQUE4QixtSkFBbUoscUVBQXFFLEtBQUs7QUFDNWEsb0NBQW9DLG9FQUFvRSwwREFBMEQ7QUFDbEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1Esc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MsZ0NBQWdDO0FBQ2hDLDhCQUE4QjtBQUM5Qiw2Q0FBNkMsU0FBUywwREFBMEQsVUFBVSxnQ0FBZ0M7QUFDMUosbUNBQW1DLCtDQUErQyw4QkFBOEIsT0FBTyxrQkFBa0I7QUFDekksdUNBQXVDLGtHQUFrRyxpQkFBaUIsd0NBQXdDLE1BQU0seUNBQXlDLDZCQUE2QixVQUFVLFlBQVksa0VBQWtFLFdBQVcsWUFBWSxpQkFBaUIsVUFBVSxNQUFNLDJFQUEyRSxVQUFVLG9CQUFvQjtBQUN2Z0IsOEJBQThCO0FBQ3VCO0FBQzlDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxhQUFhO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTixXQUFXLGtFQUFjO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxNQUFNLFNBQVMsSUFBc0M7QUFDckQsNElBQTRJLDRGQUE0RjtBQUN4TztBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3NwZWMtbG9naWMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvY3JlYXRlU2VuZEV2ZW50Rm9yRmFjZXQuanM/MDUzNCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0KSB7IHJldHVybiAociA9IF90b1Byb3BlcnR5S2V5KHIpKSBpbiBlID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIHsgdmFsdWU6IHQsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSkgOiBlW3JdID0gdCwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KHIsIGUpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQociwgZSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGUpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGEpIHsgaWYgKHIpIHsgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuIFwiT2JqZWN0XCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksIFwiTWFwXCIgPT09IHQgfHwgXCJTZXRcIiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiBcIkFyZ3VtZW50c1wiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGwpIHsgdmFyIHQgPSBudWxsID09IHIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByW1wiQEBpdGVyYXRvclwiXTsgaWYgKG51bGwgIT0gdCkgeyB2YXIgZSwgbiwgaSwgdSwgYSA9IFtdLCBmID0gITAsIG8gPSAhMTsgdHJ5IHsgaWYgKGkgPSAodCA9IHQuY2FsbChyKSkubmV4dCwgMCA9PT0gbCkgeyBpZiAoT2JqZWN0KHQpICE9PSB0KSByZXR1cm47IGYgPSAhMTsgfSBlbHNlIGZvciAoOyAhKGYgPSAoZSA9IGkuY2FsbCh0KSkuZG9uZSkgJiYgKGEucHVzaChlLnZhbHVlKSwgYS5sZW5ndGggIT09IGwpOyBmID0gITApOyB9IGNhdGNoIChyKSB7IG8gPSAhMCwgbiA9IHI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghZiAmJiBudWxsICE9IHQucmV0dXJuICYmICh1ID0gdC5yZXR1cm4oKSwgT2JqZWN0KHUpICE9PSB1KSkgcmV0dXJuOyB9IGZpbmFsbHkgeyBpZiAobykgdGhyb3cgbjsgfSB9IHJldHVybiBhOyB9IH1cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhyKSB7IGlmIChBcnJheS5pc0FycmF5KHIpKSByZXR1cm4gcjsgfVxuaW1wb3J0IHsgaXNGYWNldFJlZmluZWQgfSBmcm9tIFwiLi9pc0ZhY2V0UmVmaW5lZC5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNlbmRFdmVudEZvckZhY2V0KF9yZWYpIHtcbiAgdmFyIGluc3RhbnRTZWFyY2hJbnN0YW5jZSA9IF9yZWYuaW5zdGFudFNlYXJjaEluc3RhbmNlLFxuICAgIGhlbHBlciA9IF9yZWYuaGVscGVyLFxuICAgIGF0dHIgPSBfcmVmLmF0dHJpYnV0ZSxcbiAgICB3aWRnZXRUeXBlID0gX3JlZi53aWRnZXRUeXBlO1xuICB2YXIgc2VuZEV2ZW50Rm9yRmFjZXQgPSBmdW5jdGlvbiBzZW5kRXZlbnRGb3JGYWNldCgpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIHZhciBmYWNldFZhbHVlID0gYXJnc1sxXSxcbiAgICAgIF9hcmdzJCA9IGFyZ3NbMl0sXG4gICAgICBldmVudE5hbWUgPSBfYXJncyQgPT09IHZvaWQgMCA/ICdGaWx0ZXIgQXBwbGllZCcgOiBfYXJncyQsXG4gICAgICBfYXJncyQyID0gYXJnc1szXSxcbiAgICAgIGFkZGl0aW9uYWxEYXRhID0gX2FyZ3MkMiA9PT0gdm9pZCAwID8ge30gOiBfYXJncyQyO1xuICAgIHZhciBfYXJncyQwJHNwbGl0ID0gYXJnc1swXS5zcGxpdCgnOicpLFxuICAgICAgX2FyZ3MkMCRzcGxpdDIgPSBfc2xpY2VkVG9BcnJheShfYXJncyQwJHNwbGl0LCAyKSxcbiAgICAgIGV2ZW50VHlwZSA9IF9hcmdzJDAkc3BsaXQyWzBdLFxuICAgICAgZXZlbnRNb2RpZmllciA9IF9hcmdzJDAkc3BsaXQyWzFdO1xuICAgIHZhciBhdHRyaWJ1dGUgPSB0eXBlb2YgYXR0ciA9PT0gJ3N0cmluZycgPyBhdHRyIDogYXR0cihmYWNldFZhbHVlKTtcbiAgICBpZiAoYXJncy5sZW5ndGggPT09IDEgJiYgX3R5cGVvZihhcmdzWzBdKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGluc3RhbnRTZWFyY2hJbnN0YW5jZS5zZW5kRXZlbnRUb0luc2lnaHRzKGFyZ3NbMF0pO1xuICAgIH0gZWxzZSBpZiAoZXZlbnRUeXBlID09PSAnY2xpY2snICYmIGFyZ3MubGVuZ3RoID49IDIgJiYgYXJncy5sZW5ndGggPD0gNCkge1xuICAgICAgaWYgKCFpc0ZhY2V0UmVmaW5lZChoZWxwZXIsIGF0dHJpYnV0ZSwgZmFjZXRWYWx1ZSkpIHtcbiAgICAgICAgdmFyIF9oZWxwZXIkbGFzdFJlc3VsdHM7XG4gICAgICAgIC8vIHNlbmQgZXZlbnQgb25seSB3aGVuIHRoZSBmYWNldCBpcyBiZWluZyBjaGVja2VkIFwiT05cIlxuICAgICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2Uuc2VuZEV2ZW50VG9JbnNpZ2h0cyh7XG4gICAgICAgICAgaW5zaWdodHNNZXRob2Q6ICdjbGlja2VkRmlsdGVycycsXG4gICAgICAgICAgd2lkZ2V0VHlwZTogd2lkZ2V0VHlwZSxcbiAgICAgICAgICBldmVudFR5cGU6IGV2ZW50VHlwZSxcbiAgICAgICAgICBldmVudE1vZGlmaWVyOiBldmVudE1vZGlmaWVyLFxuICAgICAgICAgIHBheWxvYWQ6IF9vYmplY3RTcHJlYWQoe1xuICAgICAgICAgICAgZXZlbnROYW1lOiBldmVudE5hbWUsXG4gICAgICAgICAgICBpbmRleDogKChfaGVscGVyJGxhc3RSZXN1bHRzID0gaGVscGVyLmxhc3RSZXN1bHRzKSA9PT0gbnVsbCB8fCBfaGVscGVyJGxhc3RSZXN1bHRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaGVscGVyJGxhc3RSZXN1bHRzLmluZGV4KSB8fCBoZWxwZXIuc3RhdGUuaW5kZXgsXG4gICAgICAgICAgICBmaWx0ZXJzOiBbXCJcIi5jb25jYXQoYXR0cmlidXRlLCBcIjpcIikuY29uY2F0KGZhY2V0VmFsdWUpXVxuICAgICAgICAgIH0sIGFkZGl0aW9uYWxEYXRhKSxcbiAgICAgICAgICBhdHRyaWJ1dGU6IGF0dHJpYnV0ZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgbmVlZCB0byBwYXNzIGJldHdlZW4gdHdvIGFuZCBmb3VyIGFyZ3VtZW50cyBsaWtlOlxcbiAgc2VuZEV2ZW50KCdjbGljaycsIGZhY2V0VmFsdWUsIGV2ZW50TmFtZT8sIGFkZGl0aW9uYWxEYXRhPyk7XFxuXFxuSWYgeW91IHdhbnQgdG8gc2VuZCBhIGN1c3RvbSBwYXlsb2FkLCB5b3UgY2FuIHBhc3Mgb25lIG9iamVjdDogc2VuZEV2ZW50KGN1c3RvbVBheWxvYWQpO1xcblwiKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBzZW5kRXZlbnRGb3JGYWNldDtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/createSendEventForFacet.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/createSendEventForHits.js":
/*!******************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/createSendEventForHits.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   _buildEventPayloadsForHits: () => (/* binding */ _buildEventPayloadsForHits),\n/* harmony export */   createBindEventForHits: () => (/* binding */ createBindEventForHits),\n/* harmony export */   createSendEventForHits: () => (/* binding */ createSendEventForHits)\n/* harmony export */ });\n/* harmony import */ var _serializer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./serializer.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/serializer.js\");\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n\nfunction chunk(arr) {\n  var chunkSize = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 20;\n  var chunks = [];\n  for (var i = 0; i < Math.ceil(arr.length / chunkSize); i++) {\n    chunks.push(arr.slice(i * chunkSize, (i + 1) * chunkSize));\n  }\n  return chunks;\n}\nfunction _buildEventPayloadsForHits(_ref) {\n  var helper = _ref.helper,\n    widgetType = _ref.widgetType,\n    methodName = _ref.methodName,\n    args = _ref.args,\n    instantSearchInstance = _ref.instantSearchInstance;\n  // when there's only one argument, that means it's custom\n  if (args.length === 1 && _typeof(args[0]) === 'object') {\n    return [args[0]];\n  }\n  var _args$0$split = args[0].split(':'),\n    _args$0$split2 = _slicedToArray(_args$0$split, 2),\n    eventType = _args$0$split2[0],\n    eventModifier = _args$0$split2[1];\n  var hits = args[1];\n  var eventName = args[2];\n  var additionalData = args[3] || {};\n  if (!hits) {\n    if (true) {\n      throw new Error(\"You need to pass hit or hits as the second argument like:\\n  \".concat(methodName, \"(eventType, hit);\\n  \"));\n    } else {}\n  }\n  if ((eventType === 'click' || eventType === 'conversion') && !eventName) {\n    if (true) {\n      throw new Error(\"You need to pass eventName as the third argument for 'click' or 'conversion' events like:\\n  \".concat(methodName, \"('click', hit, 'Product Purchased');\\n\\n  To learn more about event naming: https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/in-depth/clicks-conversions-best-practices/\\n  \"));\n    } else {}\n  }\n  var hitsArray = Array.isArray(hits) ? hits : [hits];\n  if (hitsArray.length === 0) {\n    return [];\n  }\n  var queryID = hitsArray[0].__queryID;\n  var hitsChunks = chunk(hitsArray);\n  var objectIDsByChunk = hitsChunks.map(function (batch) {\n    return batch.map(function (hit) {\n      return hit.objectID;\n    });\n  });\n  var positionsByChunk = hitsChunks.map(function (batch) {\n    return batch.map(function (hit) {\n      return hit.__position;\n    });\n  });\n  if (eventType === 'view') {\n    if (instantSearchInstance.status !== 'idle') {\n      return [];\n    }\n    return hitsChunks.map(function (batch, i) {\n      var _helper$lastResults;\n      return {\n        insightsMethod: 'viewedObjectIDs',\n        widgetType: widgetType,\n        eventType: eventType,\n        payload: _objectSpread({\n          eventName: eventName || 'Hits Viewed',\n          index: ((_helper$lastResults = helper.lastResults) === null || _helper$lastResults === void 0 ? void 0 : _helper$lastResults.index) || helper.state.index,\n          objectIDs: objectIDsByChunk[i]\n        }, additionalData),\n        hits: batch,\n        eventModifier: eventModifier\n      };\n    });\n  } else if (eventType === 'click') {\n    return hitsChunks.map(function (batch, i) {\n      var _helper$lastResults2;\n      return {\n        insightsMethod: 'clickedObjectIDsAfterSearch',\n        widgetType: widgetType,\n        eventType: eventType,\n        payload: _objectSpread({\n          eventName: eventName || 'Hit Clicked',\n          index: ((_helper$lastResults2 = helper.lastResults) === null || _helper$lastResults2 === void 0 ? void 0 : _helper$lastResults2.index) || helper.state.index,\n          queryID: queryID,\n          objectIDs: objectIDsByChunk[i],\n          positions: positionsByChunk[i]\n        }, additionalData),\n        hits: batch,\n        eventModifier: eventModifier\n      };\n    });\n  } else if (eventType === 'conversion') {\n    return hitsChunks.map(function (batch, i) {\n      var _helper$lastResults3;\n      return {\n        insightsMethod: 'convertedObjectIDsAfterSearch',\n        widgetType: widgetType,\n        eventType: eventType,\n        payload: _objectSpread({\n          eventName: eventName || 'Hit Converted',\n          index: ((_helper$lastResults3 = helper.lastResults) === null || _helper$lastResults3 === void 0 ? void 0 : _helper$lastResults3.index) || helper.state.index,\n          queryID: queryID,\n          objectIDs: objectIDsByChunk[i]\n        }, additionalData),\n        hits: batch,\n        eventModifier: eventModifier\n      };\n    });\n  } else if (true) {\n    throw new Error(\"eventType(\\\"\".concat(eventType, \"\\\") is not supported.\\n    If you want to send a custom payload, you can pass one object: \").concat(methodName, \"(customPayload);\\n    \"));\n  } else {}\n}\nfunction createSendEventForHits(_ref2) {\n  var instantSearchInstance = _ref2.instantSearchInstance,\n    helper = _ref2.helper,\n    widgetType = _ref2.widgetType;\n  var sentEvents = {};\n  var timer = undefined;\n  var sendEventForHits = function sendEventForHits() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    var payloads = _buildEventPayloadsForHits({\n      widgetType: widgetType,\n      helper: helper,\n      methodName: 'sendEvent',\n      args: args,\n      instantSearchInstance: instantSearchInstance\n    });\n    payloads.forEach(function (payload) {\n      if (payload.eventType === 'click' && payload.eventModifier === 'internal' && sentEvents[payload.eventType]) {\n        return;\n      }\n      sentEvents[payload.eventType] = true;\n      instantSearchInstance.sendEventToInsights(payload);\n    });\n    clearTimeout(timer);\n    timer = setTimeout(function () {\n      sentEvents = {};\n    }, 0);\n  };\n  return sendEventForHits;\n}\nfunction createBindEventForHits(_ref3) {\n  var helper = _ref3.helper,\n    widgetType = _ref3.widgetType,\n    instantSearchInstance = _ref3.instantSearchInstance;\n  var bindEventForHits = function bindEventForHits() {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    var payloads = _buildEventPayloadsForHits({\n      widgetType: widgetType,\n      helper: helper,\n      methodName: 'bindEvent',\n      args: args,\n      instantSearchInstance: instantSearchInstance\n    });\n    return payloads.length ? \"data-insights-event=\".concat((0,_serializer_js__WEBPACK_IMPORTED_MODULE_0__.serializePayload)(payloads)) : '';\n  };\n  return bindEventForHits;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvY3JlYXRlU2VuZEV2ZW50Rm9ySGl0cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEseUJBQXlCLHdCQUF3QixvQ0FBb0MseUNBQXlDLGtDQUFrQywwREFBMEQsMEJBQTBCO0FBQ3BQLDRCQUE0QixnQkFBZ0Isc0JBQXNCLE9BQU8sa0RBQWtELHNEQUFzRCw4QkFBOEIsbUpBQW1KLHFFQUFxRSxLQUFLO0FBQzVhLG9DQUFvQyxvRUFBb0UsMERBQTBEO0FBQ2xLLDZCQUE2QixtQ0FBbUM7QUFDaEUsOEJBQThCLDRDQUE0QywrQkFBK0Isb0JBQW9CLG1DQUFtQyxzQ0FBc0MsdUVBQXVFO0FBQzdRLGdDQUFnQztBQUNoQyw4QkFBOEI7QUFDOUIsNkNBQTZDLFNBQVMsMERBQTBELFVBQVUsZ0NBQWdDO0FBQzFKLG1DQUFtQywrQ0FBK0MsOEJBQThCLE9BQU8sa0JBQWtCO0FBQ3pJLHVDQUF1QyxrR0FBa0csaUJBQWlCLHdDQUF3QyxNQUFNLHlDQUF5Qyw2QkFBNkIsVUFBVSxZQUFZLGtFQUFrRSxXQUFXLFlBQVksaUJBQWlCLFVBQVUsTUFBTSwyRUFBMkUsVUFBVSxvQkFBb0I7QUFDdmdCLDhCQUE4QjtBQUM5QixzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUM1UDtBQUNuRDtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsdUNBQXVDO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxJQUFzQztBQUM5QywySEFBMkg7QUFDM0gsTUFBTSxLQUFLLEVBRU47QUFDTDtBQUNBO0FBQ0EsUUFBUSxJQUFzQztBQUM5Qyw4S0FBOEs7QUFDOUssTUFBTSxLQUFLLEVBRU47QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSSxTQUFTLElBQXNDO0FBQ25ELHVMQUF1TDtBQUN2TCxJQUFJLEtBQUssRUFFTjtBQUNIO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsYUFBYTtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSxlQUFlO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsMkRBQTJELGdFQUFnQjtBQUMzRTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGVjLWxvZ2ljLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2luc3RhbnRzZWFyY2guanMvZXMvbGliL3V0aWxzL2NyZWF0ZVNlbmRFdmVudEZvckhpdHMuanM/Y2JjOCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0KSB7IHJldHVybiAociA9IF90b1Byb3BlcnR5S2V5KHIpKSBpbiBlID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIHsgdmFsdWU6IHQsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSkgOiBlW3JdID0gdCwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KHIsIGUpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQociwgZSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGUpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGEpIHsgaWYgKHIpIHsgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuIFwiT2JqZWN0XCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksIFwiTWFwXCIgPT09IHQgfHwgXCJTZXRcIiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiBcIkFyZ3VtZW50c1wiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGwpIHsgdmFyIHQgPSBudWxsID09IHIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByW1wiQEBpdGVyYXRvclwiXTsgaWYgKG51bGwgIT0gdCkgeyB2YXIgZSwgbiwgaSwgdSwgYSA9IFtdLCBmID0gITAsIG8gPSAhMTsgdHJ5IHsgaWYgKGkgPSAodCA9IHQuY2FsbChyKSkubmV4dCwgMCA9PT0gbCkgeyBpZiAoT2JqZWN0KHQpICE9PSB0KSByZXR1cm47IGYgPSAhMTsgfSBlbHNlIGZvciAoOyAhKGYgPSAoZSA9IGkuY2FsbCh0KSkuZG9uZSkgJiYgKGEucHVzaChlLnZhbHVlKSwgYS5sZW5ndGggIT09IGwpOyBmID0gITApOyB9IGNhdGNoIChyKSB7IG8gPSAhMCwgbiA9IHI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghZiAmJiBudWxsICE9IHQucmV0dXJuICYmICh1ID0gdC5yZXR1cm4oKSwgT2JqZWN0KHUpICE9PSB1KSkgcmV0dXJuOyB9IGZpbmFsbHkgeyBpZiAobykgdGhyb3cgbjsgfSB9IHJldHVybiBhOyB9IH1cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhyKSB7IGlmIChBcnJheS5pc0FycmF5KHIpKSByZXR1cm4gcjsgfVxuZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuaW1wb3J0IHsgc2VyaWFsaXplUGF5bG9hZCB9IGZyb20gXCIuL3NlcmlhbGl6ZXIuanNcIjtcbmZ1bmN0aW9uIGNodW5rKGFycikge1xuICB2YXIgY2h1bmtTaXplID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAyMDtcbiAgdmFyIGNodW5rcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IE1hdGguY2VpbChhcnIubGVuZ3RoIC8gY2h1bmtTaXplKTsgaSsrKSB7XG4gICAgY2h1bmtzLnB1c2goYXJyLnNsaWNlKGkgKiBjaHVua1NpemUsIChpICsgMSkgKiBjaHVua1NpemUpKTtcbiAgfVxuICByZXR1cm4gY2h1bmtzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIF9idWlsZEV2ZW50UGF5bG9hZHNGb3JIaXRzKF9yZWYpIHtcbiAgdmFyIGhlbHBlciA9IF9yZWYuaGVscGVyLFxuICAgIHdpZGdldFR5cGUgPSBfcmVmLndpZGdldFR5cGUsXG4gICAgbWV0aG9kTmFtZSA9IF9yZWYubWV0aG9kTmFtZSxcbiAgICBhcmdzID0gX3JlZi5hcmdzLFxuICAgIGluc3RhbnRTZWFyY2hJbnN0YW5jZSA9IF9yZWYuaW5zdGFudFNlYXJjaEluc3RhbmNlO1xuICAvLyB3aGVuIHRoZXJlJ3Mgb25seSBvbmUgYXJndW1lbnQsIHRoYXQgbWVhbnMgaXQncyBjdXN0b21cbiAgaWYgKGFyZ3MubGVuZ3RoID09PSAxICYmIF90eXBlb2YoYXJnc1swXSkgPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIFthcmdzWzBdXTtcbiAgfVxuICB2YXIgX2FyZ3MkMCRzcGxpdCA9IGFyZ3NbMF0uc3BsaXQoJzonKSxcbiAgICBfYXJncyQwJHNwbGl0MiA9IF9zbGljZWRUb0FycmF5KF9hcmdzJDAkc3BsaXQsIDIpLFxuICAgIGV2ZW50VHlwZSA9IF9hcmdzJDAkc3BsaXQyWzBdLFxuICAgIGV2ZW50TW9kaWZpZXIgPSBfYXJncyQwJHNwbGl0MlsxXTtcbiAgdmFyIGhpdHMgPSBhcmdzWzFdO1xuICB2YXIgZXZlbnROYW1lID0gYXJnc1syXTtcbiAgdmFyIGFkZGl0aW9uYWxEYXRhID0gYXJnc1szXSB8fCB7fTtcbiAgaWYgKCFoaXRzKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgbmVlZCB0byBwYXNzIGhpdCBvciBoaXRzIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQgbGlrZTpcXG4gIFwiLmNvbmNhdChtZXRob2ROYW1lLCBcIihldmVudFR5cGUsIGhpdCk7XFxuICBcIikpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG4gIGlmICgoZXZlbnRUeXBlID09PSAnY2xpY2snIHx8IGV2ZW50VHlwZSA9PT0gJ2NvbnZlcnNpb24nKSAmJiAhZXZlbnROYW1lKSB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgbmVlZCB0byBwYXNzIGV2ZW50TmFtZSBhcyB0aGUgdGhpcmQgYXJndW1lbnQgZm9yICdjbGljaycgb3IgJ2NvbnZlcnNpb24nIGV2ZW50cyBsaWtlOlxcbiAgXCIuY29uY2F0KG1ldGhvZE5hbWUsIFwiKCdjbGljaycsIGhpdCwgJ1Byb2R1Y3QgUHVyY2hhc2VkJyk7XFxuXFxuICBUbyBsZWFybiBtb3JlIGFib3V0IGV2ZW50IG5hbWluZzogaHR0cHM6Ly93d3cuYWxnb2xpYS5jb20vZG9jL2d1aWRlcy9nZXR0aW5nLWluc2lnaHRzLWFuZC1hbmFseXRpY3Mvc2VhcmNoLWFuYWx5dGljcy9jbGljay10aHJvdWdoLWFuZC1jb252ZXJzaW9ucy9pbi1kZXB0aC9jbGlja3MtY29udmVyc2lvbnMtYmVzdC1wcmFjdGljZXMvXFxuICBcIikpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICB9XG4gIHZhciBoaXRzQXJyYXkgPSBBcnJheS5pc0FycmF5KGhpdHMpID8gaGl0cyA6IFtoaXRzXTtcbiAgaWYgKGhpdHNBcnJheS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgdmFyIHF1ZXJ5SUQgPSBoaXRzQXJyYXlbMF0uX19xdWVyeUlEO1xuICB2YXIgaGl0c0NodW5rcyA9IGNodW5rKGhpdHNBcnJheSk7XG4gIHZhciBvYmplY3RJRHNCeUNodW5rID0gaGl0c0NodW5rcy5tYXAoZnVuY3Rpb24gKGJhdGNoKSB7XG4gICAgcmV0dXJuIGJhdGNoLm1hcChmdW5jdGlvbiAoaGl0KSB7XG4gICAgICByZXR1cm4gaGl0Lm9iamVjdElEO1xuICAgIH0pO1xuICB9KTtcbiAgdmFyIHBvc2l0aW9uc0J5Q2h1bmsgPSBoaXRzQ2h1bmtzLm1hcChmdW5jdGlvbiAoYmF0Y2gpIHtcbiAgICByZXR1cm4gYmF0Y2gubWFwKGZ1bmN0aW9uIChoaXQpIHtcbiAgICAgIHJldHVybiBoaXQuX19wb3NpdGlvbjtcbiAgICB9KTtcbiAgfSk7XG4gIGlmIChldmVudFR5cGUgPT09ICd2aWV3Jykge1xuICAgIGlmIChpbnN0YW50U2VhcmNoSW5zdGFuY2Uuc3RhdHVzICE9PSAnaWRsZScpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcmV0dXJuIGhpdHNDaHVua3MubWFwKGZ1bmN0aW9uIChiYXRjaCwgaSkge1xuICAgICAgdmFyIF9oZWxwZXIkbGFzdFJlc3VsdHM7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpbnNpZ2h0c01ldGhvZDogJ3ZpZXdlZE9iamVjdElEcycsXG4gICAgICAgIHdpZGdldFR5cGU6IHdpZGdldFR5cGUsXG4gICAgICAgIGV2ZW50VHlwZTogZXZlbnRUeXBlLFxuICAgICAgICBwYXlsb2FkOiBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICBldmVudE5hbWU6IGV2ZW50TmFtZSB8fCAnSGl0cyBWaWV3ZWQnLFxuICAgICAgICAgIGluZGV4OiAoKF9oZWxwZXIkbGFzdFJlc3VsdHMgPSBoZWxwZXIubGFzdFJlc3VsdHMpID09PSBudWxsIHx8IF9oZWxwZXIkbGFzdFJlc3VsdHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oZWxwZXIkbGFzdFJlc3VsdHMuaW5kZXgpIHx8IGhlbHBlci5zdGF0ZS5pbmRleCxcbiAgICAgICAgICBvYmplY3RJRHM6IG9iamVjdElEc0J5Q2h1bmtbaV1cbiAgICAgICAgfSwgYWRkaXRpb25hbERhdGEpLFxuICAgICAgICBoaXRzOiBiYXRjaCxcbiAgICAgICAgZXZlbnRNb2RpZmllcjogZXZlbnRNb2RpZmllclxuICAgICAgfTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChldmVudFR5cGUgPT09ICdjbGljaycpIHtcbiAgICByZXR1cm4gaGl0c0NodW5rcy5tYXAoZnVuY3Rpb24gKGJhdGNoLCBpKSB7XG4gICAgICB2YXIgX2hlbHBlciRsYXN0UmVzdWx0czI7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpbnNpZ2h0c01ldGhvZDogJ2NsaWNrZWRPYmplY3RJRHNBZnRlclNlYXJjaCcsXG4gICAgICAgIHdpZGdldFR5cGU6IHdpZGdldFR5cGUsXG4gICAgICAgIGV2ZW50VHlwZTogZXZlbnRUeXBlLFxuICAgICAgICBwYXlsb2FkOiBfb2JqZWN0U3ByZWFkKHtcbiAgICAgICAgICBldmVudE5hbWU6IGV2ZW50TmFtZSB8fCAnSGl0IENsaWNrZWQnLFxuICAgICAgICAgIGluZGV4OiAoKF9oZWxwZXIkbGFzdFJlc3VsdHMyID0gaGVscGVyLmxhc3RSZXN1bHRzKSA9PT0gbnVsbCB8fCBfaGVscGVyJGxhc3RSZXN1bHRzMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2hlbHBlciRsYXN0UmVzdWx0czIuaW5kZXgpIHx8IGhlbHBlci5zdGF0ZS5pbmRleCxcbiAgICAgICAgICBxdWVyeUlEOiBxdWVyeUlELFxuICAgICAgICAgIG9iamVjdElEczogb2JqZWN0SURzQnlDaHVua1tpXSxcbiAgICAgICAgICBwb3NpdGlvbnM6IHBvc2l0aW9uc0J5Q2h1bmtbaV1cbiAgICAgICAgfSwgYWRkaXRpb25hbERhdGEpLFxuICAgICAgICBoaXRzOiBiYXRjaCxcbiAgICAgICAgZXZlbnRNb2RpZmllcjogZXZlbnRNb2RpZmllclxuICAgICAgfTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChldmVudFR5cGUgPT09ICdjb252ZXJzaW9uJykge1xuICAgIHJldHVybiBoaXRzQ2h1bmtzLm1hcChmdW5jdGlvbiAoYmF0Y2gsIGkpIHtcbiAgICAgIHZhciBfaGVscGVyJGxhc3RSZXN1bHRzMztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGluc2lnaHRzTWV0aG9kOiAnY29udmVydGVkT2JqZWN0SURzQWZ0ZXJTZWFyY2gnLFxuICAgICAgICB3aWRnZXRUeXBlOiB3aWRnZXRUeXBlLFxuICAgICAgICBldmVudFR5cGU6IGV2ZW50VHlwZSxcbiAgICAgICAgcGF5bG9hZDogX29iamVjdFNwcmVhZCh7XG4gICAgICAgICAgZXZlbnROYW1lOiBldmVudE5hbWUgfHwgJ0hpdCBDb252ZXJ0ZWQnLFxuICAgICAgICAgIGluZGV4OiAoKF9oZWxwZXIkbGFzdFJlc3VsdHMzID0gaGVscGVyLmxhc3RSZXN1bHRzKSA9PT0gbnVsbCB8fCBfaGVscGVyJGxhc3RSZXN1bHRzMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2hlbHBlciRsYXN0UmVzdWx0czMuaW5kZXgpIHx8IGhlbHBlci5zdGF0ZS5pbmRleCxcbiAgICAgICAgICBxdWVyeUlEOiBxdWVyeUlELFxuICAgICAgICAgIG9iamVjdElEczogb2JqZWN0SURzQnlDaHVua1tpXVxuICAgICAgICB9LCBhZGRpdGlvbmFsRGF0YSksXG4gICAgICAgIGhpdHM6IGJhdGNoLFxuICAgICAgICBldmVudE1vZGlmaWVyOiBldmVudE1vZGlmaWVyXG4gICAgICB9O1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZXZlbnRUeXBlKFxcXCJcIi5jb25jYXQoZXZlbnRUeXBlLCBcIlxcXCIpIGlzIG5vdCBzdXBwb3J0ZWQuXFxuICAgIElmIHlvdSB3YW50IHRvIHNlbmQgYSBjdXN0b20gcGF5bG9hZCwgeW91IGNhbiBwYXNzIG9uZSBvYmplY3Q6IFwiKS5jb25jYXQobWV0aG9kTmFtZSwgXCIoY3VzdG9tUGF5bG9hZCk7XFxuICAgIFwiKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU2VuZEV2ZW50Rm9ySGl0cyhfcmVmMikge1xuICB2YXIgaW5zdGFudFNlYXJjaEluc3RhbmNlID0gX3JlZjIuaW5zdGFudFNlYXJjaEluc3RhbmNlLFxuICAgIGhlbHBlciA9IF9yZWYyLmhlbHBlcixcbiAgICB3aWRnZXRUeXBlID0gX3JlZjIud2lkZ2V0VHlwZTtcbiAgdmFyIHNlbnRFdmVudHMgPSB7fTtcbiAgdmFyIHRpbWVyID0gdW5kZWZpbmVkO1xuICB2YXIgc2VuZEV2ZW50Rm9ySGl0cyA9IGZ1bmN0aW9uIHNlbmRFdmVudEZvckhpdHMoKSB7XG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cbiAgICB2YXIgcGF5bG9hZHMgPSBfYnVpbGRFdmVudFBheWxvYWRzRm9ySGl0cyh7XG4gICAgICB3aWRnZXRUeXBlOiB3aWRnZXRUeXBlLFxuICAgICAgaGVscGVyOiBoZWxwZXIsXG4gICAgICBtZXRob2ROYW1lOiAnc2VuZEV2ZW50JyxcbiAgICAgIGFyZ3M6IGFyZ3MsXG4gICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2U6IGluc3RhbnRTZWFyY2hJbnN0YW5jZVxuICAgIH0pO1xuICAgIHBheWxvYWRzLmZvckVhY2goZnVuY3Rpb24gKHBheWxvYWQpIHtcbiAgICAgIGlmIChwYXlsb2FkLmV2ZW50VHlwZSA9PT0gJ2NsaWNrJyAmJiBwYXlsb2FkLmV2ZW50TW9kaWZpZXIgPT09ICdpbnRlcm5hbCcgJiYgc2VudEV2ZW50c1twYXlsb2FkLmV2ZW50VHlwZV0pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2VudEV2ZW50c1twYXlsb2FkLmV2ZW50VHlwZV0gPSB0cnVlO1xuICAgICAgaW5zdGFudFNlYXJjaEluc3RhbmNlLnNlbmRFdmVudFRvSW5zaWdodHMocGF5bG9hZCk7XG4gICAgfSk7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgc2VudEV2ZW50cyA9IHt9O1xuICAgIH0sIDApO1xuICB9O1xuICByZXR1cm4gc2VuZEV2ZW50Rm9ySGl0cztcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVCaW5kRXZlbnRGb3JIaXRzKF9yZWYzKSB7XG4gIHZhciBoZWxwZXIgPSBfcmVmMy5oZWxwZXIsXG4gICAgd2lkZ2V0VHlwZSA9IF9yZWYzLndpZGdldFR5cGUsXG4gICAgaW5zdGFudFNlYXJjaEluc3RhbmNlID0gX3JlZjMuaW5zdGFudFNlYXJjaEluc3RhbmNlO1xuICB2YXIgYmluZEV2ZW50Rm9ySGl0cyA9IGZ1bmN0aW9uIGJpbmRFdmVudEZvckhpdHMoKSB7XG4gICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICBhcmdzW19rZXkyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgfVxuICAgIHZhciBwYXlsb2FkcyA9IF9idWlsZEV2ZW50UGF5bG9hZHNGb3JIaXRzKHtcbiAgICAgIHdpZGdldFR5cGU6IHdpZGdldFR5cGUsXG4gICAgICBoZWxwZXI6IGhlbHBlcixcbiAgICAgIG1ldGhvZE5hbWU6ICdiaW5kRXZlbnQnLFxuICAgICAgYXJnczogYXJncyxcbiAgICAgIGluc3RhbnRTZWFyY2hJbnN0YW5jZTogaW5zdGFudFNlYXJjaEluc3RhbmNlXG4gICAgfSk7XG4gICAgcmV0dXJuIHBheWxvYWRzLmxlbmd0aCA/IFwiZGF0YS1pbnNpZ2h0cy1ldmVudD1cIi5jb25jYXQoc2VyaWFsaXplUGF5bG9hZChwYXlsb2FkcykpIDogJyc7XG4gIH07XG4gIHJldHVybiBiaW5kRXZlbnRGb3JIaXRzO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/createSendEventForHits.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/defer.js":
/*!*************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/defer.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   defer: () => (/* binding */ defer)\n/* harmony export */ });\nvar nextMicroTask = Promise.resolve();\nfunction defer(callback) {\n  var progress = null;\n  var cancelled = false;\n  var fn = function fn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    if (progress !== null) {\n      return;\n    }\n    progress = nextMicroTask.then(function () {\n      progress = null;\n      if (cancelled) {\n        cancelled = false;\n        return;\n      }\n      callback.apply(void 0, args);\n    });\n  };\n  fn.wait = function () {\n    if (progress === null) {\n      throw new Error('The deferred function should be called before calling `wait()`');\n    }\n    return progress;\n  };\n  fn.cancel = function () {\n    if (progress === null) {\n      return;\n    }\n    cancelled = true;\n  };\n  return fn;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvZGVmZXIuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsYUFBYTtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2xpYi91dGlscy9kZWZlci5qcz9kNThkIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBuZXh0TWljcm9UYXNrID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5leHBvcnQgZnVuY3Rpb24gZGVmZXIoY2FsbGJhY2spIHtcbiAgdmFyIHByb2dyZXNzID0gbnVsbDtcbiAgdmFyIGNhbmNlbGxlZCA9IGZhbHNlO1xuICB2YXIgZm4gPSBmdW5jdGlvbiBmbigpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuICAgIGlmIChwcm9ncmVzcyAhPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwcm9ncmVzcyA9IG5leHRNaWNyb1Rhc2sudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBwcm9ncmVzcyA9IG51bGw7XG4gICAgICBpZiAoY2FuY2VsbGVkKSB7XG4gICAgICAgIGNhbmNlbGxlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjYWxsYmFjay5hcHBseSh2b2lkIDAsIGFyZ3MpO1xuICAgIH0pO1xuICB9O1xuICBmbi53YWl0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChwcm9ncmVzcyA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgZGVmZXJyZWQgZnVuY3Rpb24gc2hvdWxkIGJlIGNhbGxlZCBiZWZvcmUgY2FsbGluZyBgd2FpdCgpYCcpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvZ3Jlc3M7XG4gIH07XG4gIGZuLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAocHJvZ3Jlc3MgPT09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2FuY2VsbGVkID0gdHJ1ZTtcbiAgfTtcbiAgcmV0dXJuIGZuO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/defer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/documentation.js":
/*!*********************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/documentation.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createDocumentationLink: () => (/* binding */ createDocumentationLink),\n/* harmony export */   createDocumentationMessageGenerator: () => (/* binding */ createDocumentationMessageGenerator)\n/* harmony export */ });\nfunction createDocumentationLink(_ref) {\n  var name = _ref.name,\n    _ref$connector = _ref.connector,\n    connector = _ref$connector === void 0 ? false : _ref$connector;\n  return ['https://www.algolia.com/doc/api-reference/widgets/', name, '/js/', connector ? '#connector' : ''].join('');\n}\nfunction createDocumentationMessageGenerator() {\n  for (var _len = arguments.length, widgets = new Array(_len), _key = 0; _key < _len; _key++) {\n    widgets[_key] = arguments[_key];\n  }\n  var links = widgets.map(function (widget) {\n    return createDocumentationLink(widget);\n  }).join(', ');\n  return function (message) {\n    return [message, \"See documentation: \".concat(links)].filter(Boolean).join('\\n\\n');\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvZG9jdW1lbnRhdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AseUVBQXlFLGFBQWE7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGVjLWxvZ2ljLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2luc3RhbnRzZWFyY2guanMvZXMvbGliL3V0aWxzL2RvY3VtZW50YXRpb24uanM/NDdkOCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gY3JlYXRlRG9jdW1lbnRhdGlvbkxpbmsoX3JlZikge1xuICB2YXIgbmFtZSA9IF9yZWYubmFtZSxcbiAgICBfcmVmJGNvbm5lY3RvciA9IF9yZWYuY29ubmVjdG9yLFxuICAgIGNvbm5lY3RvciA9IF9yZWYkY29ubmVjdG9yID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkY29ubmVjdG9yO1xuICByZXR1cm4gWydodHRwczovL3d3dy5hbGdvbGlhLmNvbS9kb2MvYXBpLXJlZmVyZW5jZS93aWRnZXRzLycsIG5hbWUsICcvanMvJywgY29ubmVjdG9yID8gJyNjb25uZWN0b3InIDogJyddLmpvaW4oJycpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURvY3VtZW50YXRpb25NZXNzYWdlR2VuZXJhdG9yKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgd2lkZ2V0cyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICB3aWRnZXRzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG4gIHZhciBsaW5rcyA9IHdpZGdldHMubWFwKGZ1bmN0aW9uICh3aWRnZXQpIHtcbiAgICByZXR1cm4gY3JlYXRlRG9jdW1lbnRhdGlvbkxpbmsod2lkZ2V0KTtcbiAgfSkuam9pbignLCAnKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgcmV0dXJuIFttZXNzYWdlLCBcIlNlZSBkb2N1bWVudGF0aW9uOiBcIi5jb25jYXQobGlua3MpXS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuXFxuJyk7XG4gIH07XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/documentation.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/escape-highlight.js":
/*!************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/escape-highlight.js ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TAG_PLACEHOLDER: () => (/* binding */ TAG_PLACEHOLDER),\n/* harmony export */   TAG_REPLACEMENT: () => (/* binding */ TAG_REPLACEMENT),\n/* harmony export */   escapeFacets: () => (/* binding */ escapeFacets),\n/* harmony export */   escapeHits: () => (/* binding */ escapeHits)\n/* harmony export */ });\n/* harmony import */ var _escape_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./escape-html.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/escape-html.js\");\n/* harmony import */ var _isPlainObject_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./isPlainObject.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/isPlainObject.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _objectDestructuringEmpty(t) { if (null == t) throw new TypeError(\"Cannot destructure \" + t); }\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\n\nvar TAG_PLACEHOLDER = {\n  highlightPreTag: '__ais-highlight__',\n  highlightPostTag: '__/ais-highlight__'\n};\nvar TAG_REPLACEMENT = {\n  highlightPreTag: '<mark>',\n  highlightPostTag: '</mark>'\n};\n\n// @MAJOR: in the future, this should only escape, not replace\nfunction replaceTagsAndEscape(value) {\n  return (0,_escape_html_js__WEBPACK_IMPORTED_MODULE_0__.escape)(value).replace(new RegExp(TAG_PLACEHOLDER.highlightPreTag, 'g'), TAG_REPLACEMENT.highlightPreTag).replace(new RegExp(TAG_PLACEHOLDER.highlightPostTag, 'g'), TAG_REPLACEMENT.highlightPostTag);\n}\nfunction recursiveEscape(input) {\n  if ((0,_isPlainObject_js__WEBPACK_IMPORTED_MODULE_1__.isPlainObject)(input) && typeof input.value !== 'string') {\n    return Object.keys(input).reduce(function (acc, key) {\n      return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, key, recursiveEscape(input[key])));\n    }, {});\n  }\n  if (Array.isArray(input)) {\n    return input.map(recursiveEscape);\n  }\n  return _objectSpread(_objectSpread({}, input), {}, {\n    value: replaceTagsAndEscape(input.value)\n  });\n}\nfunction escapeHits(hits) {\n  if (hits.__escaped === undefined) {\n    // We don't override the value on hit because it will mutate the raw results\n    // instead we make a shallow copy and we assign the escaped values on it.\n    hits = hits.map(function (_ref) {\n      var hit = _extends({}, (_objectDestructuringEmpty(_ref), _ref));\n      if (hit._highlightResult) {\n        hit._highlightResult = recursiveEscape(hit._highlightResult);\n      }\n      if (hit._snippetResult) {\n        hit._snippetResult = recursiveEscape(hit._snippetResult);\n      }\n      return hit;\n    });\n    hits.__escaped = true;\n  }\n  return hits;\n}\nfunction escapeFacets(facetHits) {\n  return facetHits.map(function (h) {\n    return _objectSpread(_objectSpread({}, h), {}, {\n      highlighted: replaceTagsAndEscape(h.highlighted)\n    });\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvZXNjYXBlLWhpZ2hsaWdodC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSxzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUMvUyx3Q0FBd0M7QUFDeEMsc0JBQXNCLHdFQUF3RSxnQkFBZ0Isc0JBQXNCLE9BQU8sc0JBQXNCLG9CQUFvQixnREFBZ0QsV0FBVztBQUNoUCx5QkFBeUIsd0JBQXdCLG9DQUFvQyx5Q0FBeUMsa0NBQWtDLDBEQUEwRCwwQkFBMEI7QUFDcFAsNEJBQTRCLGdCQUFnQixzQkFBc0IsT0FBTyxrREFBa0Qsc0RBQXNELDhCQUE4QixtSkFBbUoscUVBQXFFLEtBQUs7QUFDNWEsb0NBQW9DLG9FQUFvRSwwREFBMEQ7QUFDbEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDbk87QUFDUztBQUM1QztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTLHVEQUFNO0FBQ2Y7QUFDQTtBQUNBLE1BQU0sZ0VBQWE7QUFDbkI7QUFDQSwyQ0FBMkMsVUFBVSxvQkFBb0I7QUFDekUsS0FBSyxJQUFJO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsWUFBWTtBQUNuRDtBQUNBLEdBQUc7QUFDSDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0EseUNBQXlDLFFBQVE7QUFDakQ7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2xpYi91dGlscy9lc2NhcGUtaGlnaGxpZ2h0LmpzPzhiMWUiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuZnVuY3Rpb24gX29iamVjdERlc3RydWN0dXJpbmdFbXB0eSh0KSB7IGlmIChudWxsID09IHQpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgZGVzdHJ1Y3R1cmUgXCIgKyB0KTsgfVxuZnVuY3Rpb24gX2V4dGVuZHMoKSB7IHJldHVybiBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gPyBPYmplY3QuYXNzaWduLmJpbmQoKSA6IGZ1bmN0aW9uIChuKSB7IGZvciAodmFyIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7IHZhciB0ID0gYXJndW1lbnRzW2VdOyBmb3IgKHZhciByIGluIHQpICh7fSkuaGFzT3duUHJvcGVydHkuY2FsbCh0LCByKSAmJiAobltyXSA9IHRbcl0pOyB9IHJldHVybiBuOyB9LCBfZXh0ZW5kcy5hcHBseShudWxsLCBhcmd1bWVudHMpOyB9XG5mdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0KSB7IHJldHVybiAociA9IF90b1Byb3BlcnR5S2V5KHIpKSBpbiBlID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIHsgdmFsdWU6IHQsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSkgOiBlW3JdID0gdCwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmltcG9ydCB7IGVzY2FwZSB9IGZyb20gXCIuL2VzY2FwZS1odG1sLmpzXCI7XG5pbXBvcnQgeyBpc1BsYWluT2JqZWN0IH0gZnJvbSBcIi4vaXNQbGFpbk9iamVjdC5qc1wiO1xuZXhwb3J0IHZhciBUQUdfUExBQ0VIT0xERVIgPSB7XG4gIGhpZ2hsaWdodFByZVRhZzogJ19fYWlzLWhpZ2hsaWdodF9fJyxcbiAgaGlnaGxpZ2h0UG9zdFRhZzogJ19fL2Fpcy1oaWdobGlnaHRfXydcbn07XG5leHBvcnQgdmFyIFRBR19SRVBMQUNFTUVOVCA9IHtcbiAgaGlnaGxpZ2h0UHJlVGFnOiAnPG1hcms+JyxcbiAgaGlnaGxpZ2h0UG9zdFRhZzogJzwvbWFyaz4nXG59O1xuXG4vLyBATUFKT1I6IGluIHRoZSBmdXR1cmUsIHRoaXMgc2hvdWxkIG9ubHkgZXNjYXBlLCBub3QgcmVwbGFjZVxuZnVuY3Rpb24gcmVwbGFjZVRhZ3NBbmRFc2NhcGUodmFsdWUpIHtcbiAgcmV0dXJuIGVzY2FwZSh2YWx1ZSkucmVwbGFjZShuZXcgUmVnRXhwKFRBR19QTEFDRUhPTERFUi5oaWdobGlnaHRQcmVUYWcsICdnJyksIFRBR19SRVBMQUNFTUVOVC5oaWdobGlnaHRQcmVUYWcpLnJlcGxhY2UobmV3IFJlZ0V4cChUQUdfUExBQ0VIT0xERVIuaGlnaGxpZ2h0UG9zdFRhZywgJ2cnKSwgVEFHX1JFUExBQ0VNRU5ULmhpZ2hsaWdodFBvc3RUYWcpO1xufVxuZnVuY3Rpb24gcmVjdXJzaXZlRXNjYXBlKGlucHV0KSB7XG4gIGlmIChpc1BsYWluT2JqZWN0KGlucHV0KSAmJiB0eXBlb2YgaW5wdXQudmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGlucHV0KS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBhY2MpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBrZXksIHJlY3Vyc2l2ZUVzY2FwZShpbnB1dFtrZXldKSkpO1xuICAgIH0sIHt9KTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcbiAgICByZXR1cm4gaW5wdXQubWFwKHJlY3Vyc2l2ZUVzY2FwZSk7XG4gIH1cbiAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaW5wdXQpLCB7fSwge1xuICAgIHZhbHVlOiByZXBsYWNlVGFnc0FuZEVzY2FwZShpbnB1dC52YWx1ZSlcbiAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlSGl0cyhoaXRzKSB7XG4gIGlmIChoaXRzLl9fZXNjYXBlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gV2UgZG9uJ3Qgb3ZlcnJpZGUgdGhlIHZhbHVlIG9uIGhpdCBiZWNhdXNlIGl0IHdpbGwgbXV0YXRlIHRoZSByYXcgcmVzdWx0c1xuICAgIC8vIGluc3RlYWQgd2UgbWFrZSBhIHNoYWxsb3cgY29weSBhbmQgd2UgYXNzaWduIHRoZSBlc2NhcGVkIHZhbHVlcyBvbiBpdC5cbiAgICBoaXRzID0gaGl0cy5tYXAoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgIHZhciBoaXQgPSBfZXh0ZW5kcyh7fSwgKF9vYmplY3REZXN0cnVjdHVyaW5nRW1wdHkoX3JlZiksIF9yZWYpKTtcbiAgICAgIGlmIChoaXQuX2hpZ2hsaWdodFJlc3VsdCkge1xuICAgICAgICBoaXQuX2hpZ2hsaWdodFJlc3VsdCA9IHJlY3Vyc2l2ZUVzY2FwZShoaXQuX2hpZ2hsaWdodFJlc3VsdCk7XG4gICAgICB9XG4gICAgICBpZiAoaGl0Ll9zbmlwcGV0UmVzdWx0KSB7XG4gICAgICAgIGhpdC5fc25pcHBldFJlc3VsdCA9IHJlY3Vyc2l2ZUVzY2FwZShoaXQuX3NuaXBwZXRSZXN1bHQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhpdDtcbiAgICB9KTtcbiAgICBoaXRzLl9fZXNjYXBlZCA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIGhpdHM7XG59XG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlRmFjZXRzKGZhY2V0SGl0cykge1xuICByZXR1cm4gZmFjZXRIaXRzLm1hcChmdW5jdGlvbiAoaCkge1xuICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGgpLCB7fSwge1xuICAgICAgaGlnaGxpZ2h0ZWQ6IHJlcGxhY2VUYWdzQW5kRXNjYXBlKGguaGlnaGxpZ2h0ZWQpXG4gICAgfSk7XG4gIH0pO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/escape-highlight.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/escape-html.js":
/*!*******************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/escape-html.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   escape: () => (/* binding */ escape),\n/* harmony export */   unescape: () => (/* binding */ unescape)\n/* harmony export */ });\n/**\n * This implementation is taken from Lodash implementation.\n * See: https://github.com/lodash/lodash/blob/4.17.11-npm/escape.js\n */\n\n// Used to map characters to HTML entities.\nvar htmlEntities = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\n\n// Used to match HTML entities and HTML characters.\nvar regexUnescapedHtml = /[&<>\"']/g;\nvar regexHasUnescapedHtml = RegExp(regexUnescapedHtml.source);\n\n/**\n * Converts the characters \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n * corresponding HTML entities.\n */\nfunction escape(value) {\n  return value && regexHasUnescapedHtml.test(value) ? value.replace(regexUnescapedHtml, function (character) {\n    return htmlEntities[character];\n  }) : value;\n}\n\n/**\n * This implementation is taken from Lodash implementation.\n * See: https://github.com/lodash/lodash/blob/4.17.11-npm/unescape.js\n */\n\n// Used to map HTML entities to characters.\nvar htmlCharacters = {\n  '&amp;': '&',\n  '&lt;': '<',\n  '&gt;': '>',\n  '&quot;': '\"',\n  '&#39;': \"'\"\n};\n\n// Used to match HTML entities and HTML characters.\nvar regexEscapedHtml = /&(amp|quot|lt|gt|#39);/g;\nvar regexHasEscapedHtml = RegExp(regexEscapedHtml.source);\n\n/**\n * Converts the HTML entities \"&\", \"<\", \">\", '\"', and \"'\" in `string` to their\n * characters.\n */\nfunction unescape(value) {\n  return value && regexHasEscapedHtml.test(value) ? value.replace(regexEscapedHtml, function (character) {\n    return htmlCharacters[character];\n  }) : value;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvZXNjYXBlLWh0bWwuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFlBQVk7QUFDWixZQUFZO0FBQ1osY0FBYztBQUNkLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUixPQUFPO0FBQ1AsT0FBTztBQUNQLFNBQVM7QUFDVCxRQUFRO0FBQ1I7O0FBRUE7QUFDQSw4Q0FBOEM7QUFDOUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGVjLWxvZ2ljLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2luc3RhbnRzZWFyY2guanMvZXMvbGliL3V0aWxzL2VzY2FwZS1odG1sLmpzPzVhZjMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBUaGlzIGltcGxlbWVudGF0aW9uIGlzIHRha2VuIGZyb20gTG9kYXNoIGltcGxlbWVudGF0aW9uLlxuICogU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbG9kYXNoL2xvZGFzaC9ibG9iLzQuMTcuMTEtbnBtL2VzY2FwZS5qc1xuICovXG5cbi8vIFVzZWQgdG8gbWFwIGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy5cbnZhciBodG1sRW50aXRpZXMgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmIzM5Oydcbn07XG5cbi8vIFVzZWQgdG8gbWF0Y2ggSFRNTCBlbnRpdGllcyBhbmQgSFRNTCBjaGFyYWN0ZXJzLlxudmFyIHJlZ2V4VW5lc2NhcGVkSHRtbCA9IC9bJjw+XCInXS9nO1xudmFyIHJlZ2V4SGFzVW5lc2NhcGVkSHRtbCA9IFJlZ0V4cChyZWdleFVuZXNjYXBlZEh0bWwuc291cmNlKTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgY2hhcmFjdGVycyBcIiZcIiwgXCI8XCIsIFwiPlwiLCAnXCInLCBhbmQgXCInXCIgaW4gYHN0cmluZ2AgdG8gdGhlaXJcbiAqIGNvcnJlc3BvbmRpbmcgSFRNTCBlbnRpdGllcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgJiYgcmVnZXhIYXNVbmVzY2FwZWRIdG1sLnRlc3QodmFsdWUpID8gdmFsdWUucmVwbGFjZShyZWdleFVuZXNjYXBlZEh0bWwsIGZ1bmN0aW9uIChjaGFyYWN0ZXIpIHtcbiAgICByZXR1cm4gaHRtbEVudGl0aWVzW2NoYXJhY3Rlcl07XG4gIH0pIDogdmFsdWU7XG59XG5cbi8qKlxuICogVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyB0YWtlbiBmcm9tIExvZGFzaCBpbXBsZW1lbnRhdGlvbi5cbiAqIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2xvZGFzaC9sb2Rhc2gvYmxvYi80LjE3LjExLW5wbS91bmVzY2FwZS5qc1xuICovXG5cbi8vIFVzZWQgdG8gbWFwIEhUTUwgZW50aXRpZXMgdG8gY2hhcmFjdGVycy5cbnZhciBodG1sQ2hhcmFjdGVycyA9IHtcbiAgJyZhbXA7JzogJyYnLFxuICAnJmx0Oyc6ICc8JyxcbiAgJyZndDsnOiAnPicsXG4gICcmcXVvdDsnOiAnXCInLFxuICAnJiMzOTsnOiBcIidcIlxufTtcblxuLy8gVXNlZCB0byBtYXRjaCBIVE1MIGVudGl0aWVzIGFuZCBIVE1MIGNoYXJhY3RlcnMuXG52YXIgcmVnZXhFc2NhcGVkSHRtbCA9IC8mKGFtcHxxdW90fGx0fGd0fCMzOSk7L2c7XG52YXIgcmVnZXhIYXNFc2NhcGVkSHRtbCA9IFJlZ0V4cChyZWdleEVzY2FwZWRIdG1sLnNvdXJjZSk7XG5cbi8qKlxuICogQ29udmVydHMgdGhlIEhUTUwgZW50aXRpZXMgXCImXCIsIFwiPFwiLCBcIj5cIiwgJ1wiJywgYW5kIFwiJ1wiIGluIGBzdHJpbmdgIHRvIHRoZWlyXG4gKiBjaGFyYWN0ZXJzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5lc2NhcGUodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICYmIHJlZ2V4SGFzRXNjYXBlZEh0bWwudGVzdCh2YWx1ZSkgPyB2YWx1ZS5yZXBsYWNlKHJlZ2V4RXNjYXBlZEh0bWwsIGZ1bmN0aW9uIChjaGFyYWN0ZXIpIHtcbiAgICByZXR1cm4gaHRtbENoYXJhY3RlcnNbY2hhcmFjdGVyXTtcbiAgfSkgOiB2YWx1ZTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/escape-html.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/find.js":
/*!************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/find.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   find: () => (/* binding */ find)\n/* harmony export */ });\n// We aren't using the native `Array.prototype.find` because the refactor away from Lodash is not\n// published as a major version.\n// Relying on the `find` polyfill on user-land, which before was only required for niche use-cases,\n// was decided as too risky.\n// @MAJOR Replace with the native `Array.prototype.find` method\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\nfunction find(items, predicate) {\n  var value;\n  for (var i = 0; i < items.length; i++) {\n    value = items[i];\n    // inlined for performance: if (Call(predicate, thisArg, [value, i, list])) {\n    if (predicate(value, i, items)) {\n      return value;\n    }\n  }\n  return undefined;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvZmluZC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLGtCQUFrQixrQkFBa0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3NwZWMtbG9naWMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvZmluZC5qcz8zMzAxIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFdlIGFyZW4ndCB1c2luZyB0aGUgbmF0aXZlIGBBcnJheS5wcm90b3R5cGUuZmluZGAgYmVjYXVzZSB0aGUgcmVmYWN0b3IgYXdheSBmcm9tIExvZGFzaCBpcyBub3Rcbi8vIHB1Ymxpc2hlZCBhcyBhIG1ham9yIHZlcnNpb24uXG4vLyBSZWx5aW5nIG9uIHRoZSBgZmluZGAgcG9seWZpbGwgb24gdXNlci1sYW5kLCB3aGljaCBiZWZvcmUgd2FzIG9ubHkgcmVxdWlyZWQgZm9yIG5pY2hlIHVzZS1jYXNlcyxcbi8vIHdhcyBkZWNpZGVkIGFzIHRvbyByaXNreS5cbi8vIEBNQUpPUiBSZXBsYWNlIHdpdGggdGhlIG5hdGl2ZSBgQXJyYXkucHJvdG90eXBlLmZpbmRgIG1ldGhvZFxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvQXJyYXkvZmluZFxuZXhwb3J0IGZ1bmN0aW9uIGZpbmQoaXRlbXMsIHByZWRpY2F0ZSkge1xuICB2YXIgdmFsdWU7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YWx1ZSA9IGl0ZW1zW2ldO1xuICAgIC8vIGlubGluZWQgZm9yIHBlcmZvcm1hbmNlOiBpZiAoQ2FsbChwcmVkaWNhdGUsIHRoaXNBcmcsIFt2YWx1ZSwgaSwgbGlzdF0pKSB7XG4gICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaSwgaXRlbXMpKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiB1bmRlZmluZWQ7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/find.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/findIndex.js":
/*!*****************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/findIndex.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findIndex: () => (/* binding */ findIndex)\n/* harmony export */ });\n// We aren't using the native `Array.prototype.findIndex` because the refactor away from Lodash is not\n// published as a major version.\n// Relying on the `findIndex` polyfill on user-land, which before was only required for niche use-cases,\n// was decided as too risky.\n// @MAJOR Replace with the native `Array.prototype.findIndex` method\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex\nfunction findIndex(array, comparator) {\n  if (!Array.isArray(array)) {\n    return -1;\n  }\n  for (var i = 0; i < array.length; i++) {\n    if (comparator(array[i])) {\n      return i;\n    }\n  }\n  return -1;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvZmluZEluZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixrQkFBa0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2xpYi91dGlscy9maW5kSW5kZXguanM/NzZiMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBXZSBhcmVuJ3QgdXNpbmcgdGhlIG5hdGl2ZSBgQXJyYXkucHJvdG90eXBlLmZpbmRJbmRleGAgYmVjYXVzZSB0aGUgcmVmYWN0b3IgYXdheSBmcm9tIExvZGFzaCBpcyBub3Rcbi8vIHB1Ymxpc2hlZCBhcyBhIG1ham9yIHZlcnNpb24uXG4vLyBSZWx5aW5nIG9uIHRoZSBgZmluZEluZGV4YCBwb2x5ZmlsbCBvbiB1c2VyLWxhbmQsIHdoaWNoIGJlZm9yZSB3YXMgb25seSByZXF1aXJlZCBmb3IgbmljaGUgdXNlLWNhc2VzLFxuLy8gd2FzIGRlY2lkZWQgYXMgdG9vIHJpc2t5LlxuLy8gQE1BSk9SIFJlcGxhY2Ugd2l0aCB0aGUgbmF0aXZlIGBBcnJheS5wcm90b3R5cGUuZmluZEluZGV4YCBtZXRob2Rcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0FycmF5L2ZpbmRJbmRleFxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRJbmRleChhcnJheSwgY29tcGFyYXRvcikge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgcmV0dXJuIC0xO1xuICB9XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoY29tcGFyYXRvcihhcnJheVtpXSkpIHtcbiAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/findIndex.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/getAlgoliaAgent.js":
/*!***********************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/getAlgoliaAgent.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAlgoliaAgent: () => (/* binding */ getAlgoliaAgent)\n/* harmony export */ });\nfunction getAlgoliaAgent(client) {\n  var clientTyped = client;\n  return clientTyped.transporter && clientTyped.transporter.userAgent ? clientTyped.transporter.userAgent.value : clientTyped._ua;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvZ2V0QWxnb2xpYUFnZW50LmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3NwZWMtbG9naWMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvZ2V0QWxnb2xpYUFnZW50LmpzPzVkYWYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGdldEFsZ29saWFBZ2VudChjbGllbnQpIHtcbiAgdmFyIGNsaWVudFR5cGVkID0gY2xpZW50O1xuICByZXR1cm4gY2xpZW50VHlwZWQudHJhbnNwb3J0ZXIgJiYgY2xpZW50VHlwZWQudHJhbnNwb3J0ZXIudXNlckFnZW50ID8gY2xpZW50VHlwZWQudHJhbnNwb3J0ZXIudXNlckFnZW50LnZhbHVlIDogY2xpZW50VHlwZWQuX3VhO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/getAlgoliaAgent.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/getAppIdAndApiKey.js":
/*!*************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/getAppIdAndApiKey.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAppIdAndApiKey: () => (/* binding */ getAppIdAndApiKey)\n/* harmony export */ });\n// typed as any, since it accepts the _real_ js clients, not the interface we otherwise expect\nfunction getAppIdAndApiKey(searchClient) {\n  if (searchClient.appId && searchClient.apiKey) {\n    // searchClient v5\n    return [searchClient.appId, searchClient.apiKey];\n  } else if (searchClient.transporter) {\n    // searchClient v4 or v5\n    var transporter = searchClient.transporter;\n    var headers = transporter.headers || transporter.baseHeaders;\n    var queryParameters = transporter.queryParameters || transporter.baseQueryParameters;\n    var APP_ID = 'x-algolia-application-id';\n    var API_KEY = 'x-algolia-api-key';\n    var appId = headers[APP_ID] || queryParameters[APP_ID];\n    var apiKey = headers[API_KEY] || queryParameters[API_KEY];\n    return [appId, apiKey];\n  } else {\n    // searchClient v3\n    return [searchClient.applicationID, searchClient.apiKey];\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvZ2V0QXBwSWRBbmRBcGlLZXkuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2xpYi91dGlscy9nZXRBcHBJZEFuZEFwaUtleS5qcz9lNTVkIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHR5cGVkIGFzIGFueSwgc2luY2UgaXQgYWNjZXB0cyB0aGUgX3JlYWxfIGpzIGNsaWVudHMsIG5vdCB0aGUgaW50ZXJmYWNlIHdlIG90aGVyd2lzZSBleHBlY3RcbmV4cG9ydCBmdW5jdGlvbiBnZXRBcHBJZEFuZEFwaUtleShzZWFyY2hDbGllbnQpIHtcbiAgaWYgKHNlYXJjaENsaWVudC5hcHBJZCAmJiBzZWFyY2hDbGllbnQuYXBpS2V5KSB7XG4gICAgLy8gc2VhcmNoQ2xpZW50IHY1XG4gICAgcmV0dXJuIFtzZWFyY2hDbGllbnQuYXBwSWQsIHNlYXJjaENsaWVudC5hcGlLZXldO1xuICB9IGVsc2UgaWYgKHNlYXJjaENsaWVudC50cmFuc3BvcnRlcikge1xuICAgIC8vIHNlYXJjaENsaWVudCB2NCBvciB2NVxuICAgIHZhciB0cmFuc3BvcnRlciA9IHNlYXJjaENsaWVudC50cmFuc3BvcnRlcjtcbiAgICB2YXIgaGVhZGVycyA9IHRyYW5zcG9ydGVyLmhlYWRlcnMgfHwgdHJhbnNwb3J0ZXIuYmFzZUhlYWRlcnM7XG4gICAgdmFyIHF1ZXJ5UGFyYW1ldGVycyA9IHRyYW5zcG9ydGVyLnF1ZXJ5UGFyYW1ldGVycyB8fCB0cmFuc3BvcnRlci5iYXNlUXVlcnlQYXJhbWV0ZXJzO1xuICAgIHZhciBBUFBfSUQgPSAneC1hbGdvbGlhLWFwcGxpY2F0aW9uLWlkJztcbiAgICB2YXIgQVBJX0tFWSA9ICd4LWFsZ29saWEtYXBpLWtleSc7XG4gICAgdmFyIGFwcElkID0gaGVhZGVyc1tBUFBfSURdIHx8IHF1ZXJ5UGFyYW1ldGVyc1tBUFBfSURdO1xuICAgIHZhciBhcGlLZXkgPSBoZWFkZXJzW0FQSV9LRVldIHx8IHF1ZXJ5UGFyYW1ldGVyc1tBUElfS0VZXTtcbiAgICByZXR1cm4gW2FwcElkLCBhcGlLZXldO1xuICB9IGVsc2Uge1xuICAgIC8vIHNlYXJjaENsaWVudCB2M1xuICAgIHJldHVybiBbc2VhcmNoQ2xpZW50LmFwcGxpY2F0aW9uSUQsIHNlYXJjaENsaWVudC5hcGlLZXldO1xuICB9XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/getAppIdAndApiKey.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/getHighlightFromSiblings.js":
/*!********************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/getHighlightFromSiblings.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getHighlightFromSiblings: () => (/* binding */ getHighlightFromSiblings)\n/* harmony export */ });\n/* harmony import */ var _escape_html_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./escape-html.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/escape-html.js\");\n\nvar hasAlphanumeric = new RegExp(/\\w/i);\nfunction getHighlightFromSiblings(parts, i) {\n  var _parts, _parts2;\n  var current = parts[i];\n  var isNextHighlighted = ((_parts = parts[i + 1]) === null || _parts === void 0 ? void 0 : _parts.isHighlighted) || true;\n  var isPreviousHighlighted = ((_parts2 = parts[i - 1]) === null || _parts2 === void 0 ? void 0 : _parts2.isHighlighted) || true;\n  if (!hasAlphanumeric.test((0,_escape_html_js__WEBPACK_IMPORTED_MODULE_0__.unescape)(current.value)) && isPreviousHighlighted === isNextHighlighted) {\n    return isPreviousHighlighted;\n  }\n  return current.isHighlighted;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvZ2V0SGlnaGxpZ2h0RnJvbVNpYmxpbmdzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTRDO0FBQzVDO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qix5REFBUTtBQUNwQztBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3NwZWMtbG9naWMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvZ2V0SGlnaGxpZ2h0RnJvbVNpYmxpbmdzLmpzP2ExMjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdW5lc2NhcGUgfSBmcm9tIFwiLi9lc2NhcGUtaHRtbC5qc1wiO1xudmFyIGhhc0FscGhhbnVtZXJpYyA9IG5ldyBSZWdFeHAoL1xcdy9pKTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRIaWdobGlnaHRGcm9tU2libGluZ3MocGFydHMsIGkpIHtcbiAgdmFyIF9wYXJ0cywgX3BhcnRzMjtcbiAgdmFyIGN1cnJlbnQgPSBwYXJ0c1tpXTtcbiAgdmFyIGlzTmV4dEhpZ2hsaWdodGVkID0gKChfcGFydHMgPSBwYXJ0c1tpICsgMV0pID09PSBudWxsIHx8IF9wYXJ0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3BhcnRzLmlzSGlnaGxpZ2h0ZWQpIHx8IHRydWU7XG4gIHZhciBpc1ByZXZpb3VzSGlnaGxpZ2h0ZWQgPSAoKF9wYXJ0czIgPSBwYXJ0c1tpIC0gMV0pID09PSBudWxsIHx8IF9wYXJ0czIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9wYXJ0czIuaXNIaWdobGlnaHRlZCkgfHwgdHJ1ZTtcbiAgaWYgKCFoYXNBbHBoYW51bWVyaWMudGVzdCh1bmVzY2FwZShjdXJyZW50LnZhbHVlKSkgJiYgaXNQcmV2aW91c0hpZ2hsaWdodGVkID09PSBpc05leHRIaWdobGlnaHRlZCkge1xuICAgIHJldHVybiBpc1ByZXZpb3VzSGlnaGxpZ2h0ZWQ7XG4gIH1cbiAgcmV0dXJuIGN1cnJlbnQuaXNIaWdobGlnaHRlZDtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/getHighlightFromSiblings.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/getHighlightedParts.js":
/*!***************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/getHighlightedParts.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getHighlightedParts: () => (/* binding */ getHighlightedParts)\n/* harmony export */ });\n/* harmony import */ var _escape_highlight_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./escape-highlight.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/escape-highlight.js\");\n\nfunction getHighlightedParts(highlightedValue) {\n  // @MAJOR: this should use TAG_PLACEHOLDER\n  var highlightPostTag = _escape_highlight_js__WEBPACK_IMPORTED_MODULE_0__.TAG_REPLACEMENT.highlightPostTag,\n    highlightPreTag = _escape_highlight_js__WEBPACK_IMPORTED_MODULE_0__.TAG_REPLACEMENT.highlightPreTag;\n  var splitByPreTag = highlightedValue.split(highlightPreTag);\n  var firstValue = splitByPreTag.shift();\n  var elements = !firstValue ? [] : [{\n    value: firstValue,\n    isHighlighted: false\n  }];\n  splitByPreTag.forEach(function (split) {\n    var splitByPostTag = split.split(highlightPostTag);\n    elements.push({\n      value: splitByPostTag[0],\n      isHighlighted: true\n    });\n    if (splitByPostTag[1] !== '') {\n      elements.push({\n        value: splitByPostTag[1],\n        isHighlighted: false\n      });\n    }\n  });\n  return elements;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvZ2V0SGlnaGxpZ2h0ZWRQYXJ0cy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3RDtBQUNqRDtBQUNQO0FBQ0EseUJBQXlCLGlFQUFlO0FBQ3hDLHNCQUFzQixpRUFBZTtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxHQUFHO0FBQ0g7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3NwZWMtbG9naWMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvZ2V0SGlnaGxpZ2h0ZWRQYXJ0cy5qcz9hYmE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRBR19SRVBMQUNFTUVOVCB9IGZyb20gXCIuL2VzY2FwZS1oaWdobGlnaHQuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBnZXRIaWdobGlnaHRlZFBhcnRzKGhpZ2hsaWdodGVkVmFsdWUpIHtcbiAgLy8gQE1BSk9SOiB0aGlzIHNob3VsZCB1c2UgVEFHX1BMQUNFSE9MREVSXG4gIHZhciBoaWdobGlnaHRQb3N0VGFnID0gVEFHX1JFUExBQ0VNRU5ULmhpZ2hsaWdodFBvc3RUYWcsXG4gICAgaGlnaGxpZ2h0UHJlVGFnID0gVEFHX1JFUExBQ0VNRU5ULmhpZ2hsaWdodFByZVRhZztcbiAgdmFyIHNwbGl0QnlQcmVUYWcgPSBoaWdobGlnaHRlZFZhbHVlLnNwbGl0KGhpZ2hsaWdodFByZVRhZyk7XG4gIHZhciBmaXJzdFZhbHVlID0gc3BsaXRCeVByZVRhZy5zaGlmdCgpO1xuICB2YXIgZWxlbWVudHMgPSAhZmlyc3RWYWx1ZSA/IFtdIDogW3tcbiAgICB2YWx1ZTogZmlyc3RWYWx1ZSxcbiAgICBpc0hpZ2hsaWdodGVkOiBmYWxzZVxuICB9XTtcbiAgc3BsaXRCeVByZVRhZy5mb3JFYWNoKGZ1bmN0aW9uIChzcGxpdCkge1xuICAgIHZhciBzcGxpdEJ5UG9zdFRhZyA9IHNwbGl0LnNwbGl0KGhpZ2hsaWdodFBvc3RUYWcpO1xuICAgIGVsZW1lbnRzLnB1c2goe1xuICAgICAgdmFsdWU6IHNwbGl0QnlQb3N0VGFnWzBdLFxuICAgICAgaXNIaWdobGlnaHRlZDogdHJ1ZVxuICAgIH0pO1xuICAgIGlmIChzcGxpdEJ5UG9zdFRhZ1sxXSAhPT0gJycpIHtcbiAgICAgIGVsZW1lbnRzLnB1c2goe1xuICAgICAgICB2YWx1ZTogc3BsaXRCeVBvc3RUYWdbMV0sXG4gICAgICAgIGlzSGlnaGxpZ2h0ZWQ6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gZWxlbWVudHM7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/getHighlightedParts.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/getObjectType.js":
/*!*********************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/getObjectType.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getObjectType: () => (/* binding */ getObjectType)\n/* harmony export */ });\nfunction getObjectType(object) {\n  return Object.prototype.toString.call(object).slice(8, -1);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvZ2V0T2JqZWN0VHlwZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2xpYi91dGlscy9nZXRPYmplY3RUeXBlLmpzPzkxZjgiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGdldE9iamVjdFR5cGUob2JqZWN0KSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqZWN0KS5zbGljZSg4LCAtMSk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/getObjectType.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/getPropertyByPath.js":
/*!*************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/getPropertyByPath.js ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getPropertyByPath: () => (/* binding */ getPropertyByPath)\n/* harmony export */ });\nfunction getPropertyByPath(object, path) {\n  var parts = Array.isArray(path) ? path : path.split('.');\n  return parts.reduce(function (current, key) {\n    return current && current[key];\n  }, object);\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvZ2V0UHJvcGVydHlCeVBhdGguanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2xpYi91dGlscy9nZXRQcm9wZXJ0eUJ5UGF0aC5qcz81OWJjIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBnZXRQcm9wZXJ0eUJ5UGF0aChvYmplY3QsIHBhdGgpIHtcbiAgdmFyIHBhcnRzID0gQXJyYXkuaXNBcnJheShwYXRoKSA/IHBhdGggOiBwYXRoLnNwbGl0KCcuJyk7XG4gIHJldHVybiBwYXJ0cy5yZWR1Y2UoZnVuY3Rpb24gKGN1cnJlbnQsIGtleSkge1xuICAgIHJldHVybiBjdXJyZW50ICYmIGN1cnJlbnRba2V5XTtcbiAgfSwgb2JqZWN0KTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/getPropertyByPath.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/hits-absolute-position.js":
/*!******************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/hits-absolute-position.js ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addAbsolutePosition: () => (/* binding */ addAbsolutePosition)\n/* harmony export */ });\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction addAbsolutePosition(hits, page, hitsPerPage) {\n  return hits.map(function (hit, idx) {\n    return _objectSpread(_objectSpread({}, hit), {}, {\n      __position: hitsPerPage * page + idx + 1\n    });\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvaGl0cy1hYnNvbHV0ZS1wb3NpdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MseUJBQXlCLHdCQUF3QixvQ0FBb0MseUNBQXlDLGtDQUFrQywwREFBMEQsMEJBQTBCO0FBQ3BQLDRCQUE0QixnQkFBZ0Isc0JBQXNCLE9BQU8sa0RBQWtELHNEQUFzRCw4QkFBOEIsbUpBQW1KLHFFQUFxRSxLQUFLO0FBQzVhLG9DQUFvQyxvRUFBb0UsMERBQTBEO0FBQ2xLLDZCQUE2QixtQ0FBbUM7QUFDaEUsOEJBQThCLDRDQUE0QywrQkFBK0Isb0JBQW9CLG1DQUFtQyxzQ0FBc0MsdUVBQXVFO0FBQ3RRO0FBQ1A7QUFDQSx5Q0FBeUMsVUFBVTtBQUNuRDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGVjLWxvZ2ljLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2luc3RhbnRzZWFyY2guanMvZXMvbGliL3V0aWxzL2hpdHMtYWJzb2x1dGUtcG9zaXRpb24uanM/YjFhZiJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5mdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0KSB7IHJldHVybiAociA9IF90b1Byb3BlcnR5S2V5KHIpKSBpbiBlID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIHsgdmFsdWU6IHQsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSkgOiBlW3JdID0gdCwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmV4cG9ydCBmdW5jdGlvbiBhZGRBYnNvbHV0ZVBvc2l0aW9uKGhpdHMsIHBhZ2UsIGhpdHNQZXJQYWdlKSB7XG4gIHJldHVybiBoaXRzLm1hcChmdW5jdGlvbiAoaGl0LCBpZHgpIHtcbiAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBoaXQpLCB7fSwge1xuICAgICAgX19wb3NpdGlvbjogaGl0c1BlclBhZ2UgKiBwYWdlICsgaWR4ICsgMVxuICAgIH0pO1xuICB9KTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/hits-absolute-position.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/hits-query-id.js":
/*!*********************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/hits-query-id.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addQueryID: () => (/* binding */ addQueryID)\n/* harmony export */ });\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction addQueryID(hits, queryID) {\n  if (!queryID) {\n    return hits;\n  }\n  return hits.map(function (hit) {\n    return _objectSpread(_objectSpread({}, hit), {}, {\n      __queryID: queryID\n    });\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvaGl0cy1xdWVyeS1pZC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MseUJBQXlCLHdCQUF3QixvQ0FBb0MseUNBQXlDLGtDQUFrQywwREFBMEQsMEJBQTBCO0FBQ3BQLDRCQUE0QixnQkFBZ0Isc0JBQXNCLE9BQU8sa0RBQWtELHNEQUFzRCw4QkFBOEIsbUpBQW1KLHFFQUFxRSxLQUFLO0FBQzVhLG9DQUFvQyxvRUFBb0UsMERBQTBEO0FBQ2xLLDZCQUE2QixtQ0FBbUM7QUFDaEUsOEJBQThCLDRDQUE0QywrQkFBK0Isb0JBQW9CLG1DQUFtQyxzQ0FBc0MsdUVBQXVFO0FBQ3RRO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsVUFBVTtBQUNuRDtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGVjLWxvZ2ljLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2luc3RhbnRzZWFyY2guanMvZXMvbGliL3V0aWxzL2hpdHMtcXVlcnktaWQuanM/NDg4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBfdHlwZW9mKG8pIHsgXCJAYmFiZWwvaGVscGVycyAtIHR5cGVvZlwiOyByZXR1cm4gX3R5cGVvZiA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIFwic3ltYm9sXCIgPT0gdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA/IGZ1bmN0aW9uIChvKSB7IHJldHVybiB0eXBlb2YgbzsgfSA6IGZ1bmN0aW9uIChvKSB7IHJldHVybiBvICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgU3ltYm9sICYmIG8uY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvOyB9LCBfdHlwZW9mKG8pOyB9XG5mdW5jdGlvbiBvd25LZXlzKGUsIHIpIHsgdmFyIHQgPSBPYmplY3Qua2V5cyhlKTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIG8gPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpOyByICYmIChvID0gby5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgcikuZW51bWVyYWJsZTsgfSkpLCB0LnB1c2guYXBwbHkodCwgbyk7IH0gcmV0dXJuIHQ7IH1cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQoZSkgeyBmb3IgKHZhciByID0gMTsgciA8IGFyZ3VtZW50cy5sZW5ndGg7IHIrKykgeyB2YXIgdCA9IG51bGwgIT0gYXJndW1lbnRzW3JdID8gYXJndW1lbnRzW3JdIDoge307IHIgJSAyID8gb3duS2V5cyhPYmplY3QodCksICEwKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0W3JdKTsgfSkgOiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHQpKSA6IG93bktleXMoT2JqZWN0KHQpKS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHQsIHIpKTsgfSk7IH0gcmV0dXJuIGU7IH1cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShlLCByLCB0KSB7IHJldHVybiAociA9IF90b1Byb3BlcnR5S2V5KHIpKSBpbiBlID8gT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIHsgdmFsdWU6IHQsIGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAgfSkgOiBlW3JdID0gdCwgZTsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkodCkgeyB2YXIgaSA9IF90b1ByaW1pdGl2ZSh0LCBcInN0cmluZ1wiKTsgcmV0dXJuIFwic3ltYm9sXCIgPT0gX3R5cGVvZihpKSA/IGkgOiBpICsgXCJcIjsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKHQsIHIpIHsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZih0KSB8fCAhdCkgcmV0dXJuIHQ7IHZhciBlID0gdFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAodm9pZCAwICE9PSBlKSB7IHZhciBpID0gZS5jYWxsKHQsIHIgfHwgXCJkZWZhdWx0XCIpOyBpZiAoXCJvYmplY3RcIiAhPSBfdHlwZW9mKGkpKSByZXR1cm4gaTsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoXCJzdHJpbmdcIiA9PT0gciA/IFN0cmluZyA6IE51bWJlcikodCk7IH1cbmV4cG9ydCBmdW5jdGlvbiBhZGRRdWVyeUlEKGhpdHMsIHF1ZXJ5SUQpIHtcbiAgaWYgKCFxdWVyeUlEKSB7XG4gICAgcmV0dXJuIGhpdHM7XG4gIH1cbiAgcmV0dXJuIGhpdHMubWFwKGZ1bmN0aW9uIChoaXQpIHtcbiAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBoaXQpLCB7fSwge1xuICAgICAgX19xdWVyeUlEOiBxdWVyeUlEXG4gICAgfSk7XG4gIH0pO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/hits-query-id.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/hydrateRecommendCache.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/hydrateRecommendCache.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hydrateRecommendCache: () => (/* binding */ hydrateRecommendCache)\n/* harmony export */ });\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction hydrateRecommendCache(helper, initialResults) {\n  var recommendCache = Object.keys(initialResults).reduce(function (acc, indexName) {\n    var initialResult = initialResults[indexName];\n    if (initialResult.recommendResults) {\n      // @MAJOR: Use `Object.assign` instead of spread operator\n      return _objectSpread(_objectSpread({}, acc), initialResult.recommendResults.results);\n    }\n    return acc;\n  }, {});\n  helper._recommendCache = recommendCache;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvaHlkcmF0ZVJlY29tbWVuZENhY2hlLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUMvUyx5QkFBeUIsd0JBQXdCLG9DQUFvQyx5Q0FBeUMsa0NBQWtDLDBEQUEwRCwwQkFBMEI7QUFDcFAsNEJBQTRCLGdCQUFnQixzQkFBc0IsT0FBTyxrREFBa0Qsc0RBQXNELDhCQUE4QixtSkFBbUoscUVBQXFFLEtBQUs7QUFDNWEsb0NBQW9DLG9FQUFvRSwwREFBMEQ7QUFDbEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDdFE7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0EsR0FBRyxJQUFJO0FBQ1A7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3NwZWMtbG9naWMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvaHlkcmF0ZVJlY29tbWVuZENhY2hlLmpzPzQyNTIiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZVJlY29tbWVuZENhY2hlKGhlbHBlciwgaW5pdGlhbFJlc3VsdHMpIHtcbiAgdmFyIHJlY29tbWVuZENhY2hlID0gT2JqZWN0LmtleXMoaW5pdGlhbFJlc3VsdHMpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBpbmRleE5hbWUpIHtcbiAgICB2YXIgaW5pdGlhbFJlc3VsdCA9IGluaXRpYWxSZXN1bHRzW2luZGV4TmFtZV07XG4gICAgaWYgKGluaXRpYWxSZXN1bHQucmVjb21tZW5kUmVzdWx0cykge1xuICAgICAgLy8gQE1BSk9SOiBVc2UgYE9iamVjdC5hc3NpZ25gIGluc3RlYWQgb2Ygc3ByZWFkIG9wZXJhdG9yXG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBhY2MpLCBpbml0aWFsUmVzdWx0LnJlY29tbWVuZFJlc3VsdHMucmVzdWx0cyk7XG4gICAgfVxuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcbiAgaGVscGVyLl9yZWNvbW1lbmRDYWNoZSA9IHJlY29tbWVuZENhY2hlO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/hydrateRecommendCache.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/hydrateSearchClient.js":
/*!***************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/hydrateSearchClient.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hydrateSearchClient: () => (/* binding */ hydrateSearchClient)\n/* harmony export */ });\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction hydrateSearchClient(client, results) {\n  if (!results) {\n    return;\n  }\n\n  // Disable cache hydration on:\n  // - Algoliasearch API Client < v4 with cache disabled\n  // - Third party clients (detected by the `addAlgoliaAgent` function missing)\n\n  if ((!('transporter' in client) || client._cacheHydrated) && (!client._useCache || typeof client.addAlgoliaAgent !== 'function')) {\n    return;\n  }\n  var cachedRequest = [Object.keys(results).reduce(function (acc, key) {\n    var _results$key = results[key],\n      state = _results$key.state,\n      requestParams = _results$key.requestParams,\n      serverResults = _results$key.results;\n    var mappedResults = serverResults && state ? serverResults.map(function (result, idx) {\n      return _objectSpread({\n        indexName: state.index || result.index\n      }, requestParams !== null && requestParams !== void 0 && requestParams[idx] || result.params ? {\n        params: serializeQueryParameters((requestParams === null || requestParams === void 0 ? void 0 : requestParams[idx]) || deserializeQueryParameters(result.params))\n      } : {});\n    }) : [];\n    return acc.concat(mappedResults);\n  }, [])];\n  var cachedResults = Object.keys(results).reduce(function (acc, key) {\n    var res = results[key].results;\n    if (!res) {\n      return acc;\n    }\n    return acc.concat(res);\n  }, []);\n\n  // Algoliasearch API Client >= v4\n  // To hydrate the client we need to populate the cache with the data from\n  // the server (done in `hydrateSearchClientWithMultiIndexRequest` or\n  // `hydrateSearchClientWithSingleIndexRequest`). But since there is no way\n  // for us to compute the key the same way as `algoliasearch-client` we need\n  // to populate it on a custom key and override the `search` method to\n  // search on it first.\n  if ('transporter' in client && !client._cacheHydrated) {\n    client._cacheHydrated = true;\n    var baseMethod = client.search.bind(client);\n    client.search = function (requests) {\n      for (var _len = arguments.length, methodArgs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        methodArgs[_key - 1] = arguments[_key];\n      }\n      var requestsWithSerializedParams = Array.isArray(requests) ?\n      // search client\n      requests.map(function (request) {\n        return _objectSpread(_objectSpread({}, request), {}, {\n          params: serializeQueryParameters(request.params)\n        });\n      }) :\n      // composition client\n      serializeQueryParameters(requests.requestBody.params);\n      return client.transporter.responsesCache.get({\n        method: 'search',\n        args: [requestsWithSerializedParams].concat(methodArgs)\n      }, function () {\n        return baseMethod.apply(void 0, [requests].concat(methodArgs));\n      });\n    };\n    client.transporter.responsesCache.set({\n      method: 'search',\n      args: cachedRequest\n    }, {\n      results: cachedResults\n    });\n  }\n\n  // Algoliasearch API Client < v4\n  // Prior to client v4 we didn't have a proper API to hydrate the client\n  // cache from the outside. The following code populates the cache with\n  // a single-index result. You can find more information about the\n  // computation of the key inside the client (see link below).\n  // https://github.com/algolia/algoliasearch-client-javascript/blob/c27e89ff92b2a854ae6f40dc524bffe0f0cbc169/src/AlgoliaSearchCore.js#L232-L240\n  if (!('transporter' in client)) {\n    var cacheKey = \"/1/indexes/*/queries_body_\".concat(JSON.stringify({\n      requests: cachedRequest\n    }));\n    client.cache = _objectSpread(_objectSpread({}, client.cache), {}, _defineProperty({}, cacheKey, JSON.stringify({\n      results: Object.keys(results).map(function (key) {\n        return results[key].results;\n      })\n    })));\n  }\n}\nfunction deserializeQueryParameters(parameters) {\n  return parameters.split('&').reduce(function (acc, parameter) {\n    var _parameter$split = parameter.split('='),\n      _parameter$split2 = _slicedToArray(_parameter$split, 2),\n      key = _parameter$split2[0],\n      value = _parameter$split2[1];\n    acc[key] = value ? decodeURIComponent(value) : '';\n    return acc;\n  }, {});\n}\n\n// This function is copied from the algoliasearch v4 API Client. If modified,\n// consider updating it also in `serializeQueryParameters` from `@algolia/transporter`.\nfunction serializeQueryParameters(parameters) {\n  var isObjectOrArray = function isObjectOrArray(value) {\n    return Object.prototype.toString.call(value) === '[object Object]' || Object.prototype.toString.call(value) === '[object Array]';\n  };\n  var encode = function encode(format) {\n    for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n      args[_key2 - 1] = arguments[_key2];\n    }\n    var i = 0;\n    return format.replace(/%s/g, function () {\n      return encodeURIComponent(args[i++]);\n    });\n  };\n  return Object.keys(parameters).map(function (key) {\n    return encode('%s=%s', key, isObjectOrArray(parameters[key]) ? JSON.stringify(parameters[key]) : parameters[key]);\n  }).join('&');\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvaHlkcmF0ZVNlYXJjaENsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MsZ0NBQWdDO0FBQ2hDLDhCQUE4QjtBQUM5Qiw2Q0FBNkMsU0FBUywwREFBMEQsVUFBVSxnQ0FBZ0M7QUFDMUosbUNBQW1DLCtDQUErQyw4QkFBOEIsT0FBTyxrQkFBa0I7QUFDekksdUNBQXVDLGtHQUFrRyxpQkFBaUIsd0NBQXdDLE1BQU0seUNBQXlDLDZCQUE2QixVQUFVLFlBQVksa0VBQWtFLFdBQVcsWUFBWSxpQkFBaUIsVUFBVSxNQUFNLDJFQUEyRSxVQUFVLG9CQUFvQjtBQUN2Z0IsOEJBQThCO0FBQzlCLHlCQUF5Qix3QkFBd0Isb0NBQW9DLHlDQUF5QyxrQ0FBa0MsMERBQTBELDBCQUEwQjtBQUNwUCw0QkFBNEIsZ0JBQWdCLHNCQUFzQixPQUFPLGtEQUFrRCxzREFBc0QsOEJBQThCLG1KQUFtSixxRUFBcUUsS0FBSztBQUM1YSxvQ0FBb0Msb0VBQW9FLDBEQUEwRDtBQUNsSyw2QkFBNkIsbUNBQW1DO0FBQ2hFLDhCQUE4Qiw0Q0FBNEMsK0JBQStCLG9CQUFvQixtQ0FBbUMsc0NBQXNDLHVFQUF1RTtBQUN0UTtBQUNQO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLFFBQVEsSUFBSTtBQUNaLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtR0FBbUcsYUFBYTtBQUNoSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGNBQWM7QUFDM0Q7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGlEQUFpRCxtQkFBbUIsb0JBQW9CO0FBQ3hGO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxJQUFJO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRkFBK0YsZUFBZTtBQUM5RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL3NwZWMtbG9naWMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvaHlkcmF0ZVNlYXJjaENsaWVudC5qcz9hYTYwIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbmZ1bmN0aW9uIF9zbGljZWRUb0FycmF5KHIsIGUpIHsgcmV0dXJuIF9hcnJheVdpdGhIb2xlcyhyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQociwgZSkgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGUpIHx8IF9ub25JdGVyYWJsZVJlc3QoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGEpIHsgaWYgKHIpIHsgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuIFwiT2JqZWN0XCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksIFwiTWFwXCIgPT09IHQgfHwgXCJTZXRcIiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiBcIkFyZ3VtZW50c1wiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGwpIHsgdmFyIHQgPSBudWxsID09IHIgPyBudWxsIDogXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIHJbU3ltYm9sLml0ZXJhdG9yXSB8fCByW1wiQEBpdGVyYXRvclwiXTsgaWYgKG51bGwgIT0gdCkgeyB2YXIgZSwgbiwgaSwgdSwgYSA9IFtdLCBmID0gITAsIG8gPSAhMTsgdHJ5IHsgaWYgKGkgPSAodCA9IHQuY2FsbChyKSkubmV4dCwgMCA9PT0gbCkgeyBpZiAoT2JqZWN0KHQpICE9PSB0KSByZXR1cm47IGYgPSAhMTsgfSBlbHNlIGZvciAoOyAhKGYgPSAoZSA9IGkuY2FsbCh0KSkuZG9uZSkgJiYgKGEucHVzaChlLnZhbHVlKSwgYS5sZW5ndGggIT09IGwpOyBmID0gITApOyB9IGNhdGNoIChyKSB7IG8gPSAhMCwgbiA9IHI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghZiAmJiBudWxsICE9IHQucmV0dXJuICYmICh1ID0gdC5yZXR1cm4oKSwgT2JqZWN0KHUpICE9PSB1KSkgcmV0dXJuOyB9IGZpbmFsbHkgeyBpZiAobykgdGhyb3cgbjsgfSB9IHJldHVybiBhOyB9IH1cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhyKSB7IGlmIChBcnJheS5pc0FycmF5KHIpKSByZXR1cm4gcjsgfVxuZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5leHBvcnQgZnVuY3Rpb24gaHlkcmF0ZVNlYXJjaENsaWVudChjbGllbnQsIHJlc3VsdHMpIHtcbiAgaWYgKCFyZXN1bHRzKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRGlzYWJsZSBjYWNoZSBoeWRyYXRpb24gb246XG4gIC8vIC0gQWxnb2xpYXNlYXJjaCBBUEkgQ2xpZW50IDwgdjQgd2l0aCBjYWNoZSBkaXNhYmxlZFxuICAvLyAtIFRoaXJkIHBhcnR5IGNsaWVudHMgKGRldGVjdGVkIGJ5IHRoZSBgYWRkQWxnb2xpYUFnZW50YCBmdW5jdGlvbiBtaXNzaW5nKVxuXG4gIGlmICgoISgndHJhbnNwb3J0ZXInIGluIGNsaWVudCkgfHwgY2xpZW50Ll9jYWNoZUh5ZHJhdGVkKSAmJiAoIWNsaWVudC5fdXNlQ2FjaGUgfHwgdHlwZW9mIGNsaWVudC5hZGRBbGdvbGlhQWdlbnQgIT09ICdmdW5jdGlvbicpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBjYWNoZWRSZXF1ZXN0ID0gW09iamVjdC5rZXlzKHJlc3VsdHMpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICB2YXIgX3Jlc3VsdHMka2V5ID0gcmVzdWx0c1trZXldLFxuICAgICAgc3RhdGUgPSBfcmVzdWx0cyRrZXkuc3RhdGUsXG4gICAgICByZXF1ZXN0UGFyYW1zID0gX3Jlc3VsdHMka2V5LnJlcXVlc3RQYXJhbXMsXG4gICAgICBzZXJ2ZXJSZXN1bHRzID0gX3Jlc3VsdHMka2V5LnJlc3VsdHM7XG4gICAgdmFyIG1hcHBlZFJlc3VsdHMgPSBzZXJ2ZXJSZXN1bHRzICYmIHN0YXRlID8gc2VydmVyUmVzdWx0cy5tYXAoZnVuY3Rpb24gKHJlc3VsdCwgaWR4KSB7XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZCh7XG4gICAgICAgIGluZGV4TmFtZTogc3RhdGUuaW5kZXggfHwgcmVzdWx0LmluZGV4XG4gICAgICB9LCByZXF1ZXN0UGFyYW1zICE9PSBudWxsICYmIHJlcXVlc3RQYXJhbXMgIT09IHZvaWQgMCAmJiByZXF1ZXN0UGFyYW1zW2lkeF0gfHwgcmVzdWx0LnBhcmFtcyA/IHtcbiAgICAgICAgcGFyYW1zOiBzZXJpYWxpemVRdWVyeVBhcmFtZXRlcnMoKHJlcXVlc3RQYXJhbXMgPT09IG51bGwgfHwgcmVxdWVzdFBhcmFtcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdFBhcmFtc1tpZHhdKSB8fCBkZXNlcmlhbGl6ZVF1ZXJ5UGFyYW1ldGVycyhyZXN1bHQucGFyYW1zKSlcbiAgICAgIH0gOiB7fSk7XG4gICAgfSkgOiBbXTtcbiAgICByZXR1cm4gYWNjLmNvbmNhdChtYXBwZWRSZXN1bHRzKTtcbiAgfSwgW10pXTtcbiAgdmFyIGNhY2hlZFJlc3VsdHMgPSBPYmplY3Qua2V5cyhyZXN1bHRzKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgdmFyIHJlcyA9IHJlc3VsdHNba2V5XS5yZXN1bHRzO1xuICAgIGlmICghcmVzKSB7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH1cbiAgICByZXR1cm4gYWNjLmNvbmNhdChyZXMpO1xuICB9LCBbXSk7XG5cbiAgLy8gQWxnb2xpYXNlYXJjaCBBUEkgQ2xpZW50ID49IHY0XG4gIC8vIFRvIGh5ZHJhdGUgdGhlIGNsaWVudCB3ZSBuZWVkIHRvIHBvcHVsYXRlIHRoZSBjYWNoZSB3aXRoIHRoZSBkYXRhIGZyb21cbiAgLy8gdGhlIHNlcnZlciAoZG9uZSBpbiBgaHlkcmF0ZVNlYXJjaENsaWVudFdpdGhNdWx0aUluZGV4UmVxdWVzdGAgb3JcbiAgLy8gYGh5ZHJhdGVTZWFyY2hDbGllbnRXaXRoU2luZ2xlSW5kZXhSZXF1ZXN0YCkuIEJ1dCBzaW5jZSB0aGVyZSBpcyBubyB3YXlcbiAgLy8gZm9yIHVzIHRvIGNvbXB1dGUgdGhlIGtleSB0aGUgc2FtZSB3YXkgYXMgYGFsZ29saWFzZWFyY2gtY2xpZW50YCB3ZSBuZWVkXG4gIC8vIHRvIHBvcHVsYXRlIGl0IG9uIGEgY3VzdG9tIGtleSBhbmQgb3ZlcnJpZGUgdGhlIGBzZWFyY2hgIG1ldGhvZCB0b1xuICAvLyBzZWFyY2ggb24gaXQgZmlyc3QuXG4gIGlmICgndHJhbnNwb3J0ZXInIGluIGNsaWVudCAmJiAhY2xpZW50Ll9jYWNoZUh5ZHJhdGVkKSB7XG4gICAgY2xpZW50Ll9jYWNoZUh5ZHJhdGVkID0gdHJ1ZTtcbiAgICB2YXIgYmFzZU1ldGhvZCA9IGNsaWVudC5zZWFyY2guYmluZChjbGllbnQpO1xuICAgIGNsaWVudC5zZWFyY2ggPSBmdW5jdGlvbiAocmVxdWVzdHMpIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBtZXRob2RBcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgbWV0aG9kQXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG4gICAgICB2YXIgcmVxdWVzdHNXaXRoU2VyaWFsaXplZFBhcmFtcyA9IEFycmF5LmlzQXJyYXkocmVxdWVzdHMpID9cbiAgICAgIC8vIHNlYXJjaCBjbGllbnRcbiAgICAgIHJlcXVlc3RzLm1hcChmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCByZXF1ZXN0KSwge30sIHtcbiAgICAgICAgICBwYXJhbXM6IHNlcmlhbGl6ZVF1ZXJ5UGFyYW1ldGVycyhyZXF1ZXN0LnBhcmFtcylcbiAgICAgICAgfSk7XG4gICAgICB9KSA6XG4gICAgICAvLyBjb21wb3NpdGlvbiBjbGllbnRcbiAgICAgIHNlcmlhbGl6ZVF1ZXJ5UGFyYW1ldGVycyhyZXF1ZXN0cy5yZXF1ZXN0Qm9keS5wYXJhbXMpO1xuICAgICAgcmV0dXJuIGNsaWVudC50cmFuc3BvcnRlci5yZXNwb25zZXNDYWNoZS5nZXQoe1xuICAgICAgICBtZXRob2Q6ICdzZWFyY2gnLFxuICAgICAgICBhcmdzOiBbcmVxdWVzdHNXaXRoU2VyaWFsaXplZFBhcmFtc10uY29uY2F0KG1ldGhvZEFyZ3MpXG4gICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBiYXNlTWV0aG9kLmFwcGx5KHZvaWQgMCwgW3JlcXVlc3RzXS5jb25jYXQobWV0aG9kQXJncykpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjbGllbnQudHJhbnNwb3J0ZXIucmVzcG9uc2VzQ2FjaGUuc2V0KHtcbiAgICAgIG1ldGhvZDogJ3NlYXJjaCcsXG4gICAgICBhcmdzOiBjYWNoZWRSZXF1ZXN0XG4gICAgfSwge1xuICAgICAgcmVzdWx0czogY2FjaGVkUmVzdWx0c1xuICAgIH0pO1xuICB9XG5cbiAgLy8gQWxnb2xpYXNlYXJjaCBBUEkgQ2xpZW50IDwgdjRcbiAgLy8gUHJpb3IgdG8gY2xpZW50IHY0IHdlIGRpZG4ndCBoYXZlIGEgcHJvcGVyIEFQSSB0byBoeWRyYXRlIHRoZSBjbGllbnRcbiAgLy8gY2FjaGUgZnJvbSB0aGUgb3V0c2lkZS4gVGhlIGZvbGxvd2luZyBjb2RlIHBvcHVsYXRlcyB0aGUgY2FjaGUgd2l0aFxuICAvLyBhIHNpbmdsZS1pbmRleCByZXN1bHQuIFlvdSBjYW4gZmluZCBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZVxuICAvLyBjb21wdXRhdGlvbiBvZiB0aGUga2V5IGluc2lkZSB0aGUgY2xpZW50IChzZWUgbGluayBiZWxvdykuXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbGdvbGlhL2FsZ29saWFzZWFyY2gtY2xpZW50LWphdmFzY3JpcHQvYmxvYi9jMjdlODlmZjkyYjJhODU0YWU2ZjQwZGM1MjRiZmZlMGYwY2JjMTY5L3NyYy9BbGdvbGlhU2VhcmNoQ29yZS5qcyNMMjMyLUwyNDBcbiAgaWYgKCEoJ3RyYW5zcG9ydGVyJyBpbiBjbGllbnQpKSB7XG4gICAgdmFyIGNhY2hlS2V5ID0gXCIvMS9pbmRleGVzLyovcXVlcmllc19ib2R5X1wiLmNvbmNhdChKU09OLnN0cmluZ2lmeSh7XG4gICAgICByZXF1ZXN0czogY2FjaGVkUmVxdWVzdFxuICAgIH0pKTtcbiAgICBjbGllbnQuY2FjaGUgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNsaWVudC5jYWNoZSksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIGNhY2hlS2V5LCBKU09OLnN0cmluZ2lmeSh7XG4gICAgICByZXN1bHRzOiBPYmplY3Qua2V5cyhyZXN1bHRzKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0c1trZXldLnJlc3VsdHM7XG4gICAgICB9KVxuICAgIH0pKSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGRlc2VyaWFsaXplUXVlcnlQYXJhbWV0ZXJzKHBhcmFtZXRlcnMpIHtcbiAgcmV0dXJuIHBhcmFtZXRlcnMuc3BsaXQoJyYnKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgcGFyYW1ldGVyKSB7XG4gICAgdmFyIF9wYXJhbWV0ZXIkc3BsaXQgPSBwYXJhbWV0ZXIuc3BsaXQoJz0nKSxcbiAgICAgIF9wYXJhbWV0ZXIkc3BsaXQyID0gX3NsaWNlZFRvQXJyYXkoX3BhcmFtZXRlciRzcGxpdCwgMiksXG4gICAgICBrZXkgPSBfcGFyYW1ldGVyJHNwbGl0MlswXSxcbiAgICAgIHZhbHVlID0gX3BhcmFtZXRlciRzcGxpdDJbMV07XG4gICAgYWNjW2tleV0gPSB2YWx1ZSA/IGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkgOiAnJztcbiAgICByZXR1cm4gYWNjO1xuICB9LCB7fSk7XG59XG5cbi8vIFRoaXMgZnVuY3Rpb24gaXMgY29waWVkIGZyb20gdGhlIGFsZ29saWFzZWFyY2ggdjQgQVBJIENsaWVudC4gSWYgbW9kaWZpZWQsXG4vLyBjb25zaWRlciB1cGRhdGluZyBpdCBhbHNvIGluIGBzZXJpYWxpemVRdWVyeVBhcmFtZXRlcnNgIGZyb20gYEBhbGdvbGlhL3RyYW5zcG9ydGVyYC5cbmZ1bmN0aW9uIHNlcmlhbGl6ZVF1ZXJ5UGFyYW1ldGVycyhwYXJhbWV0ZXJzKSB7XG4gIHZhciBpc09iamVjdE9yQXJyYXkgPSBmdW5jdGlvbiBpc09iamVjdE9yQXJyYXkodmFsdWUpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgT2JqZWN0XScgfHwgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgQXJyYXldJztcbiAgfTtcbiAgdmFyIGVuY29kZSA9IGZ1bmN0aW9uIGVuY29kZShmb3JtYXQpIHtcbiAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgYXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICB9XG4gICAgdmFyIGkgPSAwO1xuICAgIHJldHVybiBmb3JtYXQucmVwbGFjZSgvJXMvZywgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChhcmdzW2krK10pO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gT2JqZWN0LmtleXMocGFyYW1ldGVycykubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gZW5jb2RlKCclcz0lcycsIGtleSwgaXNPYmplY3RPckFycmF5KHBhcmFtZXRlcnNba2V5XSkgPyBKU09OLnN0cmluZ2lmeShwYXJhbWV0ZXJzW2tleV0pIDogcGFyYW1ldGVyc1trZXldKTtcbiAgfSkuam9pbignJicpO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/hydrateSearchClient.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/isEqual.js":
/*!***************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/isEqual.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isEqual: () => (/* binding */ isEqual)\n/* harmony export */ });\nfunction isPrimitive(obj) {\n  return obj !== Object(obj);\n}\nfunction isEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n  if (isPrimitive(first) || isPrimitive(second) || typeof first === 'function' || typeof second === 'function') {\n    return first === second;\n  }\n  if (Object.keys(first).length !== Object.keys(second).length) {\n    return false;\n  }\n\n  // @TODO avoid for..of because of the large polyfill\n  // eslint-disable-next-line no-restricted-syntax\n  for (var _i = 0, _Object$keys = Object.keys(first); _i < _Object$keys.length; _i++) {\n    var key = _Object$keys[_i];\n    if (!(key in second)) {\n      return false;\n    }\n    if (!isEqual(first[key], second[key])) {\n      return false;\n    }\n  }\n  return true;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvaXNFcXVhbC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHNEQUFzRCwwQkFBMEI7QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGVjLWxvZ2ljLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2luc3RhbnRzZWFyY2guanMvZXMvbGliL3V0aWxzL2lzRXF1YWwuanM/MjExMSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBpc1ByaW1pdGl2ZShvYmopIHtcbiAgcmV0dXJuIG9iaiAhPT0gT2JqZWN0KG9iaik7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNFcXVhbChmaXJzdCwgc2Vjb25kKSB7XG4gIGlmIChmaXJzdCA9PT0gc2Vjb25kKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKGlzUHJpbWl0aXZlKGZpcnN0KSB8fCBpc1ByaW1pdGl2ZShzZWNvbmQpIHx8IHR5cGVvZiBmaXJzdCA9PT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2Ygc2Vjb25kID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGZpcnN0ID09PSBzZWNvbmQ7XG4gIH1cbiAgaWYgKE9iamVjdC5rZXlzKGZpcnN0KS5sZW5ndGggIT09IE9iamVjdC5rZXlzKHNlY29uZCkubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gQFRPRE8gYXZvaWQgZm9yLi5vZiBiZWNhdXNlIG9mIHRoZSBsYXJnZSBwb2x5ZmlsbFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgZm9yICh2YXIgX2kgPSAwLCBfT2JqZWN0JGtleXMgPSBPYmplY3Qua2V5cyhmaXJzdCk7IF9pIDwgX09iamVjdCRrZXlzLmxlbmd0aDsgX2krKykge1xuICAgIHZhciBrZXkgPSBfT2JqZWN0JGtleXNbX2ldO1xuICAgIGlmICghKGtleSBpbiBzZWNvbmQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICghaXNFcXVhbChmaXJzdFtrZXldLCBzZWNvbmRba2V5XSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/isEqual.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/isFacetRefined.js":
/*!**********************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/isFacetRefined.js ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isFacetRefined: () => (/* binding */ isFacetRefined)\n/* harmony export */ });\nfunction isFacetRefined(helper, facet, value) {\n  if (helper.state.isHierarchicalFacet(facet)) {\n    return helper.state.isHierarchicalFacetRefined(facet, value);\n  } else if (helper.state.isConjunctiveFacet(facet)) {\n    return helper.state.isFacetRefined(facet, value);\n  } else {\n    return helper.state.isDisjunctiveFacetRefined(facet, value);\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvaXNGYWNldFJlZmluZWQuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGVjLWxvZ2ljLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2luc3RhbnRzZWFyY2guanMvZXMvbGliL3V0aWxzL2lzRmFjZXRSZWZpbmVkLmpzPzJkMDAiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGlzRmFjZXRSZWZpbmVkKGhlbHBlciwgZmFjZXQsIHZhbHVlKSB7XG4gIGlmIChoZWxwZXIuc3RhdGUuaXNIaWVyYXJjaGljYWxGYWNldChmYWNldCkpIHtcbiAgICByZXR1cm4gaGVscGVyLnN0YXRlLmlzSGllcmFyY2hpY2FsRmFjZXRSZWZpbmVkKGZhY2V0LCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoaGVscGVyLnN0YXRlLmlzQ29uanVuY3RpdmVGYWNldChmYWNldCkpIHtcbiAgICByZXR1cm4gaGVscGVyLnN0YXRlLmlzRmFjZXRSZWZpbmVkKGZhY2V0LCB2YWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGhlbHBlci5zdGF0ZS5pc0Rpc2p1bmN0aXZlRmFjZXRSZWZpbmVkKGZhY2V0LCB2YWx1ZSk7XG4gIH1cbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/isFacetRefined.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/isIndexWidget.js":
/*!*********************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/isIndexWidget.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isIndexWidget: () => (/* binding */ isIndexWidget)\n/* harmony export */ });\nfunction isIndexWidget(widget) {\n  return widget.$$type === 'ais.index';\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvaXNJbmRleFdpZGdldC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2xpYi91dGlscy9pc0luZGV4V2lkZ2V0LmpzP2VhYzYiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGlzSW5kZXhXaWRnZXQod2lkZ2V0KSB7XG4gIHJldHVybiB3aWRnZXQuJCR0eXBlID09PSAnYWlzLmluZGV4Jztcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/isIndexWidget.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/isPlainObject.js":
/*!*********************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/isPlainObject.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isPlainObject: () => (/* binding */ isPlainObject)\n/* harmony export */ });\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\n/**\n * This implementation is taken from Lodash implementation.\n * See: https://github.com/lodash/lodash/blob/master/isPlainObject.js\n */\n\nfunction getTag(value) {\n  if (value === null) {\n    return value === undefined ? '[object Undefined]' : '[object Null]';\n  }\n  return Object.prototype.toString.call(value);\n}\nfunction isObjectLike(value) {\n  return _typeof(value) === 'object' && value !== null;\n}\n\n/**\n * Checks if `value` is a plain object.\n *\n * A plain object is an object created by the `Object`\n * constructor or with a `[[Prototype]]` of `null`.\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || getTag(value) !== '[object Object]') {\n    return false;\n  }\n  if (Object.getPrototypeOf(value) === null) {\n    return true;\n  }\n  var proto = value;\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n  return Object.getPrototypeOf(value) === proto;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvaXNQbGFpbk9iamVjdC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1M7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2xpYi91dGlscy9pc1BsYWluT2JqZWN0LmpzP2UxODQiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuLyoqXG4gKiBUaGlzIGltcGxlbWVudGF0aW9uIGlzIHRha2VuIGZyb20gTG9kYXNoIGltcGxlbWVudGF0aW9uLlxuICogU2VlOiBodHRwczovL2dpdGh1Yi5jb20vbG9kYXNoL2xvZGFzaC9ibG9iL21hc3Rlci9pc1BsYWluT2JqZWN0LmpzXG4gKi9cblxuZnVuY3Rpb24gZ2V0VGFnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gJ1tvYmplY3QgVW5kZWZpbmVkXScgOiAnW29iamVjdCBOdWxsXSc7XG4gIH1cbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5mdW5jdGlvbiBpc09iamVjdExpa2UodmFsdWUpIHtcbiAgcmV0dXJuIF90eXBlb2YodmFsdWUpID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAhPT0gbnVsbDtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHBsYWluIG9iamVjdC5cbiAqXG4gKiBBIHBsYWluIG9iamVjdCBpcyBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGUgYE9iamVjdGBcbiAqIGNvbnN0cnVjdG9yIG9yIHdpdGggYSBgW1tQcm90b3R5cGVdXWAgb2YgYG51bGxgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgZ2V0VGFnKHZhbHVlKSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSkgPT09IG51bGwpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgcHJvdG8gPSB2YWx1ZTtcbiAgd2hpbGUgKE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90bykgIT09IG51bGwpIHtcbiAgICBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90byk7XG4gIH1cbiAgcmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSkgPT09IHByb3RvO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/isPlainObject.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/logger.js":
/*!**************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/logger.js ***!
  \**************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deprecate: () => (/* binding */ deprecate),\n/* harmony export */   warn: () => (/* binding */ warn),\n/* harmony export */   warning: () => (/* binding */ _warning)\n/* harmony export */ });\n/* harmony import */ var _noop_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./noop.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/noop.js\");\n\n/**\n * Logs a warning when this function is called, in development environment only.\n */\nvar deprecate = function deprecate(fn, message) {\n  return fn;\n};\n\n/**\n * Logs a warning\n * This is used to log issues in development environment only.\n */\nvar warn = _noop_js__WEBPACK_IMPORTED_MODULE_0__.noop;\n\n/**\n * Logs a warning if the condition is not met.\n * This is used to log issues in development environment only.\n */\nvar _warning = _noop_js__WEBPACK_IMPORTED_MODULE_0__.noop;\nif (true) {\n  warn = function warn(message) {\n    // eslint-disable-next-line no-console\n    console.warn(\"[InstantSearch.js]: \".concat(message.trim()));\n  };\n  deprecate = function deprecate(fn, message) {\n    var hasAlreadyPrinted = false;\n    return function () {\n      if (!hasAlreadyPrinted) {\n        hasAlreadyPrinted = true;\n         true ? warn(message) : 0;\n      }\n      return fn.apply(void 0, arguments);\n    };\n  };\n  _warning = function warning(condition, message) {\n    if (condition) {\n      return;\n    }\n    var hasAlreadyPrinted = _warning.cache[message];\n    if (!hasAlreadyPrinted) {\n      _warning.cache[message] = true;\n       true ? warn(message) : 0;\n    }\n  };\n  _warning.cache = {};\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvbG9nZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVywwQ0FBSTs7QUFFZjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMENBQUk7QUFDbkIsSUFBSSxJQUFzQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLEtBQXNDLG1CQUFtQixDQUFNO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLEtBQXNDLG1CQUFtQixDQUFNO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2xpYi91dGlscy9sb2dnZXIuanM/MDA3NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBub29wIH0gZnJvbSBcIi4vbm9vcC5qc1wiO1xuLyoqXG4gKiBMb2dzIGEgd2FybmluZyB3aGVuIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkLCBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudCBvbmx5LlxuICovXG52YXIgZGVwcmVjYXRlID0gZnVuY3Rpb24gZGVwcmVjYXRlKGZuLCBtZXNzYWdlKSB7XG4gIHJldHVybiBmbjtcbn07XG5cbi8qKlxuICogTG9ncyBhIHdhcm5pbmdcbiAqIFRoaXMgaXMgdXNlZCB0byBsb2cgaXNzdWVzIGluIGRldmVsb3BtZW50IGVudmlyb25tZW50IG9ubHkuXG4gKi9cbnZhciB3YXJuID0gbm9vcDtcblxuLyoqXG4gKiBMb2dzIGEgd2FybmluZyBpZiB0aGUgY29uZGl0aW9uIGlzIG5vdCBtZXQuXG4gKiBUaGlzIGlzIHVzZWQgdG8gbG9nIGlzc3VlcyBpbiBkZXZlbG9wbWVudCBlbnZpcm9ubWVudCBvbmx5LlxuICovXG52YXIgX3dhcm5pbmcgPSBub29wO1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnKSB7XG4gIHdhcm4gPSBmdW5jdGlvbiB3YXJuKG1lc3NhZ2UpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUud2FybihcIltJbnN0YW50U2VhcmNoLmpzXTogXCIuY29uY2F0KG1lc3NhZ2UudHJpbSgpKSk7XG4gIH07XG4gIGRlcHJlY2F0ZSA9IGZ1bmN0aW9uIGRlcHJlY2F0ZShmbiwgbWVzc2FnZSkge1xuICAgIHZhciBoYXNBbHJlYWR5UHJpbnRlZCA9IGZhbHNlO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIWhhc0FscmVhZHlQcmludGVkKSB7XG4gICAgICAgIGhhc0FscmVhZHlQcmludGVkID0gdHJ1ZTtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyB3YXJuKG1lc3NhZ2UpIDogdm9pZCAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZuLmFwcGx5KHZvaWQgMCwgYXJndW1lbnRzKTtcbiAgICB9O1xuICB9O1xuICBfd2FybmluZyA9IGZ1bmN0aW9uIHdhcm5pbmcoY29uZGl0aW9uLCBtZXNzYWdlKSB7XG4gICAgaWYgKGNvbmRpdGlvbikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgaGFzQWxyZWFkeVByaW50ZWQgPSBfd2FybmluZy5jYWNoZVttZXNzYWdlXTtcbiAgICBpZiAoIWhhc0FscmVhZHlQcmludGVkKSB7XG4gICAgICBfd2FybmluZy5jYWNoZVttZXNzYWdlXSA9IHRydWU7XG4gICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IHdhcm4obWVzc2FnZSkgOiB2b2lkIDA7XG4gICAgfVxuICB9O1xuICBfd2FybmluZy5jYWNoZSA9IHt9O1xufVxuZXhwb3J0IHsgd2FybiwgZGVwcmVjYXRlLCBfd2FybmluZyBhcyB3YXJuaW5nIH07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/logger.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/mergeSearchParameters.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/mergeSearchParameters.js ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mergeSearchParameters: () => (/* binding */ mergeSearchParameters)\n/* harmony export */ });\n/* harmony import */ var _findIndex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./findIndex.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/findIndex.js\");\n/* harmony import */ var _uniq_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./uniq.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/uniq.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nvar _excluded = [\"facets\", \"disjunctiveFacets\", \"facetsRefinements\", \"facetsExcludes\", \"disjunctiveFacetsRefinements\", \"numericRefinements\", \"tagRefinements\", \"hierarchicalFacets\", \"hierarchicalFacetsRefinements\", \"ruleContexts\"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\n\n\nvar mergeWithRest = function mergeWithRest(left, right) {\n  var facets = right.facets,\n    disjunctiveFacets = right.disjunctiveFacets,\n    facetsRefinements = right.facetsRefinements,\n    facetsExcludes = right.facetsExcludes,\n    disjunctiveFacetsRefinements = right.disjunctiveFacetsRefinements,\n    numericRefinements = right.numericRefinements,\n    tagRefinements = right.tagRefinements,\n    hierarchicalFacets = right.hierarchicalFacets,\n    hierarchicalFacetsRefinements = right.hierarchicalFacetsRefinements,\n    ruleContexts = right.ruleContexts,\n    rest = _objectWithoutProperties(right, _excluded);\n  return left.setQueryParameters(rest);\n};\n\n// Merge facets\nvar mergeFacets = function mergeFacets(left, right) {\n  return right.facets.reduce(function (_, name) {\n    return _.addFacet(name);\n  }, left);\n};\nvar mergeDisjunctiveFacets = function mergeDisjunctiveFacets(left, right) {\n  return right.disjunctiveFacets.reduce(function (_, name) {\n    return _.addDisjunctiveFacet(name);\n  }, left);\n};\nvar mergeHierarchicalFacets = function mergeHierarchicalFacets(left, right) {\n  return left.setQueryParameters({\n    hierarchicalFacets: right.hierarchicalFacets.reduce(function (facets, facet) {\n      var index = (0,_findIndex_js__WEBPACK_IMPORTED_MODULE_0__.findIndex)(facets, function (_) {\n        return _.name === facet.name;\n      });\n      if (index === -1) {\n        return facets.concat(facet);\n      }\n      var nextFacets = facets.slice();\n      nextFacets.splice(index, 1, facet);\n      return nextFacets;\n    }, left.hierarchicalFacets)\n  });\n};\n\n// Merge facet refinements\nvar mergeTagRefinements = function mergeTagRefinements(left, right) {\n  return right.tagRefinements.reduce(function (_, value) {\n    return _.addTagRefinement(value);\n  }, left);\n};\nvar mergeFacetRefinements = function mergeFacetRefinements(left, right) {\n  return left.setQueryParameters({\n    facetsRefinements: _objectSpread(_objectSpread({}, left.facetsRefinements), right.facetsRefinements)\n  });\n};\nvar mergeFacetsExcludes = function mergeFacetsExcludes(left, right) {\n  return left.setQueryParameters({\n    facetsExcludes: _objectSpread(_objectSpread({}, left.facetsExcludes), right.facetsExcludes)\n  });\n};\nvar mergeDisjunctiveFacetsRefinements = function mergeDisjunctiveFacetsRefinements(left, right) {\n  return left.setQueryParameters({\n    disjunctiveFacetsRefinements: _objectSpread(_objectSpread({}, left.disjunctiveFacetsRefinements), right.disjunctiveFacetsRefinements)\n  });\n};\nvar mergeNumericRefinements = function mergeNumericRefinements(left, right) {\n  return left.setQueryParameters({\n    numericRefinements: _objectSpread(_objectSpread({}, left.numericRefinements), right.numericRefinements)\n  });\n};\nvar mergeHierarchicalFacetsRefinements = function mergeHierarchicalFacetsRefinements(left, right) {\n  return left.setQueryParameters({\n    hierarchicalFacetsRefinements: _objectSpread(_objectSpread({}, left.hierarchicalFacetsRefinements), right.hierarchicalFacetsRefinements)\n  });\n};\nvar mergeRuleContexts = function mergeRuleContexts(left, right) {\n  var ruleContexts = (0,_uniq_js__WEBPACK_IMPORTED_MODULE_1__.uniq)([].concat(left.ruleContexts).concat(right.ruleContexts).filter(Boolean));\n  if (ruleContexts.length > 0) {\n    return left.setQueryParameters({\n      ruleContexts: ruleContexts\n    });\n  }\n  return left;\n};\nvar mergeSearchParameters = function mergeSearchParameters() {\n  for (var _len = arguments.length, parameters = new Array(_len), _key = 0; _key < _len; _key++) {\n    parameters[_key] = arguments[_key];\n  }\n  return parameters.reduce(function (left, right) {\n    var hierarchicalFacetsRefinementsMerged = mergeHierarchicalFacetsRefinements(left, right);\n    var hierarchicalFacetsMerged = mergeHierarchicalFacets(hierarchicalFacetsRefinementsMerged, right);\n    var tagRefinementsMerged = mergeTagRefinements(hierarchicalFacetsMerged, right);\n    var numericRefinementsMerged = mergeNumericRefinements(tagRefinementsMerged, right);\n    var disjunctiveFacetsRefinementsMerged = mergeDisjunctiveFacetsRefinements(numericRefinementsMerged, right);\n    var facetsExcludesMerged = mergeFacetsExcludes(disjunctiveFacetsRefinementsMerged, right);\n    var facetRefinementsMerged = mergeFacetRefinements(facetsExcludesMerged, right);\n    var disjunctiveFacetsMerged = mergeDisjunctiveFacets(facetRefinementsMerged, right);\n    var ruleContextsMerged = mergeRuleContexts(disjunctiveFacetsMerged, right);\n    var facetsMerged = mergeFacets(ruleContextsMerged, right);\n    return mergeWithRest(facetsMerged, right);\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvbWVyZ2VTZWFyY2hQYXJhbWV0ZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLHNCQUFzQiwyQkFBMkIsb0dBQW9HLG1CQUFtQixpQkFBaUIsc0hBQXNIO0FBQy9TO0FBQ0EseUJBQXlCLHdCQUF3QixvQ0FBb0MseUNBQXlDLGtDQUFrQywwREFBMEQsMEJBQTBCO0FBQ3BQLDRCQUE0QixnQkFBZ0Isc0JBQXNCLE9BQU8sa0RBQWtELHNEQUFzRCw4QkFBOEIsbUpBQW1KLHFFQUFxRSxLQUFLO0FBQzVhLG9DQUFvQyxvRUFBb0UsMERBQTBEO0FBQ2xLLDZCQUE2QixtQ0FBbUM7QUFDaEUsOEJBQThCLDRDQUE0QywrQkFBK0Isb0JBQW9CLG1DQUFtQyxzQ0FBc0MsdUVBQXVFO0FBQzdRLDBDQUEwQywwQkFBMEIsbURBQW1ELG9DQUFvQyx5Q0FBeUMsWUFBWSxjQUFjLHdDQUF3QyxxREFBcUQ7QUFDM1QsK0NBQStDLDBCQUEwQixZQUFZLHVCQUF1Qiw4QkFBOEIsbUNBQW1DLGVBQWU7QUFDako7QUFDVjtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLHdEQUFTO0FBQzNCO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxrREFBa0Q7QUFDbEQsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRTtBQUNoRSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3RELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxpRUFBaUU7QUFDakUsR0FBRztBQUNIO0FBQ0E7QUFDQSxxQkFBcUIsOENBQUk7QUFDekI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsNEVBQTRFLGFBQWE7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCIsInNvdXJjZXMiOlsid2VicGFjazovL3NwZWMtbG9naWMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvbWVyZ2VTZWFyY2hQYXJhbWV0ZXJzLmpzP2Y4MmUiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxudmFyIF9leGNsdWRlZCA9IFtcImZhY2V0c1wiLCBcImRpc2p1bmN0aXZlRmFjZXRzXCIsIFwiZmFjZXRzUmVmaW5lbWVudHNcIiwgXCJmYWNldHNFeGNsdWRlc1wiLCBcImRpc2p1bmN0aXZlRmFjZXRzUmVmaW5lbWVudHNcIiwgXCJudW1lcmljUmVmaW5lbWVudHNcIiwgXCJ0YWdSZWZpbmVtZW50c1wiLCBcImhpZXJhcmNoaWNhbEZhY2V0c1wiLCBcImhpZXJhcmNoaWNhbEZhY2V0c1JlZmluZW1lbnRzXCIsIFwicnVsZUNvbnRleHRzXCJdO1xuZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoZSwgdCkgeyBpZiAobnVsbCA9PSBlKSByZXR1cm4ge307IHZhciBvLCByLCBpID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoZSwgdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBuID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgZm9yIChyID0gMDsgciA8IG4ubGVuZ3RoOyByKyspIG8gPSBuW3JdLCAtMSA9PT0gdC5pbmRleE9mKG8pICYmIHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoZSwgbykgJiYgKGlbb10gPSBlW29dKTsgfSByZXR1cm4gaTsgfVxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UociwgZSkgeyBpZiAobnVsbCA9PSByKSByZXR1cm4ge307IHZhciB0ID0ge307IGZvciAodmFyIG4gaW4gcikgaWYgKHt9Lmhhc093blByb3BlcnR5LmNhbGwociwgbikpIHsgaWYgKC0xICE9PSBlLmluZGV4T2YobikpIGNvbnRpbnVlOyB0W25dID0gcltuXTsgfSByZXR1cm4gdDsgfVxuaW1wb3J0IHsgZmluZEluZGV4IH0gZnJvbSBcIi4vZmluZEluZGV4LmpzXCI7XG5pbXBvcnQgeyB1bmlxIH0gZnJvbSBcIi4vdW5pcS5qc1wiO1xudmFyIG1lcmdlV2l0aFJlc3QgPSBmdW5jdGlvbiBtZXJnZVdpdGhSZXN0KGxlZnQsIHJpZ2h0KSB7XG4gIHZhciBmYWNldHMgPSByaWdodC5mYWNldHMsXG4gICAgZGlzanVuY3RpdmVGYWNldHMgPSByaWdodC5kaXNqdW5jdGl2ZUZhY2V0cyxcbiAgICBmYWNldHNSZWZpbmVtZW50cyA9IHJpZ2h0LmZhY2V0c1JlZmluZW1lbnRzLFxuICAgIGZhY2V0c0V4Y2x1ZGVzID0gcmlnaHQuZmFjZXRzRXhjbHVkZXMsXG4gICAgZGlzanVuY3RpdmVGYWNldHNSZWZpbmVtZW50cyA9IHJpZ2h0LmRpc2p1bmN0aXZlRmFjZXRzUmVmaW5lbWVudHMsXG4gICAgbnVtZXJpY1JlZmluZW1lbnRzID0gcmlnaHQubnVtZXJpY1JlZmluZW1lbnRzLFxuICAgIHRhZ1JlZmluZW1lbnRzID0gcmlnaHQudGFnUmVmaW5lbWVudHMsXG4gICAgaGllcmFyY2hpY2FsRmFjZXRzID0gcmlnaHQuaGllcmFyY2hpY2FsRmFjZXRzLFxuICAgIGhpZXJhcmNoaWNhbEZhY2V0c1JlZmluZW1lbnRzID0gcmlnaHQuaGllcmFyY2hpY2FsRmFjZXRzUmVmaW5lbWVudHMsXG4gICAgcnVsZUNvbnRleHRzID0gcmlnaHQucnVsZUNvbnRleHRzLFxuICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMocmlnaHQsIF9leGNsdWRlZCk7XG4gIHJldHVybiBsZWZ0LnNldFF1ZXJ5UGFyYW1ldGVycyhyZXN0KTtcbn07XG5cbi8vIE1lcmdlIGZhY2V0c1xudmFyIG1lcmdlRmFjZXRzID0gZnVuY3Rpb24gbWVyZ2VGYWNldHMobGVmdCwgcmlnaHQpIHtcbiAgcmV0dXJuIHJpZ2h0LmZhY2V0cy5yZWR1Y2UoZnVuY3Rpb24gKF8sIG5hbWUpIHtcbiAgICByZXR1cm4gXy5hZGRGYWNldChuYW1lKTtcbiAgfSwgbGVmdCk7XG59O1xudmFyIG1lcmdlRGlzanVuY3RpdmVGYWNldHMgPSBmdW5jdGlvbiBtZXJnZURpc2p1bmN0aXZlRmFjZXRzKGxlZnQsIHJpZ2h0KSB7XG4gIHJldHVybiByaWdodC5kaXNqdW5jdGl2ZUZhY2V0cy5yZWR1Y2UoZnVuY3Rpb24gKF8sIG5hbWUpIHtcbiAgICByZXR1cm4gXy5hZGREaXNqdW5jdGl2ZUZhY2V0KG5hbWUpO1xuICB9LCBsZWZ0KTtcbn07XG52YXIgbWVyZ2VIaWVyYXJjaGljYWxGYWNldHMgPSBmdW5jdGlvbiBtZXJnZUhpZXJhcmNoaWNhbEZhY2V0cyhsZWZ0LCByaWdodCkge1xuICByZXR1cm4gbGVmdC5zZXRRdWVyeVBhcmFtZXRlcnMoe1xuICAgIGhpZXJhcmNoaWNhbEZhY2V0czogcmlnaHQuaGllcmFyY2hpY2FsRmFjZXRzLnJlZHVjZShmdW5jdGlvbiAoZmFjZXRzLCBmYWNldCkge1xuICAgICAgdmFyIGluZGV4ID0gZmluZEluZGV4KGZhY2V0cywgZnVuY3Rpb24gKF8pIHtcbiAgICAgICAgcmV0dXJuIF8ubmFtZSA9PT0gZmFjZXQubmFtZTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICByZXR1cm4gZmFjZXRzLmNvbmNhdChmYWNldCk7XG4gICAgICB9XG4gICAgICB2YXIgbmV4dEZhY2V0cyA9IGZhY2V0cy5zbGljZSgpO1xuICAgICAgbmV4dEZhY2V0cy5zcGxpY2UoaW5kZXgsIDEsIGZhY2V0KTtcbiAgICAgIHJldHVybiBuZXh0RmFjZXRzO1xuICAgIH0sIGxlZnQuaGllcmFyY2hpY2FsRmFjZXRzKVxuICB9KTtcbn07XG5cbi8vIE1lcmdlIGZhY2V0IHJlZmluZW1lbnRzXG52YXIgbWVyZ2VUYWdSZWZpbmVtZW50cyA9IGZ1bmN0aW9uIG1lcmdlVGFnUmVmaW5lbWVudHMobGVmdCwgcmlnaHQpIHtcbiAgcmV0dXJuIHJpZ2h0LnRhZ1JlZmluZW1lbnRzLnJlZHVjZShmdW5jdGlvbiAoXywgdmFsdWUpIHtcbiAgICByZXR1cm4gXy5hZGRUYWdSZWZpbmVtZW50KHZhbHVlKTtcbiAgfSwgbGVmdCk7XG59O1xudmFyIG1lcmdlRmFjZXRSZWZpbmVtZW50cyA9IGZ1bmN0aW9uIG1lcmdlRmFjZXRSZWZpbmVtZW50cyhsZWZ0LCByaWdodCkge1xuICByZXR1cm4gbGVmdC5zZXRRdWVyeVBhcmFtZXRlcnMoe1xuICAgIGZhY2V0c1JlZmluZW1lbnRzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGxlZnQuZmFjZXRzUmVmaW5lbWVudHMpLCByaWdodC5mYWNldHNSZWZpbmVtZW50cylcbiAgfSk7XG59O1xudmFyIG1lcmdlRmFjZXRzRXhjbHVkZXMgPSBmdW5jdGlvbiBtZXJnZUZhY2V0c0V4Y2x1ZGVzKGxlZnQsIHJpZ2h0KSB7XG4gIHJldHVybiBsZWZ0LnNldFF1ZXJ5UGFyYW1ldGVycyh7XG4gICAgZmFjZXRzRXhjbHVkZXM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbGVmdC5mYWNldHNFeGNsdWRlcyksIHJpZ2h0LmZhY2V0c0V4Y2x1ZGVzKVxuICB9KTtcbn07XG52YXIgbWVyZ2VEaXNqdW5jdGl2ZUZhY2V0c1JlZmluZW1lbnRzID0gZnVuY3Rpb24gbWVyZ2VEaXNqdW5jdGl2ZUZhY2V0c1JlZmluZW1lbnRzKGxlZnQsIHJpZ2h0KSB7XG4gIHJldHVybiBsZWZ0LnNldFF1ZXJ5UGFyYW1ldGVycyh7XG4gICAgZGlzanVuY3RpdmVGYWNldHNSZWZpbmVtZW50czogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBsZWZ0LmRpc2p1bmN0aXZlRmFjZXRzUmVmaW5lbWVudHMpLCByaWdodC5kaXNqdW5jdGl2ZUZhY2V0c1JlZmluZW1lbnRzKVxuICB9KTtcbn07XG52YXIgbWVyZ2VOdW1lcmljUmVmaW5lbWVudHMgPSBmdW5jdGlvbiBtZXJnZU51bWVyaWNSZWZpbmVtZW50cyhsZWZ0LCByaWdodCkge1xuICByZXR1cm4gbGVmdC5zZXRRdWVyeVBhcmFtZXRlcnMoe1xuICAgIG51bWVyaWNSZWZpbmVtZW50czogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBsZWZ0Lm51bWVyaWNSZWZpbmVtZW50cyksIHJpZ2h0Lm51bWVyaWNSZWZpbmVtZW50cylcbiAgfSk7XG59O1xudmFyIG1lcmdlSGllcmFyY2hpY2FsRmFjZXRzUmVmaW5lbWVudHMgPSBmdW5jdGlvbiBtZXJnZUhpZXJhcmNoaWNhbEZhY2V0c1JlZmluZW1lbnRzKGxlZnQsIHJpZ2h0KSB7XG4gIHJldHVybiBsZWZ0LnNldFF1ZXJ5UGFyYW1ldGVycyh7XG4gICAgaGllcmFyY2hpY2FsRmFjZXRzUmVmaW5lbWVudHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgbGVmdC5oaWVyYXJjaGljYWxGYWNldHNSZWZpbmVtZW50cyksIHJpZ2h0LmhpZXJhcmNoaWNhbEZhY2V0c1JlZmluZW1lbnRzKVxuICB9KTtcbn07XG52YXIgbWVyZ2VSdWxlQ29udGV4dHMgPSBmdW5jdGlvbiBtZXJnZVJ1bGVDb250ZXh0cyhsZWZ0LCByaWdodCkge1xuICB2YXIgcnVsZUNvbnRleHRzID0gdW5pcShbXS5jb25jYXQobGVmdC5ydWxlQ29udGV4dHMpLmNvbmNhdChyaWdodC5ydWxlQ29udGV4dHMpLmZpbHRlcihCb29sZWFuKSk7XG4gIGlmIChydWxlQ29udGV4dHMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBsZWZ0LnNldFF1ZXJ5UGFyYW1ldGVycyh7XG4gICAgICBydWxlQ29udGV4dHM6IHJ1bGVDb250ZXh0c1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBsZWZ0O1xufTtcbmV4cG9ydCB2YXIgbWVyZ2VTZWFyY2hQYXJhbWV0ZXJzID0gZnVuY3Rpb24gbWVyZ2VTZWFyY2hQYXJhbWV0ZXJzKCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgcGFyYW1ldGVycyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICBwYXJhbWV0ZXJzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICB9XG4gIHJldHVybiBwYXJhbWV0ZXJzLnJlZHVjZShmdW5jdGlvbiAobGVmdCwgcmlnaHQpIHtcbiAgICB2YXIgaGllcmFyY2hpY2FsRmFjZXRzUmVmaW5lbWVudHNNZXJnZWQgPSBtZXJnZUhpZXJhcmNoaWNhbEZhY2V0c1JlZmluZW1lbnRzKGxlZnQsIHJpZ2h0KTtcbiAgICB2YXIgaGllcmFyY2hpY2FsRmFjZXRzTWVyZ2VkID0gbWVyZ2VIaWVyYXJjaGljYWxGYWNldHMoaGllcmFyY2hpY2FsRmFjZXRzUmVmaW5lbWVudHNNZXJnZWQsIHJpZ2h0KTtcbiAgICB2YXIgdGFnUmVmaW5lbWVudHNNZXJnZWQgPSBtZXJnZVRhZ1JlZmluZW1lbnRzKGhpZXJhcmNoaWNhbEZhY2V0c01lcmdlZCwgcmlnaHQpO1xuICAgIHZhciBudW1lcmljUmVmaW5lbWVudHNNZXJnZWQgPSBtZXJnZU51bWVyaWNSZWZpbmVtZW50cyh0YWdSZWZpbmVtZW50c01lcmdlZCwgcmlnaHQpO1xuICAgIHZhciBkaXNqdW5jdGl2ZUZhY2V0c1JlZmluZW1lbnRzTWVyZ2VkID0gbWVyZ2VEaXNqdW5jdGl2ZUZhY2V0c1JlZmluZW1lbnRzKG51bWVyaWNSZWZpbmVtZW50c01lcmdlZCwgcmlnaHQpO1xuICAgIHZhciBmYWNldHNFeGNsdWRlc01lcmdlZCA9IG1lcmdlRmFjZXRzRXhjbHVkZXMoZGlzanVuY3RpdmVGYWNldHNSZWZpbmVtZW50c01lcmdlZCwgcmlnaHQpO1xuICAgIHZhciBmYWNldFJlZmluZW1lbnRzTWVyZ2VkID0gbWVyZ2VGYWNldFJlZmluZW1lbnRzKGZhY2V0c0V4Y2x1ZGVzTWVyZ2VkLCByaWdodCk7XG4gICAgdmFyIGRpc2p1bmN0aXZlRmFjZXRzTWVyZ2VkID0gbWVyZ2VEaXNqdW5jdGl2ZUZhY2V0cyhmYWNldFJlZmluZW1lbnRzTWVyZ2VkLCByaWdodCk7XG4gICAgdmFyIHJ1bGVDb250ZXh0c01lcmdlZCA9IG1lcmdlUnVsZUNvbnRleHRzKGRpc2p1bmN0aXZlRmFjZXRzTWVyZ2VkLCByaWdodCk7XG4gICAgdmFyIGZhY2V0c01lcmdlZCA9IG1lcmdlRmFjZXRzKHJ1bGVDb250ZXh0c01lcmdlZCwgcmlnaHQpO1xuICAgIHJldHVybiBtZXJnZVdpdGhSZXN0KGZhY2V0c01lcmdlZCwgcmlnaHQpO1xuICB9KTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/mergeSearchParameters.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/noop.js":
/*!************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/noop.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   noop: () => (/* binding */ noop)\n/* harmony export */ });\nfunction noop() {}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvbm9vcC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGVjLWxvZ2ljLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2luc3RhbnRzZWFyY2guanMvZXMvbGliL3V0aWxzL25vb3AuanM/ODM2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gbm9vcCgpIHt9Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/noop.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/range.js":
/*!*************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/range.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   range: () => (/* binding */ range)\n/* harmony export */ });\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction range(_ref) {\n  var _ref$start = _ref.start,\n    start = _ref$start === void 0 ? 0 : _ref$start,\n    end = _ref.end,\n    _ref$step = _ref.step,\n    step = _ref$step === void 0 ? 1 : _ref$step;\n  // We can't divide by 0 so we re-assign the step to 1 if it happens.\n  var limitStep = step === 0 ? 1 : step;\n\n  // In some cases the array to create has a decimal length.\n  // We therefore need to round the value.\n  // Example:\n  //   { start: 1, end: 5000, step: 500 }\n  //   => Array length = (5000 - 1) / 500 = 9.998\n  var arrayLength = Math.round((end - start) / limitStep);\n  return _toConsumableArray(Array(arrayLength)).map(function (_, current) {\n    return start + current * limitStep;\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvcmFuZ2UuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGlDQUFpQztBQUNqQyxnQ0FBZ0M7QUFDaEMsNkNBQTZDLFNBQVMsMERBQTBELFVBQVUsZ0NBQWdDO0FBQzFKLCtCQUErQjtBQUMvQixpQ0FBaUM7QUFDakMsbUNBQW1DLCtDQUErQyw4QkFBOEIsT0FBTyxrQkFBa0I7QUFDbEk7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGVjLWxvZ2ljLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2luc3RhbnRzZWFyY2guanMvZXMvbGliL3V0aWxzL3JhbmdlLmpzP2JjYzQiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3RvQ29uc3VtYWJsZUFycmF5KHIpIHsgcmV0dXJuIF9hcnJheVdpdGhvdXRIb2xlcyhyKSB8fCBfaXRlcmFibGVUb0FycmF5KHIpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyKSB8fCBfbm9uSXRlcmFibGVTcHJlYWQoKTsgfVxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlU3ByZWFkKCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIsIGEpIHsgaWYgKHIpIHsgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKTsgdmFyIHQgPSB7fS50b1N0cmluZy5jYWxsKHIpLnNsaWNlKDgsIC0xKTsgcmV0dXJuIFwiT2JqZWN0XCIgPT09IHQgJiYgci5jb25zdHJ1Y3RvciAmJiAodCA9IHIuY29uc3RydWN0b3IubmFtZSksIFwiTWFwXCIgPT09IHQgfHwgXCJTZXRcIiA9PT0gdCA/IEFycmF5LmZyb20ocikgOiBcIkFyZ3VtZW50c1wiID09PSB0IHx8IC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpID8gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgOiB2b2lkIDA7IH0gfVxuZnVuY3Rpb24gX2l0ZXJhYmxlVG9BcnJheShyKSB7IGlmIChcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgbnVsbCAhPSByW1N5bWJvbC5pdGVyYXRvcl0gfHwgbnVsbCAhPSByW1wiQEBpdGVyYXRvclwiXSkgcmV0dXJuIEFycmF5LmZyb20ocik7IH1cbmZ1bmN0aW9uIF9hcnJheVdpdGhvdXRIb2xlcyhyKSB7IGlmIChBcnJheS5pc0FycmF5KHIpKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkocik7IH1cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIHsgKG51bGwgPT0gYSB8fCBhID4gci5sZW5ndGgpICYmIChhID0gci5sZW5ndGgpOyBmb3IgKHZhciBlID0gMCwgbiA9IEFycmF5KGEpOyBlIDwgYTsgZSsrKSBuW2VdID0gcltlXTsgcmV0dXJuIG47IH1cbmV4cG9ydCBmdW5jdGlvbiByYW5nZShfcmVmKSB7XG4gIHZhciBfcmVmJHN0YXJ0ID0gX3JlZi5zdGFydCxcbiAgICBzdGFydCA9IF9yZWYkc3RhcnQgPT09IHZvaWQgMCA/IDAgOiBfcmVmJHN0YXJ0LFxuICAgIGVuZCA9IF9yZWYuZW5kLFxuICAgIF9yZWYkc3RlcCA9IF9yZWYuc3RlcCxcbiAgICBzdGVwID0gX3JlZiRzdGVwID09PSB2b2lkIDAgPyAxIDogX3JlZiRzdGVwO1xuICAvLyBXZSBjYW4ndCBkaXZpZGUgYnkgMCBzbyB3ZSByZS1hc3NpZ24gdGhlIHN0ZXAgdG8gMSBpZiBpdCBoYXBwZW5zLlxuICB2YXIgbGltaXRTdGVwID0gc3RlcCA9PT0gMCA/IDEgOiBzdGVwO1xuXG4gIC8vIEluIHNvbWUgY2FzZXMgdGhlIGFycmF5IHRvIGNyZWF0ZSBoYXMgYSBkZWNpbWFsIGxlbmd0aC5cbiAgLy8gV2UgdGhlcmVmb3JlIG5lZWQgdG8gcm91bmQgdGhlIHZhbHVlLlxuICAvLyBFeGFtcGxlOlxuICAvLyAgIHsgc3RhcnQ6IDEsIGVuZDogNTAwMCwgc3RlcDogNTAwIH1cbiAgLy8gICA9PiBBcnJheSBsZW5ndGggPSAoNTAwMCAtIDEpIC8gNTAwID0gOS45OThcbiAgdmFyIGFycmF5TGVuZ3RoID0gTWF0aC5yb3VuZCgoZW5kIC0gc3RhcnQpIC8gbGltaXRTdGVwKTtcbiAgcmV0dXJuIF90b0NvbnN1bWFibGVBcnJheShBcnJheShhcnJheUxlbmd0aCkpLm1hcChmdW5jdGlvbiAoXywgY3VycmVudCkge1xuICAgIHJldHVybiBzdGFydCArIGN1cnJlbnQgKiBsaW1pdFN0ZXA7XG4gIH0pO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/range.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/render-args.js":
/*!*******************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/render-args.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createInitArgs: () => (/* binding */ createInitArgs),\n/* harmony export */   createRenderArgs: () => (/* binding */ createRenderArgs)\n/* harmony export */ });\nfunction createInitArgs(instantSearchInstance, parent, uiState) {\n  var helper = parent.getHelper();\n  return {\n    uiState: uiState,\n    helper: helper,\n    parent: parent,\n    instantSearchInstance: instantSearchInstance,\n    state: helper.state,\n    renderState: instantSearchInstance.renderState,\n    templatesConfig: instantSearchInstance.templatesConfig,\n    createURL: parent.createURL,\n    scopedResults: [],\n    searchMetadata: {\n      isSearchStalled: instantSearchInstance.status === 'stalled'\n    },\n    status: instantSearchInstance.status,\n    error: instantSearchInstance.error\n  };\n}\nfunction createRenderArgs(instantSearchInstance, parent, widget) {\n  var results = parent.getResultsForWidget(widget);\n  var helper = parent.getHelper();\n  return {\n    helper: helper,\n    parent: parent,\n    instantSearchInstance: instantSearchInstance,\n    results: results,\n    scopedResults: parent.getScopedResults(),\n    state: results && '_state' in results ? results._state : helper.state,\n    renderState: instantSearchInstance.renderState,\n    templatesConfig: instantSearchInstance.templatesConfig,\n    createURL: parent.createURL,\n    searchMetadata: {\n      isSearchStalled: instantSearchInstance.status === 'stalled'\n    },\n    status: instantSearchInstance.status,\n    error: instantSearchInstance.error\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvcmVuZGVyLWFyZ3MuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2xpYi91dGlscy9yZW5kZXItYXJncy5qcz9iMWRkIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbml0QXJncyhpbnN0YW50U2VhcmNoSW5zdGFuY2UsIHBhcmVudCwgdWlTdGF0ZSkge1xuICB2YXIgaGVscGVyID0gcGFyZW50LmdldEhlbHBlcigpO1xuICByZXR1cm4ge1xuICAgIHVpU3RhdGU6IHVpU3RhdGUsXG4gICAgaGVscGVyOiBoZWxwZXIsXG4gICAgcGFyZW50OiBwYXJlbnQsXG4gICAgaW5zdGFudFNlYXJjaEluc3RhbmNlOiBpbnN0YW50U2VhcmNoSW5zdGFuY2UsXG4gICAgc3RhdGU6IGhlbHBlci5zdGF0ZSxcbiAgICByZW5kZXJTdGF0ZTogaW5zdGFudFNlYXJjaEluc3RhbmNlLnJlbmRlclN0YXRlLFxuICAgIHRlbXBsYXRlc0NvbmZpZzogaW5zdGFudFNlYXJjaEluc3RhbmNlLnRlbXBsYXRlc0NvbmZpZyxcbiAgICBjcmVhdGVVUkw6IHBhcmVudC5jcmVhdGVVUkwsXG4gICAgc2NvcGVkUmVzdWx0czogW10sXG4gICAgc2VhcmNoTWV0YWRhdGE6IHtcbiAgICAgIGlzU2VhcmNoU3RhbGxlZDogaW5zdGFudFNlYXJjaEluc3RhbmNlLnN0YXR1cyA9PT0gJ3N0YWxsZWQnXG4gICAgfSxcbiAgICBzdGF0dXM6IGluc3RhbnRTZWFyY2hJbnN0YW5jZS5zdGF0dXMsXG4gICAgZXJyb3I6IGluc3RhbnRTZWFyY2hJbnN0YW5jZS5lcnJvclxuICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVJlbmRlckFyZ3MoaW5zdGFudFNlYXJjaEluc3RhbmNlLCBwYXJlbnQsIHdpZGdldCkge1xuICB2YXIgcmVzdWx0cyA9IHBhcmVudC5nZXRSZXN1bHRzRm9yV2lkZ2V0KHdpZGdldCk7XG4gIHZhciBoZWxwZXIgPSBwYXJlbnQuZ2V0SGVscGVyKCk7XG4gIHJldHVybiB7XG4gICAgaGVscGVyOiBoZWxwZXIsXG4gICAgcGFyZW50OiBwYXJlbnQsXG4gICAgaW5zdGFudFNlYXJjaEluc3RhbmNlOiBpbnN0YW50U2VhcmNoSW5zdGFuY2UsXG4gICAgcmVzdWx0czogcmVzdWx0cyxcbiAgICBzY29wZWRSZXN1bHRzOiBwYXJlbnQuZ2V0U2NvcGVkUmVzdWx0cygpLFxuICAgIHN0YXRlOiByZXN1bHRzICYmICdfc3RhdGUnIGluIHJlc3VsdHMgPyByZXN1bHRzLl9zdGF0ZSA6IGhlbHBlci5zdGF0ZSxcbiAgICByZW5kZXJTdGF0ZTogaW5zdGFudFNlYXJjaEluc3RhbmNlLnJlbmRlclN0YXRlLFxuICAgIHRlbXBsYXRlc0NvbmZpZzogaW5zdGFudFNlYXJjaEluc3RhbmNlLnRlbXBsYXRlc0NvbmZpZyxcbiAgICBjcmVhdGVVUkw6IHBhcmVudC5jcmVhdGVVUkwsXG4gICAgc2VhcmNoTWV0YWRhdGE6IHtcbiAgICAgIGlzU2VhcmNoU3RhbGxlZDogaW5zdGFudFNlYXJjaEluc3RhbmNlLnN0YXR1cyA9PT0gJ3N0YWxsZWQnXG4gICAgfSxcbiAgICBzdGF0dXM6IGluc3RhbnRTZWFyY2hJbnN0YW5jZS5zdGF0dXMsXG4gICAgZXJyb3I6IGluc3RhbnRTZWFyY2hJbnN0YW5jZS5lcnJvclxuICB9O1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/render-args.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/resolveSearchParameters.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/resolveSearchParameters.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   resolveSearchParameters: () => (/* binding */ resolveSearchParameters)\n/* harmony export */ });\nfunction resolveSearchParameters(current) {\n  var parent = current.getParent();\n  var states = [current.getHelper().state];\n  while (parent !== null) {\n    states = [parent.getHelper().state].concat(states);\n    parent = parent.getParent();\n  }\n  return states;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvcmVzb2x2ZVNlYXJjaFBhcmFtZXRlcnMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3NwZWMtbG9naWMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvcmVzb2x2ZVNlYXJjaFBhcmFtZXRlcnMuanM/NGQxMyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gcmVzb2x2ZVNlYXJjaFBhcmFtZXRlcnMoY3VycmVudCkge1xuICB2YXIgcGFyZW50ID0gY3VycmVudC5nZXRQYXJlbnQoKTtcbiAgdmFyIHN0YXRlcyA9IFtjdXJyZW50LmdldEhlbHBlcigpLnN0YXRlXTtcbiAgd2hpbGUgKHBhcmVudCAhPT0gbnVsbCkge1xuICAgIHN0YXRlcyA9IFtwYXJlbnQuZ2V0SGVscGVyKCkuc3RhdGVdLmNvbmNhdChzdGF0ZXMpO1xuICAgIHBhcmVudCA9IHBhcmVudC5nZXRQYXJlbnQoKTtcbiAgfVxuICByZXR1cm4gc3RhdGVzO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/resolveSearchParameters.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/reverseHighlightedParts.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/reverseHighlightedParts.js ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   reverseHighlightedParts: () => (/* binding */ reverseHighlightedParts)\n/* harmony export */ });\n/* harmony import */ var _getHighlightFromSiblings_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./getHighlightFromSiblings.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/getHighlightFromSiblings.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\nfunction reverseHighlightedParts(parts) {\n  if (!parts.some(function (part) {\n    return part.isHighlighted;\n  })) {\n    return parts.map(function (part) {\n      return _objectSpread(_objectSpread({}, part), {}, {\n        isHighlighted: false\n      });\n    });\n  }\n  return parts.map(function (part, i) {\n    return _objectSpread(_objectSpread({}, part), {}, {\n      isHighlighted: !(0,_getHighlightFromSiblings_js__WEBPACK_IMPORTED_MODULE_0__.getHighlightFromSiblings)(parts, i)\n    });\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvcmV2ZXJzZUhpZ2hsaWdodGVkUGFydHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSxzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUMvUyx5QkFBeUIsd0JBQXdCLG9DQUFvQyx5Q0FBeUMsa0NBQWtDLDBEQUEwRCwwQkFBMEI7QUFDcFAsNEJBQTRCLGdCQUFnQixzQkFBc0IsT0FBTyxrREFBa0Qsc0RBQXNELDhCQUE4QixtSkFBbUoscUVBQXFFLEtBQUs7QUFDNWEsb0NBQW9DLG9FQUFvRSwwREFBMEQ7QUFDbEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDcE07QUFDbEU7QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsMkNBQTJDLFdBQVc7QUFDdEQ7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQSx5Q0FBeUMsV0FBVztBQUNwRCxzQkFBc0Isc0ZBQXdCO0FBQzlDLEtBQUs7QUFDTCxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGVjLWxvZ2ljLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2luc3RhbnRzZWFyY2guanMvZXMvbGliL3V0aWxzL3JldmVyc2VIaWdobGlnaHRlZFBhcnRzLmpzPzAzNjEiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5pbXBvcnQgeyBnZXRIaWdobGlnaHRGcm9tU2libGluZ3MgfSBmcm9tIFwiLi9nZXRIaWdobGlnaHRGcm9tU2libGluZ3MuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiByZXZlcnNlSGlnaGxpZ2h0ZWRQYXJ0cyhwYXJ0cykge1xuICBpZiAoIXBhcnRzLnNvbWUoZnVuY3Rpb24gKHBhcnQpIHtcbiAgICByZXR1cm4gcGFydC5pc0hpZ2hsaWdodGVkO1xuICB9KSkge1xuICAgIHJldHVybiBwYXJ0cy5tYXAoZnVuY3Rpb24gKHBhcnQpIHtcbiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBhcnQpLCB7fSwge1xuICAgICAgICBpc0hpZ2hsaWdodGVkOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHBhcnRzLm1hcChmdW5jdGlvbiAocGFydCwgaSkge1xuICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBhcnQpLCB7fSwge1xuICAgICAgaXNIaWdobGlnaHRlZDogIWdldEhpZ2hsaWdodEZyb21TaWJsaW5ncyhwYXJ0cywgaSlcbiAgICB9KTtcbiAgfSk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/reverseHighlightedParts.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/safelyRunOnBrowser.js":
/*!**************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/safelyRunOnBrowser.js ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   safelyRunOnBrowser: () => (/* binding */ safelyRunOnBrowser)\n/* harmony export */ });\n// eslint-disable-next-line no-restricted-globals\n\n/**\n * Runs code on browser environments safely.\n */\nfunction safelyRunOnBrowser(callback) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n      fallback: function fallback() {\n        return undefined;\n      }\n    },\n    fallback = _ref.fallback;\n  // eslint-disable-next-line no-restricted-globals\n  if (typeof window === 'undefined') {\n    return fallback();\n  }\n\n  // eslint-disable-next-line no-restricted-globals\n  return callback({\n    window: window\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvc2FmZWx5UnVuT25Ccm93c2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2xpYi91dGlscy9zYWZlbHlSdW5PbkJyb3dzZXIuanM/ZDM0MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXG5cbi8qKlxuICogUnVucyBjb2RlIG9uIGJyb3dzZXIgZW52aXJvbm1lbnRzIHNhZmVseS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNhZmVseVJ1bk9uQnJvd3NlcihjYWxsYmFjaykge1xuICB2YXIgX3JlZiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge1xuICAgICAgZmFsbGJhY2s6IGZ1bmN0aW9uIGZhbGxiYWNrKCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0sXG4gICAgZmFsbGJhY2sgPSBfcmVmLmZhbGxiYWNrO1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmYWxsYmFjaygpO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuICByZXR1cm4gY2FsbGJhY2soe1xuICAgIHdpbmRvdzogd2luZG93XG4gIH0pO1xufSJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/safelyRunOnBrowser.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/serializer.js":
/*!******************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/serializer.js ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deserializePayload: () => (/* binding */ deserializePayload),\n/* harmony export */   serializePayload: () => (/* binding */ serializePayload)\n/* harmony export */ });\nfunction serializePayload(payload) {\n  return btoa(encodeURIComponent(JSON.stringify(payload)));\n}\nfunction deserializePayload(serialized) {\n  return JSON.parse(decodeURIComponent(atob(serialized)));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvc2VyaWFsaXplci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3NwZWMtbG9naWMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvc2VyaWFsaXplci5qcz9kNzA2Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVQYXlsb2FkKHBheWxvYWQpIHtcbiAgcmV0dXJuIGJ0b2EoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHBheWxvYWQpKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZGVzZXJpYWxpemVQYXlsb2FkKHNlcmlhbGl6ZWQpIHtcbiAgcmV0dXJuIEpTT04ucGFyc2UoZGVjb2RlVVJJQ29tcG9uZW50KGF0b2Ioc2VyaWFsaXplZCkpKTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/serializer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/setIndexHelperState.js":
/*!***************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/setIndexHelperState.js ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setIndexHelperState: () => (/* binding */ setIndexHelperState)\n/* harmony export */ });\n/* harmony import */ var _checkIndexUiState_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./checkIndexUiState.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/checkIndexUiState.js\");\n/* harmony import */ var _isIndexWidget_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./isIndexWidget.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/isIndexWidget.js\");\n\n\nfunction setIndexHelperState(finalUiState, indexWidget) {\n  var nextIndexUiState = finalUiState[indexWidget.getIndexId()] || {};\n  if (true) {\n    (0,_checkIndexUiState_js__WEBPACK_IMPORTED_MODULE_0__.checkIndexUiState)({\n      index: indexWidget,\n      indexUiState: nextIndexUiState\n    });\n  }\n  indexWidget.getHelper().setState(indexWidget.getWidgetSearchParameters(indexWidget.getHelper().state, {\n    uiState: nextIndexUiState\n  }));\n  indexWidget.getWidgets().filter(_isIndexWidget_js__WEBPACK_IMPORTED_MODULE_1__.isIndexWidget).forEach(function (widget) {\n    return setIndexHelperState(finalUiState, widget);\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvc2V0SW5kZXhIZWxwZXJTdGF0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkQ7QUFDUjtBQUM1QztBQUNQO0FBQ0EsTUFBTSxJQUFzQztBQUM1QyxJQUFJLHdFQUFpQjtBQUNyQjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxrQ0FBa0MsNERBQWE7QUFDL0M7QUFDQSxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGVjLWxvZ2ljLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2luc3RhbnRzZWFyY2guanMvZXMvbGliL3V0aWxzL3NldEluZGV4SGVscGVyU3RhdGUuanM/YTI3NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjaGVja0luZGV4VWlTdGF0ZSB9IGZyb20gXCIuL2NoZWNrSW5kZXhVaVN0YXRlLmpzXCI7XG5pbXBvcnQgeyBpc0luZGV4V2lkZ2V0IH0gZnJvbSBcIi4vaXNJbmRleFdpZGdldC5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHNldEluZGV4SGVscGVyU3RhdGUoZmluYWxVaVN0YXRlLCBpbmRleFdpZGdldCkge1xuICB2YXIgbmV4dEluZGV4VWlTdGF0ZSA9IGZpbmFsVWlTdGF0ZVtpbmRleFdpZGdldC5nZXRJbmRleElkKCldIHx8IHt9O1xuICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcpIHtcbiAgICBjaGVja0luZGV4VWlTdGF0ZSh7XG4gICAgICBpbmRleDogaW5kZXhXaWRnZXQsXG4gICAgICBpbmRleFVpU3RhdGU6IG5leHRJbmRleFVpU3RhdGVcbiAgICB9KTtcbiAgfVxuICBpbmRleFdpZGdldC5nZXRIZWxwZXIoKS5zZXRTdGF0ZShpbmRleFdpZGdldC5nZXRXaWRnZXRTZWFyY2hQYXJhbWV0ZXJzKGluZGV4V2lkZ2V0LmdldEhlbHBlcigpLnN0YXRlLCB7XG4gICAgdWlTdGF0ZTogbmV4dEluZGV4VWlTdGF0ZVxuICB9KSk7XG4gIGluZGV4V2lkZ2V0LmdldFdpZGdldHMoKS5maWx0ZXIoaXNJbmRleFdpZGdldCkuZm9yRWFjaChmdW5jdGlvbiAod2lkZ2V0KSB7XG4gICAgcmV0dXJuIHNldEluZGV4SGVscGVyU3RhdGUoZmluYWxVaVN0YXRlLCB3aWRnZXQpO1xuICB9KTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/setIndexHelperState.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/typedObject.js":
/*!*******************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/typedObject.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   keys: () => (/* binding */ keys)\n/* harmony export */ });\n/**\n * A typed version of Object.keys, to use when looping over a static object\n * inspired from https://stackoverflow.com/a/65117465/3185307\n */\nvar keys = Object.keys;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvdHlwZWRPYmplY3QuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ08iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGVjLWxvZ2ljLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2luc3RhbnRzZWFyY2guanMvZXMvbGliL3V0aWxzL3R5cGVkT2JqZWN0LmpzP2ZlNWUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBIHR5cGVkIHZlcnNpb24gb2YgT2JqZWN0LmtleXMsIHRvIHVzZSB3aGVuIGxvb3Bpbmcgb3ZlciBhIHN0YXRpYyBvYmplY3RcbiAqIGluc3BpcmVkIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzY1MTE3NDY1LzMxODUzMDdcbiAqL1xuZXhwb3J0IHZhciBrZXlzID0gT2JqZWN0LmtleXM7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/typedObject.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/uniq.js":
/*!************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/uniq.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   uniq: () => (/* binding */ uniq)\n/* harmony export */ });\nfunction uniq(array) {\n  return array.filter(function (value, index, self) {\n    return self.indexOf(value) === index;\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvdW5pcS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL2xpYi91dGlscy91bmlxLmpzP2Y2ZjQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIHVuaXEoYXJyYXkpIHtcbiAgcmV0dXJuIGFycmF5LmZpbHRlcihmdW5jdGlvbiAodmFsdWUsIGluZGV4LCBzZWxmKSB7XG4gICAgcmV0dXJuIHNlbGYuaW5kZXhPZih2YWx1ZSkgPT09IGluZGV4O1xuICB9KTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/uniq.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/utils/uuid.js":
/*!************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/utils/uuid.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createUUID: () => (/* binding */ createUUID)\n/* harmony export */ });\n/**\n * Create UUID according to\n * https://www.ietf.org/rfc/rfc4122.txt.\n *\n * @returns Generated UUID.\n */\nfunction createUUID() {\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\n    /* eslint-disable no-bitwise */\n    var r = Math.random() * 16 | 0;\n    var v = c === 'x' ? r : r & 0x3 | 0x8;\n    /* eslint-enable */\n    return v.toString(16);\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdXRpbHMvdXVpZC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGVjLWxvZ2ljLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2luc3RhbnRzZWFyY2guanMvZXMvbGliL3V0aWxzL3V1aWQuanM/N2UyZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZSBVVUlEIGFjY29yZGluZyB0b1xuICogaHR0cHM6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzQxMjIudHh0LlxuICpcbiAqIEByZXR1cm5zIEdlbmVyYXRlZCBVVUlELlxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVVVJRCgpIHtcbiAgcmV0dXJuICd4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1iaXR3aXNlICovXG4gICAgdmFyIHIgPSBNYXRoLnJhbmRvbSgpICogMTYgfCAwO1xuICAgIHZhciB2ID0gYyA9PT0gJ3gnID8gciA6IHIgJiAweDMgfCAweDg7XG4gICAgLyogZXNsaW50LWVuYWJsZSAqL1xuICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgfSk7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/utils/uuid.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/lib/version.js":
/*!*********************************************************!*\
  !*** ./node_modules/instantsearch.js/es/lib/version.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ('4.87.0');//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdmVyc2lvbi5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsUUFBUSIsInNvdXJjZXMiOlsid2VicGFjazovL3NwZWMtbG9naWMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9saWIvdmVyc2lvbi5qcz8yMTIyIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0ICc0Ljg3LjAnOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/lib/version.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/middlewares/createInsightsMiddleware.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/middlewares/createInsightsMiddleware.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createInsightsMiddleware: () => (/* binding */ createInsightsMiddleware)\n/* harmony export */ });\n/* harmony import */ var _helpers_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../helpers/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/helpers/get-insights-anonymous-user-token.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/safelyRunOnBrowser.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/noop.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/getAppIdAndApiKey.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/logger.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/find.js\");\n/* harmony import */ var _lib_utils_uuid_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/utils/uuid.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/uuid.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t.return && (u = t.return(), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\n\n\n\nvar ALGOLIA_INSIGHTS_VERSION = '2.17.2';\nvar ALGOLIA_INSIGHTS_SRC = \"https://cdn.jsdelivr.net/npm/search-insights@\".concat(ALGOLIA_INSIGHTS_VERSION, \"/dist/search-insights.min.js\");\nfunction createInsightsMiddleware() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _insightsClient = props.insightsClient,\n    insightsInitParams = props.insightsInitParams,\n    onEvent = props.onEvent,\n    _props$$$internal = props.$$internal,\n    $$internal = _props$$$internal === void 0 ? false : _props$$$internal,\n    _props$$$automatic = props.$$automatic,\n    $$automatic = _props$$$automatic === void 0 ? false : _props$$$automatic;\n  var potentialInsightsClient = _insightsClient;\n  if (!_insightsClient && _insightsClient !== null) {\n    (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__.safelyRunOnBrowser)(function (_ref) {\n      var window = _ref.window;\n      var pointer = window.AlgoliaAnalyticsObject || 'aa';\n      if (typeof pointer === 'string') {\n        potentialInsightsClient = window[pointer];\n      }\n      if (!potentialInsightsClient) {\n        window.AlgoliaAnalyticsObject = pointer;\n        if (!window[pointer]) {\n          window[pointer] = function () {\n            if (!window[pointer].queue) {\n              window[pointer].queue = [];\n            }\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n            window[pointer].queue.push(args);\n          };\n          window[pointer].version = ALGOLIA_INSIGHTS_VERSION;\n          window[pointer].shouldAddScript = true;\n        }\n        potentialInsightsClient = window[pointer];\n      }\n    });\n  }\n  // if still no insightsClient was found, we use a noop\n  var insightsClient = potentialInsightsClient || _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.noop;\n  return function (_ref2) {\n    var instantSearchInstance = _ref2.instantSearchInstance;\n    // remove existing default insights middleware\n    // user-provided insights middleware takes precedence\n    var existingInsightsMiddlewares = instantSearchInstance.middleware.filter(function (m) {\n      return m.instance.$$type === 'ais.insights' && m.instance.$$internal;\n    }).map(function (m) {\n      return m.creator;\n    });\n    instantSearchInstance.unuse.apply(instantSearchInstance, _toConsumableArray(existingInsightsMiddlewares));\n    var _getAppIdAndApiKey = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.getAppIdAndApiKey)(instantSearchInstance.client),\n      _getAppIdAndApiKey2 = _slicedToArray(_getAppIdAndApiKey, 2),\n      appId = _getAppIdAndApiKey2[0],\n      apiKey = _getAppIdAndApiKey2[1];\n\n    // search-insights.js also throws an error so dev-only clarification is sufficient\n     true ? (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.warning)(Boolean(appId && apiKey), 'could not extract Algolia credentials from searchClient in insights middleware.') : 0;\n    var queuedInitParams = undefined;\n    var queuedUserToken = undefined;\n    var userTokenBeforeInit = undefined;\n    var queue = insightsClient.queue;\n    if (Array.isArray(queue)) {\n      // Context: The umd build of search-insights is asynchronously loaded by the snippet.\n      //\n      // When user calls `aa('setUserToken', 'my-user-token')` before `search-insights` is loaded,\n      // ['setUserToken', 'my-user-token'] gets stored in `aa.queue`.\n      // Whenever `search-insights` is finally loaded, it will process the queue.\n      //\n      // But here's the reason why we handle it here:\n      // At this point, even though `search-insights` is not loaded yet,\n      // we still want to read the token from the queue.\n      // Otherwise, the first search call will be fired without the token.\n      var _map = ['setUserToken', 'init'].map(function (key) {\n        var _ref3 = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_4__.find)(queue.slice().reverse(), function (_ref5) {\n            var _ref6 = _slicedToArray(_ref5, 1),\n              method = _ref6[0];\n            return method === key;\n          }) || [],\n          _ref4 = _slicedToArray(_ref3, 2),\n          value = _ref4[1];\n        return value;\n      });\n      var _map2 = _slicedToArray(_map, 2);\n      queuedUserToken = _map2[0];\n      queuedInitParams = _map2[1];\n    }\n\n    // If user called `aa('setUserToken')` before creating the Insights middleware,\n    // we temporarily store the token and set it later on.\n    //\n    // Otherwise, the `init` call might override them with anonymous user token.\n    insightsClient('getUserToken', null, function (_error, userToken) {\n      userTokenBeforeInit = normalizeUserToken(userToken);\n    });\n\n    // Only `init` if the `insightsInitParams` option is passed or\n    // if the `insightsClient` version doesn't supports optional `init` calling.\n    if (insightsInitParams || !isModernInsightsClient(insightsClient)) {\n      insightsClient('init', _objectSpread({\n        appId: appId,\n        apiKey: apiKey,\n        partial: true\n      }, insightsInitParams));\n    }\n    var initialParameters;\n    var helper;\n    return {\n      $$type: 'ais.insights',\n      $$internal: $$internal,\n      $$automatic: $$automatic,\n      onStateChange: function onStateChange() {},\n      subscribe: function subscribe() {\n        if (!insightsClient.shouldAddScript) return;\n        var errorMessage = '[insights middleware]: could not load search-insights.js. Please load it manually following https://alg.li/insights-init';\n        try {\n          var script = document.createElement('script');\n          script.async = true;\n          script.src = ALGOLIA_INSIGHTS_SRC;\n          script.onerror = function () {\n            instantSearchInstance.emit('error', new Error(errorMessage));\n          };\n          document.body.appendChild(script);\n          insightsClient.shouldAddScript = false;\n        } catch (cause) {\n          insightsClient.shouldAddScript = false;\n          instantSearchInstance.emit('error', new Error(errorMessage));\n        }\n      },\n      started: function started() {\n        insightsClient('addAlgoliaAgent', 'insights-middleware');\n        helper = instantSearchInstance.mainHelper;\n        var queueAtStart = insightsClient.queue;\n        if (Array.isArray(queueAtStart)) {\n          var _map3 = ['setUserToken', 'init'].map(function (key) {\n            var _ref7 = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_4__.find)(queueAtStart.slice().reverse(), function (_ref9) {\n                var _ref0 = _slicedToArray(_ref9, 1),\n                  method = _ref0[0];\n                return method === key;\n              }) || [],\n              _ref8 = _slicedToArray(_ref7, 2),\n              value = _ref8[1];\n            return value;\n          });\n          var _map4 = _slicedToArray(_map3, 2);\n          queuedUserToken = _map4[0];\n          queuedInitParams = _map4[1];\n        }\n        initialParameters = getInitialParameters(instantSearchInstance);\n\n        // We don't want to force clickAnalytics when the insights is enabled from the search response.\n        // This means we don't enable insights for indices that don't opt in\n        if (!$$automatic) {\n          helper.overrideStateWithoutTriggeringChangeEvent(_objectSpread(_objectSpread({}, helper.state), {}, {\n            clickAnalytics: true\n          }));\n        }\n        if (!$$internal) {\n          instantSearchInstance.scheduleSearch();\n        }\n        var setUserTokenToSearch = function setUserTokenToSearch(userToken) {\n          var immediate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n          var normalizedUserToken = normalizeUserToken(userToken);\n          if (!normalizedUserToken) {\n            return;\n          }\n          var existingToken = helper.state.userToken;\n          function applyToken() {\n            helper.overrideStateWithoutTriggeringChangeEvent(_objectSpread(_objectSpread({}, helper.state), {}, {\n              userToken: normalizedUserToken\n            }));\n            if (existingToken && existingToken !== userToken) {\n              instantSearchInstance.scheduleSearch();\n            }\n          }\n\n          // Delay the token application to the next render cycle\n          if (!immediate) {\n            setTimeout(applyToken, 0);\n          } else {\n            applyToken();\n          }\n        };\n        function setUserToken(token) {\n          setUserTokenToSearch(token, true);\n          insightsClient('setUserToken', token);\n        }\n        var anonymousUserToken = undefined;\n        var anonymousTokenFromInsights = (0,_helpers_index_js__WEBPACK_IMPORTED_MODULE_5__.getInsightsAnonymousUserTokenInternal)();\n        if (anonymousTokenFromInsights) {\n          // When `aa('init', { ... })` is called, it creates an anonymous user token in cookie.\n          // We can set it as userToken on instantsearch and insights. If it's not set as an insights\n          // userToken before a sendEvent, insights automatically generates a new anonymous token,\n          // causing a state change and an unnecessary query on instantsearch.\n          anonymousUserToken = anonymousTokenFromInsights;\n        } else {\n          var token = \"anonymous-\".concat((0,_lib_utils_uuid_js__WEBPACK_IMPORTED_MODULE_6__.createUUID)());\n          anonymousUserToken = token;\n        }\n        var userTokenFromInit;\n\n        // With SSR, the token could be be set on the state. We make sure\n        // that insights is in sync with that token since, there is no\n        // insights lib on the server.\n        var tokenFromSearchParameters = initialParameters.userToken;\n\n        // When the first query is sent, the token is possibly not yet set by\n        // the insights onChange callbacks (if insights isn't yet loaded).\n        // It is explicitly being set here so that the first query has the\n        // initial tokens set and ensure a second query isn't automatically\n        // made when the onChange callback actually changes the state.\n        if (insightsInitParams !== null && insightsInitParams !== void 0 && insightsInitParams.userToken) {\n          userTokenFromInit = insightsInitParams.userToken;\n        }\n        if (userTokenFromInit) {\n          setUserToken(userTokenFromInit);\n        } else if (tokenFromSearchParameters) {\n          setUserToken(tokenFromSearchParameters);\n        } else if (userTokenBeforeInit) {\n          setUserToken(userTokenBeforeInit);\n        } else if (queuedUserToken) {\n          setUserToken(queuedUserToken);\n        } else if (anonymousUserToken) {\n          var _queuedInitParams;\n          setUserToken(anonymousUserToken);\n          if (insightsInitParams !== null && insightsInitParams !== void 0 && insightsInitParams.useCookie || (_queuedInitParams = queuedInitParams) !== null && _queuedInitParams !== void 0 && _queuedInitParams.useCookie) {\n            var _queuedInitParams2;\n            saveTokenAsCookie(anonymousUserToken, (insightsInitParams === null || insightsInitParams === void 0 ? void 0 : insightsInitParams.cookieDuration) || ((_queuedInitParams2 = queuedInitParams) === null || _queuedInitParams2 === void 0 ? void 0 : _queuedInitParams2.cookieDuration));\n          }\n        }\n\n        // This updates userToken which is set explicitly by `aa('setUserToken', userToken)`\n        insightsClient('onUserTokenChange', function (token) {\n          return setUserTokenToSearch(token, true);\n        }, {\n          immediate: true\n        });\n        var insightsClientWithLocalCredentials = insightsClient;\n        if (isModernInsightsClient(insightsClient)) {\n          insightsClientWithLocalCredentials = function insightsClientWithLocalCredentials(method, payload) {\n            var _getAppIdAndApiKey3 = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.getAppIdAndApiKey)(instantSearchInstance.client),\n              _getAppIdAndApiKey4 = _slicedToArray(_getAppIdAndApiKey3, 2),\n              latestAppId = _getAppIdAndApiKey4[0],\n              latestApiKey = _getAppIdAndApiKey4[1];\n            var extraParams = {\n              headers: {\n                'X-Algolia-Application-Id': latestAppId,\n                'X-Algolia-API-Key': latestApiKey\n              }\n            };\n\n            // @ts-ignore we are calling this only when we know that the client actually is correct\n            return insightsClient(method, payload, extraParams);\n          };\n        }\n        var viewedObjectIDs = new Set();\n        var lastQueryId;\n        instantSearchInstance.mainHelper.derivedHelpers[0].on('result', function (_ref1) {\n          var results = _ref1.results;\n          if (results && (!results.queryID || results.queryID !== lastQueryId)) {\n            lastQueryId = results.queryID;\n            viewedObjectIDs.clear();\n          }\n        });\n        instantSearchInstance.sendEventToInsights = function (event) {\n          if (onEvent) {\n            onEvent(event, insightsClientWithLocalCredentials);\n          } else if (event.insightsMethod) {\n            if (event.insightsMethod === 'viewedObjectIDs') {\n              var _payload = event.payload;\n              var difference = _payload.objectIDs.filter(function (objectID) {\n                return !viewedObjectIDs.has(objectID);\n              });\n              if (difference.length === 0) {\n                return;\n              }\n              difference.forEach(function (objectID) {\n                return viewedObjectIDs.add(objectID);\n              });\n              _payload.objectIDs = difference;\n            }\n\n            // Source is used to differentiate events sent by instantsearch from those sent manually.\n            event.payload.algoliaSource = ['instantsearch'];\n            if ($$automatic) {\n              event.payload.algoliaSource.push('instantsearch-automatic');\n            }\n            if (event.eventModifier === 'internal') {\n              event.payload.algoliaSource.push('instantsearch-internal');\n            }\n            insightsClientWithLocalCredentials(event.insightsMethod, event.payload);\n             true ? (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.warning)(Boolean(helper.state.userToken), \"\\nCannot send event to Algolia Insights because `userToken` is not set.\\n\\nSee documentation: https://www.algolia.com/doc/guides/building-search-ui/going-further/send-insights-events/js/#setting-the-usertoken\\n\") : 0;\n          } else {\n             true ? (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.warning)(false, 'Cannot send event to Algolia Insights because `insightsMethod` option is missing.') : 0;\n          }\n        };\n      },\n      unsubscribe: function unsubscribe() {\n        insightsClient('onUserTokenChange', undefined);\n        instantSearchInstance.sendEventToInsights = _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.noop;\n        if (helper && initialParameters) {\n          helper.overrideStateWithoutTriggeringChangeEvent(_objectSpread(_objectSpread({}, helper.state), initialParameters));\n          instantSearchInstance.scheduleSearch();\n        }\n      }\n    };\n  };\n}\nfunction getInitialParameters(instantSearchInstance) {\n  var _instantSearchInstanc, _instantSearchInstanc2;\n  // in SSR, the initial state we use in this domain is set on the main index\n  var stateFromInitialResults = ((_instantSearchInstanc = instantSearchInstance._initialResults) === null || _instantSearchInstanc === void 0 ? void 0 : (_instantSearchInstanc2 = _instantSearchInstanc[instantSearchInstance.indexName]) === null || _instantSearchInstanc2 === void 0 ? void 0 : _instantSearchInstanc2.state) || {};\n  var stateFromHelper = instantSearchInstance.mainHelper.state;\n  return {\n    userToken: stateFromInitialResults.userToken || stateFromHelper.userToken,\n    clickAnalytics: stateFromInitialResults.clickAnalytics || stateFromHelper.clickAnalytics\n  };\n}\nfunction saveTokenAsCookie(token, cookieDuration) {\n  var MONTH = 30 * 24 * 60 * 60 * 1000;\n  var d = new Date();\n  d.setTime(d.getTime() + (cookieDuration || MONTH * 6));\n  var expires = \"expires=\".concat(d.toUTCString());\n  document.cookie = \"_ALGOLIA=\".concat(token, \";\").concat(expires, \";path=/\");\n}\n\n/**\n * Determines if a given insights `client` supports the optional call to `init`\n * and the ability to set credentials via extra parameters when sending events.\n */\nfunction isModernInsightsClient(client) {\n  var _split$map = (client.version || '').split('.').map(Number),\n    _split$map2 = _slicedToArray(_split$map, 2),\n    major = _split$map2[0],\n    minor = _split$map2[1];\n\n  /* eslint-disable @typescript-eslint/naming-convention */\n  var v3 = major >= 3;\n  var v2_6 = major === 2 && minor >= 6;\n  var v1_10 = major === 1 && minor >= 10;\n  /* eslint-enable @typescript-eslint/naming-convention */\n\n  return v3 || v2_6 || v1_10;\n}\n\n/**\n * While `search-insights` supports both string and number user tokens,\n * the Search API only accepts strings. This function normalizes the user token.\n */\nfunction normalizeUserToken(userToken) {\n  if (!userToken) {\n    return undefined;\n  }\n  return typeof userToken === 'number' ? userToken.toString() : userToken;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9taWRkbGV3YXJlcy9jcmVhdGVJbnNpZ2h0c01pZGRsZXdhcmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxzQkFBc0IsMkJBQTJCLG9HQUFvRyxtQkFBbUIsaUJBQWlCLHNIQUFzSDtBQUMvUyx5QkFBeUIsd0JBQXdCLG9DQUFvQyx5Q0FBeUMsa0NBQWtDLDBEQUEwRCwwQkFBMEI7QUFDcFAsNEJBQTRCLGdCQUFnQixzQkFBc0IsT0FBTyxrREFBa0Qsc0RBQXNELDhCQUE4QixtSkFBbUoscUVBQXFFLEtBQUs7QUFDNWEsb0NBQW9DLG9FQUFvRSwwREFBMEQ7QUFDbEssNkJBQTZCLG1DQUFtQztBQUNoRSw4QkFBOEIsNENBQTRDLCtCQUErQixvQkFBb0IsbUNBQW1DLHNDQUFzQyx1RUFBdUU7QUFDN1EsZ0NBQWdDO0FBQ2hDLDhCQUE4QjtBQUM5Qix1Q0FBdUMsa0dBQWtHLGlCQUFpQix3Q0FBd0MsTUFBTSx5Q0FBeUMsNkJBQTZCLFVBQVUsWUFBWSxrRUFBa0UsV0FBVyxZQUFZLGlCQUFpQixVQUFVLE1BQU0sMkVBQTJFLFVBQVUsb0JBQW9CO0FBQ3ZnQiw4QkFBOEI7QUFDOUIsaUNBQWlDO0FBQ2pDLGdDQUFnQztBQUNoQyw2Q0FBNkMsU0FBUywwREFBMEQsVUFBVSxnQ0FBZ0M7QUFDMUosK0JBQStCO0FBQy9CLGlDQUFpQztBQUNqQyxtQ0FBbUMsK0NBQStDLDhCQUE4QixPQUFPLGtCQUFrQjtBQUM3RDtBQUN1QjtBQUNqRDtBQUNsRDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksdUVBQWtCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRixhQUFhO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esa0RBQWtELHFEQUFJO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLDZCQUE2QixzRUFBaUI7QUFDOUM7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSSxLQUFzQyxHQUFHLDREQUFPLGdIQUFnSCxDQUFNO0FBQzFLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLHlEQUFJO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5REFBSTtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUZBQXlGLG1CQUFtQjtBQUM1RztBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRkFBMkYsbUJBQW1CO0FBQzlHO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLHdGQUFxQztBQUM5RTtBQUNBLGdDQUFnQyxLQUFLO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLDBDQUEwQyw4REFBVTtBQUNwRDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxzRUFBaUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksS0FBc0MsR0FBRyw0REFBTywwUEFBMFAsQ0FBTTtBQUM1VCxZQUFZO0FBQ1osWUFBWSxLQUFzQyxHQUFHLDREQUFPLCtGQUErRixDQUFNO0FBQ2pLO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLG9EQUFvRCxxREFBSTtBQUN4RDtBQUNBLHlGQUF5RjtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QscUJBQXFCO0FBQ3JFOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGVjLWxvZ2ljLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2luc3RhbnRzZWFyY2guanMvZXMvbWlkZGxld2FyZXMvY3JlYXRlSW5zaWdodHNNaWRkbGV3YXJlLmpzPzdhMmYiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5mdW5jdGlvbiBfc2xpY2VkVG9BcnJheShyLCBlKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMocikgfHwgX2l0ZXJhYmxlVG9BcnJheUxpbWl0KHIsIGUpIHx8IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBlKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVJlc3QoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChyLCBsKSB7IHZhciB0ID0gbnVsbCA9PSByID8gbnVsbCA6IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiByW1N5bWJvbC5pdGVyYXRvcl0gfHwgcltcIkBAaXRlcmF0b3JcIl07IGlmIChudWxsICE9IHQpIHsgdmFyIGUsIG4sIGksIHUsIGEgPSBbXSwgZiA9ICEwLCBvID0gITE7IHRyeSB7IGlmIChpID0gKHQgPSB0LmNhbGwocikpLm5leHQsIDAgPT09IGwpIHsgaWYgKE9iamVjdCh0KSAhPT0gdCkgcmV0dXJuOyBmID0gITE7IH0gZWxzZSBmb3IgKDsgIShmID0gKGUgPSBpLmNhbGwodCkpLmRvbmUpICYmIChhLnB1c2goZS52YWx1ZSksIGEubGVuZ3RoICE9PSBsKTsgZiA9ICEwKTsgfSBjYXRjaCAocikgeyBvID0gITAsIG4gPSByOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIWYgJiYgbnVsbCAhPSB0LnJldHVybiAmJiAodSA9IHQucmV0dXJuKCksIE9iamVjdCh1KSAhPT0gdSkpIHJldHVybjsgfSBmaW5hbGx5IHsgaWYgKG8pIHRocm93IG47IH0gfSByZXR1cm4gYTsgfSB9XG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMocikgeyBpZiAoQXJyYXkuaXNBcnJheShyKSkgcmV0dXJuIHI7IH1cbmZ1bmN0aW9uIF90b0NvbnN1bWFibGVBcnJheShyKSB7IHJldHVybiBfYXJyYXlXaXRob3V0SG9sZXMocikgfHwgX2l0ZXJhYmxlVG9BcnJheShyKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkocikgfHwgX25vbkl0ZXJhYmxlU3ByZWFkKCk7IH1cbmZ1bmN0aW9uIF9ub25JdGVyYWJsZVNwcmVhZCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH1cbmZ1bmN0aW9uIF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShyLCBhKSB7IGlmIChyKSB7IGlmIChcInN0cmluZ1wiID09IHR5cGVvZiByKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkociwgYSk7IHZhciB0ID0ge30udG9TdHJpbmcuY2FsbChyKS5zbGljZSg4LCAtMSk7IHJldHVybiBcIk9iamVjdFwiID09PSB0ICYmIHIuY29uc3RydWN0b3IgJiYgKHQgPSByLmNvbnN0cnVjdG9yLm5hbWUpLCBcIk1hcFwiID09PSB0IHx8IFwiU2V0XCIgPT09IHQgPyBBcnJheS5mcm9tKHIpIDogXCJBcmd1bWVudHNcIiA9PT0gdCB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSA/IF9hcnJheUxpa2VUb0FycmF5KHIsIGEpIDogdm9pZCAwOyB9IH1cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXkocikgeyBpZiAoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgU3ltYm9sICYmIG51bGwgIT0gcltTeW1ib2wuaXRlcmF0b3JdIHx8IG51bGwgIT0gcltcIkBAaXRlcmF0b3JcIl0pIHJldHVybiBBcnJheS5mcm9tKHIpOyB9XG5mdW5jdGlvbiBfYXJyYXlXaXRob3V0SG9sZXMocikgeyBpZiAoQXJyYXkuaXNBcnJheShyKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIpOyB9XG5mdW5jdGlvbiBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSB7IChudWxsID09IGEgfHwgYSA+IHIubGVuZ3RoKSAmJiAoYSA9IHIubGVuZ3RoKTsgZm9yICh2YXIgZSA9IDAsIG4gPSBBcnJheShhKTsgZSA8IGE7IGUrKykgbltlXSA9IHJbZV07IHJldHVybiBuOyB9XG5pbXBvcnQgeyBnZXRJbnNpZ2h0c0Fub255bW91c1VzZXJUb2tlbkludGVybmFsIH0gZnJvbSBcIi4uL2hlbHBlcnMvaW5kZXguanNcIjtcbmltcG9ydCB7IHdhcm5pbmcsIG5vb3AsIGdldEFwcElkQW5kQXBpS2V5LCBmaW5kLCBzYWZlbHlSdW5PbkJyb3dzZXIgfSBmcm9tIFwiLi4vbGliL3V0aWxzL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVVVUlEIH0gZnJvbSBcIi4uL2xpYi91dGlscy91dWlkLmpzXCI7XG52YXIgQUxHT0xJQV9JTlNJR0hUU19WRVJTSU9OID0gJzIuMTcuMic7XG52YXIgQUxHT0xJQV9JTlNJR0hUU19TUkMgPSBcImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vc2VhcmNoLWluc2lnaHRzQFwiLmNvbmNhdChBTEdPTElBX0lOU0lHSFRTX1ZFUlNJT04sIFwiL2Rpc3Qvc2VhcmNoLWluc2lnaHRzLm1pbi5qc1wiKTtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnNpZ2h0c01pZGRsZXdhcmUoKSB7XG4gIHZhciBwcm9wcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gIHZhciBfaW5zaWdodHNDbGllbnQgPSBwcm9wcy5pbnNpZ2h0c0NsaWVudCxcbiAgICBpbnNpZ2h0c0luaXRQYXJhbXMgPSBwcm9wcy5pbnNpZ2h0c0luaXRQYXJhbXMsXG4gICAgb25FdmVudCA9IHByb3BzLm9uRXZlbnQsXG4gICAgX3Byb3BzJCQkaW50ZXJuYWwgPSBwcm9wcy4kJGludGVybmFsLFxuICAgICQkaW50ZXJuYWwgPSBfcHJvcHMkJCRpbnRlcm5hbCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcHJvcHMkJCRpbnRlcm5hbCxcbiAgICBfcHJvcHMkJCRhdXRvbWF0aWMgPSBwcm9wcy4kJGF1dG9tYXRpYyxcbiAgICAkJGF1dG9tYXRpYyA9IF9wcm9wcyQkJGF1dG9tYXRpYyA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcHJvcHMkJCRhdXRvbWF0aWM7XG4gIHZhciBwb3RlbnRpYWxJbnNpZ2h0c0NsaWVudCA9IF9pbnNpZ2h0c0NsaWVudDtcbiAgaWYgKCFfaW5zaWdodHNDbGllbnQgJiYgX2luc2lnaHRzQ2xpZW50ICE9PSBudWxsKSB7XG4gICAgc2FmZWx5UnVuT25Ccm93c2VyKGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICB2YXIgd2luZG93ID0gX3JlZi53aW5kb3c7XG4gICAgICB2YXIgcG9pbnRlciA9IHdpbmRvdy5BbGdvbGlhQW5hbHl0aWNzT2JqZWN0IHx8ICdhYSc7XG4gICAgICBpZiAodHlwZW9mIHBvaW50ZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHBvdGVudGlhbEluc2lnaHRzQ2xpZW50ID0gd2luZG93W3BvaW50ZXJdO1xuICAgICAgfVxuICAgICAgaWYgKCFwb3RlbnRpYWxJbnNpZ2h0c0NsaWVudCkge1xuICAgICAgICB3aW5kb3cuQWxnb2xpYUFuYWx5dGljc09iamVjdCA9IHBvaW50ZXI7XG4gICAgICAgIGlmICghd2luZG93W3BvaW50ZXJdKSB7XG4gICAgICAgICAgd2luZG93W3BvaW50ZXJdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF3aW5kb3dbcG9pbnRlcl0ucXVldWUpIHtcbiAgICAgICAgICAgICAgd2luZG93W3BvaW50ZXJdLnF1ZXVlID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpbmRvd1twb2ludGVyXS5xdWV1ZS5wdXNoKGFyZ3MpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgd2luZG93W3BvaW50ZXJdLnZlcnNpb24gPSBBTEdPTElBX0lOU0lHSFRTX1ZFUlNJT047XG4gICAgICAgICAgd2luZG93W3BvaW50ZXJdLnNob3VsZEFkZFNjcmlwdCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcG90ZW50aWFsSW5zaWdodHNDbGllbnQgPSB3aW5kb3dbcG9pbnRlcl07XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgLy8gaWYgc3RpbGwgbm8gaW5zaWdodHNDbGllbnQgd2FzIGZvdW5kLCB3ZSB1c2UgYSBub29wXG4gIHZhciBpbnNpZ2h0c0NsaWVudCA9IHBvdGVudGlhbEluc2lnaHRzQ2xpZW50IHx8IG5vb3A7XG4gIHJldHVybiBmdW5jdGlvbiAoX3JlZjIpIHtcbiAgICB2YXIgaW5zdGFudFNlYXJjaEluc3RhbmNlID0gX3JlZjIuaW5zdGFudFNlYXJjaEluc3RhbmNlO1xuICAgIC8vIHJlbW92ZSBleGlzdGluZyBkZWZhdWx0IGluc2lnaHRzIG1pZGRsZXdhcmVcbiAgICAvLyB1c2VyLXByb3ZpZGVkIGluc2lnaHRzIG1pZGRsZXdhcmUgdGFrZXMgcHJlY2VkZW5jZVxuICAgIHZhciBleGlzdGluZ0luc2lnaHRzTWlkZGxld2FyZXMgPSBpbnN0YW50U2VhcmNoSW5zdGFuY2UubWlkZGxld2FyZS5maWx0ZXIoZnVuY3Rpb24gKG0pIHtcbiAgICAgIHJldHVybiBtLmluc3RhbmNlLiQkdHlwZSA9PT0gJ2Fpcy5pbnNpZ2h0cycgJiYgbS5pbnN0YW5jZS4kJGludGVybmFsO1xuICAgIH0pLm1hcChmdW5jdGlvbiAobSkge1xuICAgICAgcmV0dXJuIG0uY3JlYXRvcjtcbiAgICB9KTtcbiAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2UudW51c2UuYXBwbHkoaW5zdGFudFNlYXJjaEluc3RhbmNlLCBfdG9Db25zdW1hYmxlQXJyYXkoZXhpc3RpbmdJbnNpZ2h0c01pZGRsZXdhcmVzKSk7XG4gICAgdmFyIF9nZXRBcHBJZEFuZEFwaUtleSA9IGdldEFwcElkQW5kQXBpS2V5KGluc3RhbnRTZWFyY2hJbnN0YW5jZS5jbGllbnQpLFxuICAgICAgX2dldEFwcElkQW5kQXBpS2V5MiA9IF9zbGljZWRUb0FycmF5KF9nZXRBcHBJZEFuZEFwaUtleSwgMiksXG4gICAgICBhcHBJZCA9IF9nZXRBcHBJZEFuZEFwaUtleTJbMF0sXG4gICAgICBhcGlLZXkgPSBfZ2V0QXBwSWRBbmRBcGlLZXkyWzFdO1xuXG4gICAgLy8gc2VhcmNoLWluc2lnaHRzLmpzIGFsc28gdGhyb3dzIGFuIGVycm9yIHNvIGRldi1vbmx5IGNsYXJpZmljYXRpb24gaXMgc3VmZmljaWVudFxuICAgIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAnZGV2ZWxvcG1lbnQnID8gd2FybmluZyhCb29sZWFuKGFwcElkICYmIGFwaUtleSksICdjb3VsZCBub3QgZXh0cmFjdCBBbGdvbGlhIGNyZWRlbnRpYWxzIGZyb20gc2VhcmNoQ2xpZW50IGluIGluc2lnaHRzIG1pZGRsZXdhcmUuJykgOiB2b2lkIDA7XG4gICAgdmFyIHF1ZXVlZEluaXRQYXJhbXMgPSB1bmRlZmluZWQ7XG4gICAgdmFyIHF1ZXVlZFVzZXJUb2tlbiA9IHVuZGVmaW5lZDtcbiAgICB2YXIgdXNlclRva2VuQmVmb3JlSW5pdCA9IHVuZGVmaW5lZDtcbiAgICB2YXIgcXVldWUgPSBpbnNpZ2h0c0NsaWVudC5xdWV1ZTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShxdWV1ZSkpIHtcbiAgICAgIC8vIENvbnRleHQ6IFRoZSB1bWQgYnVpbGQgb2Ygc2VhcmNoLWluc2lnaHRzIGlzIGFzeW5jaHJvbm91c2x5IGxvYWRlZCBieSB0aGUgc25pcHBldC5cbiAgICAgIC8vXG4gICAgICAvLyBXaGVuIHVzZXIgY2FsbHMgYGFhKCdzZXRVc2VyVG9rZW4nLCAnbXktdXNlci10b2tlbicpYCBiZWZvcmUgYHNlYXJjaC1pbnNpZ2h0c2AgaXMgbG9hZGVkLFxuICAgICAgLy8gWydzZXRVc2VyVG9rZW4nLCAnbXktdXNlci10b2tlbiddIGdldHMgc3RvcmVkIGluIGBhYS5xdWV1ZWAuXG4gICAgICAvLyBXaGVuZXZlciBgc2VhcmNoLWluc2lnaHRzYCBpcyBmaW5hbGx5IGxvYWRlZCwgaXQgd2lsbCBwcm9jZXNzIHRoZSBxdWV1ZS5cbiAgICAgIC8vXG4gICAgICAvLyBCdXQgaGVyZSdzIHRoZSByZWFzb24gd2h5IHdlIGhhbmRsZSBpdCBoZXJlOlxuICAgICAgLy8gQXQgdGhpcyBwb2ludCwgZXZlbiB0aG91Z2ggYHNlYXJjaC1pbnNpZ2h0c2AgaXMgbm90IGxvYWRlZCB5ZXQsXG4gICAgICAvLyB3ZSBzdGlsbCB3YW50IHRvIHJlYWQgdGhlIHRva2VuIGZyb20gdGhlIHF1ZXVlLlxuICAgICAgLy8gT3RoZXJ3aXNlLCB0aGUgZmlyc3Qgc2VhcmNoIGNhbGwgd2lsbCBiZSBmaXJlZCB3aXRob3V0IHRoZSB0b2tlbi5cbiAgICAgIHZhciBfbWFwID0gWydzZXRVc2VyVG9rZW4nLCAnaW5pdCddLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBfcmVmMyA9IGZpbmQocXVldWUuc2xpY2UoKS5yZXZlcnNlKCksIGZ1bmN0aW9uIChfcmVmNSkge1xuICAgICAgICAgICAgdmFyIF9yZWY2ID0gX3NsaWNlZFRvQXJyYXkoX3JlZjUsIDEpLFxuICAgICAgICAgICAgICBtZXRob2QgPSBfcmVmNlswXTtcbiAgICAgICAgICAgIHJldHVybiBtZXRob2QgPT09IGtleTtcbiAgICAgICAgICB9KSB8fCBbXSxcbiAgICAgICAgICBfcmVmNCA9IF9zbGljZWRUb0FycmF5KF9yZWYzLCAyKSxcbiAgICAgICAgICB2YWx1ZSA9IF9yZWY0WzFdO1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9KTtcbiAgICAgIHZhciBfbWFwMiA9IF9zbGljZWRUb0FycmF5KF9tYXAsIDIpO1xuICAgICAgcXVldWVkVXNlclRva2VuID0gX21hcDJbMF07XG4gICAgICBxdWV1ZWRJbml0UGFyYW1zID0gX21hcDJbMV07XG4gICAgfVxuXG4gICAgLy8gSWYgdXNlciBjYWxsZWQgYGFhKCdzZXRVc2VyVG9rZW4nKWAgYmVmb3JlIGNyZWF0aW5nIHRoZSBJbnNpZ2h0cyBtaWRkbGV3YXJlLFxuICAgIC8vIHdlIHRlbXBvcmFyaWx5IHN0b3JlIHRoZSB0b2tlbiBhbmQgc2V0IGl0IGxhdGVyIG9uLlxuICAgIC8vXG4gICAgLy8gT3RoZXJ3aXNlLCB0aGUgYGluaXRgIGNhbGwgbWlnaHQgb3ZlcnJpZGUgdGhlbSB3aXRoIGFub255bW91cyB1c2VyIHRva2VuLlxuICAgIGluc2lnaHRzQ2xpZW50KCdnZXRVc2VyVG9rZW4nLCBudWxsLCBmdW5jdGlvbiAoX2Vycm9yLCB1c2VyVG9rZW4pIHtcbiAgICAgIHVzZXJUb2tlbkJlZm9yZUluaXQgPSBub3JtYWxpemVVc2VyVG9rZW4odXNlclRva2VuKTtcbiAgICB9KTtcblxuICAgIC8vIE9ubHkgYGluaXRgIGlmIHRoZSBgaW5zaWdodHNJbml0UGFyYW1zYCBvcHRpb24gaXMgcGFzc2VkIG9yXG4gICAgLy8gaWYgdGhlIGBpbnNpZ2h0c0NsaWVudGAgdmVyc2lvbiBkb2Vzbid0IHN1cHBvcnRzIG9wdGlvbmFsIGBpbml0YCBjYWxsaW5nLlxuICAgIGlmIChpbnNpZ2h0c0luaXRQYXJhbXMgfHwgIWlzTW9kZXJuSW5zaWdodHNDbGllbnQoaW5zaWdodHNDbGllbnQpKSB7XG4gICAgICBpbnNpZ2h0c0NsaWVudCgnaW5pdCcsIF9vYmplY3RTcHJlYWQoe1xuICAgICAgICBhcHBJZDogYXBwSWQsXG4gICAgICAgIGFwaUtleTogYXBpS2V5LFxuICAgICAgICBwYXJ0aWFsOiB0cnVlXG4gICAgICB9LCBpbnNpZ2h0c0luaXRQYXJhbXMpKTtcbiAgICB9XG4gICAgdmFyIGluaXRpYWxQYXJhbWV0ZXJzO1xuICAgIHZhciBoZWxwZXI7XG4gICAgcmV0dXJuIHtcbiAgICAgICQkdHlwZTogJ2Fpcy5pbnNpZ2h0cycsXG4gICAgICAkJGludGVybmFsOiAkJGludGVybmFsLFxuICAgICAgJCRhdXRvbWF0aWM6ICQkYXV0b21hdGljLFxuICAgICAgb25TdGF0ZUNoYW5nZTogZnVuY3Rpb24gb25TdGF0ZUNoYW5nZSgpIHt9LFxuICAgICAgc3Vic2NyaWJlOiBmdW5jdGlvbiBzdWJzY3JpYmUoKSB7XG4gICAgICAgIGlmICghaW5zaWdodHNDbGllbnQuc2hvdWxkQWRkU2NyaXB0KSByZXR1cm47XG4gICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSAnW2luc2lnaHRzIG1pZGRsZXdhcmVdOiBjb3VsZCBub3QgbG9hZCBzZWFyY2gtaW5zaWdodHMuanMuIFBsZWFzZSBsb2FkIGl0IG1hbnVhbGx5IGZvbGxvd2luZyBodHRwczovL2FsZy5saS9pbnNpZ2h0cy1pbml0JztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgICAgc2NyaXB0LmFzeW5jID0gdHJ1ZTtcbiAgICAgICAgICBzY3JpcHQuc3JjID0gQUxHT0xJQV9JTlNJR0hUU19TUkM7XG4gICAgICAgICAgc2NyaXB0Lm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2UuZW1pdCgnZXJyb3InLCBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgICAgICAgaW5zaWdodHNDbGllbnQuc2hvdWxkQWRkU2NyaXB0ID0gZmFsc2U7XG4gICAgICAgIH0gY2F0Y2ggKGNhdXNlKSB7XG4gICAgICAgICAgaW5zaWdodHNDbGllbnQuc2hvdWxkQWRkU2NyaXB0ID0gZmFsc2U7XG4gICAgICAgICAgaW5zdGFudFNlYXJjaEluc3RhbmNlLmVtaXQoJ2Vycm9yJywgbmV3IEVycm9yKGVycm9yTWVzc2FnZSkpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc3RhcnRlZDogZnVuY3Rpb24gc3RhcnRlZCgpIHtcbiAgICAgICAgaW5zaWdodHNDbGllbnQoJ2FkZEFsZ29saWFBZ2VudCcsICdpbnNpZ2h0cy1taWRkbGV3YXJlJyk7XG4gICAgICAgIGhlbHBlciA9IGluc3RhbnRTZWFyY2hJbnN0YW5jZS5tYWluSGVscGVyO1xuICAgICAgICB2YXIgcXVldWVBdFN0YXJ0ID0gaW5zaWdodHNDbGllbnQucXVldWU7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHF1ZXVlQXRTdGFydCkpIHtcbiAgICAgICAgICB2YXIgX21hcDMgPSBbJ3NldFVzZXJUb2tlbicsICdpbml0J10ubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHZhciBfcmVmNyA9IGZpbmQocXVldWVBdFN0YXJ0LnNsaWNlKCkucmV2ZXJzZSgpLCBmdW5jdGlvbiAoX3JlZjkpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3JlZjAgPSBfc2xpY2VkVG9BcnJheShfcmVmOSwgMSksXG4gICAgICAgICAgICAgICAgICBtZXRob2QgPSBfcmVmMFswXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWV0aG9kID09PSBrZXk7XG4gICAgICAgICAgICAgIH0pIHx8IFtdLFxuICAgICAgICAgICAgICBfcmVmOCA9IF9zbGljZWRUb0FycmF5KF9yZWY3LCAyKSxcbiAgICAgICAgICAgICAgdmFsdWUgPSBfcmVmOFsxXTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB2YXIgX21hcDQgPSBfc2xpY2VkVG9BcnJheShfbWFwMywgMik7XG4gICAgICAgICAgcXVldWVkVXNlclRva2VuID0gX21hcDRbMF07XG4gICAgICAgICAgcXVldWVkSW5pdFBhcmFtcyA9IF9tYXA0WzFdO1xuICAgICAgICB9XG4gICAgICAgIGluaXRpYWxQYXJhbWV0ZXJzID0gZ2V0SW5pdGlhbFBhcmFtZXRlcnMoaW5zdGFudFNlYXJjaEluc3RhbmNlKTtcblxuICAgICAgICAvLyBXZSBkb24ndCB3YW50IHRvIGZvcmNlIGNsaWNrQW5hbHl0aWNzIHdoZW4gdGhlIGluc2lnaHRzIGlzIGVuYWJsZWQgZnJvbSB0aGUgc2VhcmNoIHJlc3BvbnNlLlxuICAgICAgICAvLyBUaGlzIG1lYW5zIHdlIGRvbid0IGVuYWJsZSBpbnNpZ2h0cyBmb3IgaW5kaWNlcyB0aGF0IGRvbid0IG9wdCBpblxuICAgICAgICBpZiAoISQkYXV0b21hdGljKSB7XG4gICAgICAgICAgaGVscGVyLm92ZXJyaWRlU3RhdGVXaXRob3V0VHJpZ2dlcmluZ0NoYW5nZUV2ZW50KF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaGVscGVyLnN0YXRlKSwge30sIHtcbiAgICAgICAgICAgIGNsaWNrQW5hbHl0aWNzOiB0cnVlXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghJCRpbnRlcm5hbCkge1xuICAgICAgICAgIGluc3RhbnRTZWFyY2hJbnN0YW5jZS5zY2hlZHVsZVNlYXJjaCgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzZXRVc2VyVG9rZW5Ub1NlYXJjaCA9IGZ1bmN0aW9uIHNldFVzZXJUb2tlblRvU2VhcmNoKHVzZXJUb2tlbikge1xuICAgICAgICAgIHZhciBpbW1lZGlhdGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuICAgICAgICAgIHZhciBub3JtYWxpemVkVXNlclRva2VuID0gbm9ybWFsaXplVXNlclRva2VuKHVzZXJUb2tlbik7XG4gICAgICAgICAgaWYgKCFub3JtYWxpemVkVXNlclRva2VuKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBleGlzdGluZ1Rva2VuID0gaGVscGVyLnN0YXRlLnVzZXJUb2tlbjtcbiAgICAgICAgICBmdW5jdGlvbiBhcHBseVRva2VuKCkge1xuICAgICAgICAgICAgaGVscGVyLm92ZXJyaWRlU3RhdGVXaXRob3V0VHJpZ2dlcmluZ0NoYW5nZUV2ZW50KF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaGVscGVyLnN0YXRlKSwge30sIHtcbiAgICAgICAgICAgICAgdXNlclRva2VuOiBub3JtYWxpemVkVXNlclRva2VuXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBpZiAoZXhpc3RpbmdUb2tlbiAmJiBleGlzdGluZ1Rva2VuICE9PSB1c2VyVG9rZW4pIHtcbiAgICAgICAgICAgICAgaW5zdGFudFNlYXJjaEluc3RhbmNlLnNjaGVkdWxlU2VhcmNoKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRGVsYXkgdGhlIHRva2VuIGFwcGxpY2F0aW9uIHRvIHRoZSBuZXh0IHJlbmRlciBjeWNsZVxuICAgICAgICAgIGlmICghaW1tZWRpYXRlKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGFwcGx5VG9rZW4sIDApO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcHBseVRva2VuKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBmdW5jdGlvbiBzZXRVc2VyVG9rZW4odG9rZW4pIHtcbiAgICAgICAgICBzZXRVc2VyVG9rZW5Ub1NlYXJjaCh0b2tlbiwgdHJ1ZSk7XG4gICAgICAgICAgaW5zaWdodHNDbGllbnQoJ3NldFVzZXJUb2tlbicsIHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYW5vbnltb3VzVXNlclRva2VuID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgYW5vbnltb3VzVG9rZW5Gcm9tSW5zaWdodHMgPSBnZXRJbnNpZ2h0c0Fub255bW91c1VzZXJUb2tlbkludGVybmFsKCk7XG4gICAgICAgIGlmIChhbm9ueW1vdXNUb2tlbkZyb21JbnNpZ2h0cykge1xuICAgICAgICAgIC8vIFdoZW4gYGFhKCdpbml0JywgeyAuLi4gfSlgIGlzIGNhbGxlZCwgaXQgY3JlYXRlcyBhbiBhbm9ueW1vdXMgdXNlciB0b2tlbiBpbiBjb29raWUuXG4gICAgICAgICAgLy8gV2UgY2FuIHNldCBpdCBhcyB1c2VyVG9rZW4gb24gaW5zdGFudHNlYXJjaCBhbmQgaW5zaWdodHMuIElmIGl0J3Mgbm90IHNldCBhcyBhbiBpbnNpZ2h0c1xuICAgICAgICAgIC8vIHVzZXJUb2tlbiBiZWZvcmUgYSBzZW5kRXZlbnQsIGluc2lnaHRzIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVzIGEgbmV3IGFub255bW91cyB0b2tlbixcbiAgICAgICAgICAvLyBjYXVzaW5nIGEgc3RhdGUgY2hhbmdlIGFuZCBhbiB1bm5lY2Vzc2FyeSBxdWVyeSBvbiBpbnN0YW50c2VhcmNoLlxuICAgICAgICAgIGFub255bW91c1VzZXJUb2tlbiA9IGFub255bW91c1Rva2VuRnJvbUluc2lnaHRzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciB0b2tlbiA9IFwiYW5vbnltb3VzLVwiLmNvbmNhdChjcmVhdGVVVUlEKCkpO1xuICAgICAgICAgIGFub255bW91c1VzZXJUb2tlbiA9IHRva2VuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1c2VyVG9rZW5Gcm9tSW5pdDtcblxuICAgICAgICAvLyBXaXRoIFNTUiwgdGhlIHRva2VuIGNvdWxkIGJlIGJlIHNldCBvbiB0aGUgc3RhdGUuIFdlIG1ha2Ugc3VyZVxuICAgICAgICAvLyB0aGF0IGluc2lnaHRzIGlzIGluIHN5bmMgd2l0aCB0aGF0IHRva2VuIHNpbmNlLCB0aGVyZSBpcyBub1xuICAgICAgICAvLyBpbnNpZ2h0cyBsaWIgb24gdGhlIHNlcnZlci5cbiAgICAgICAgdmFyIHRva2VuRnJvbVNlYXJjaFBhcmFtZXRlcnMgPSBpbml0aWFsUGFyYW1ldGVycy51c2VyVG9rZW47XG5cbiAgICAgICAgLy8gV2hlbiB0aGUgZmlyc3QgcXVlcnkgaXMgc2VudCwgdGhlIHRva2VuIGlzIHBvc3NpYmx5IG5vdCB5ZXQgc2V0IGJ5XG4gICAgICAgIC8vIHRoZSBpbnNpZ2h0cyBvbkNoYW5nZSBjYWxsYmFja3MgKGlmIGluc2lnaHRzIGlzbid0IHlldCBsb2FkZWQpLlxuICAgICAgICAvLyBJdCBpcyBleHBsaWNpdGx5IGJlaW5nIHNldCBoZXJlIHNvIHRoYXQgdGhlIGZpcnN0IHF1ZXJ5IGhhcyB0aGVcbiAgICAgICAgLy8gaW5pdGlhbCB0b2tlbnMgc2V0IGFuZCBlbnN1cmUgYSBzZWNvbmQgcXVlcnkgaXNuJ3QgYXV0b21hdGljYWxseVxuICAgICAgICAvLyBtYWRlIHdoZW4gdGhlIG9uQ2hhbmdlIGNhbGxiYWNrIGFjdHVhbGx5IGNoYW5nZXMgdGhlIHN0YXRlLlxuICAgICAgICBpZiAoaW5zaWdodHNJbml0UGFyYW1zICE9PSBudWxsICYmIGluc2lnaHRzSW5pdFBhcmFtcyAhPT0gdm9pZCAwICYmIGluc2lnaHRzSW5pdFBhcmFtcy51c2VyVG9rZW4pIHtcbiAgICAgICAgICB1c2VyVG9rZW5Gcm9tSW5pdCA9IGluc2lnaHRzSW5pdFBhcmFtcy51c2VyVG9rZW47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVzZXJUb2tlbkZyb21Jbml0KSB7XG4gICAgICAgICAgc2V0VXNlclRva2VuKHVzZXJUb2tlbkZyb21Jbml0KTtcbiAgICAgICAgfSBlbHNlIGlmICh0b2tlbkZyb21TZWFyY2hQYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgc2V0VXNlclRva2VuKHRva2VuRnJvbVNlYXJjaFBhcmFtZXRlcnMpO1xuICAgICAgICB9IGVsc2UgaWYgKHVzZXJUb2tlbkJlZm9yZUluaXQpIHtcbiAgICAgICAgICBzZXRVc2VyVG9rZW4odXNlclRva2VuQmVmb3JlSW5pdCk7XG4gICAgICAgIH0gZWxzZSBpZiAocXVldWVkVXNlclRva2VuKSB7XG4gICAgICAgICAgc2V0VXNlclRva2VuKHF1ZXVlZFVzZXJUb2tlbik7XG4gICAgICAgIH0gZWxzZSBpZiAoYW5vbnltb3VzVXNlclRva2VuKSB7XG4gICAgICAgICAgdmFyIF9xdWV1ZWRJbml0UGFyYW1zO1xuICAgICAgICAgIHNldFVzZXJUb2tlbihhbm9ueW1vdXNVc2VyVG9rZW4pO1xuICAgICAgICAgIGlmIChpbnNpZ2h0c0luaXRQYXJhbXMgIT09IG51bGwgJiYgaW5zaWdodHNJbml0UGFyYW1zICE9PSB2b2lkIDAgJiYgaW5zaWdodHNJbml0UGFyYW1zLnVzZUNvb2tpZSB8fCAoX3F1ZXVlZEluaXRQYXJhbXMgPSBxdWV1ZWRJbml0UGFyYW1zKSAhPT0gbnVsbCAmJiBfcXVldWVkSW5pdFBhcmFtcyAhPT0gdm9pZCAwICYmIF9xdWV1ZWRJbml0UGFyYW1zLnVzZUNvb2tpZSkge1xuICAgICAgICAgICAgdmFyIF9xdWV1ZWRJbml0UGFyYW1zMjtcbiAgICAgICAgICAgIHNhdmVUb2tlbkFzQ29va2llKGFub255bW91c1VzZXJUb2tlbiwgKGluc2lnaHRzSW5pdFBhcmFtcyA9PT0gbnVsbCB8fCBpbnNpZ2h0c0luaXRQYXJhbXMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGluc2lnaHRzSW5pdFBhcmFtcy5jb29raWVEdXJhdGlvbikgfHwgKChfcXVldWVkSW5pdFBhcmFtczIgPSBxdWV1ZWRJbml0UGFyYW1zKSA9PT0gbnVsbCB8fCBfcXVldWVkSW5pdFBhcmFtczIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9xdWV1ZWRJbml0UGFyYW1zMi5jb29raWVEdXJhdGlvbikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRoaXMgdXBkYXRlcyB1c2VyVG9rZW4gd2hpY2ggaXMgc2V0IGV4cGxpY2l0bHkgYnkgYGFhKCdzZXRVc2VyVG9rZW4nLCB1c2VyVG9rZW4pYFxuICAgICAgICBpbnNpZ2h0c0NsaWVudCgnb25Vc2VyVG9rZW5DaGFuZ2UnLCBmdW5jdGlvbiAodG9rZW4pIHtcbiAgICAgICAgICByZXR1cm4gc2V0VXNlclRva2VuVG9TZWFyY2godG9rZW4sIHRydWUpO1xuICAgICAgICB9LCB7XG4gICAgICAgICAgaW1tZWRpYXRlOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgaW5zaWdodHNDbGllbnRXaXRoTG9jYWxDcmVkZW50aWFscyA9IGluc2lnaHRzQ2xpZW50O1xuICAgICAgICBpZiAoaXNNb2Rlcm5JbnNpZ2h0c0NsaWVudChpbnNpZ2h0c0NsaWVudCkpIHtcbiAgICAgICAgICBpbnNpZ2h0c0NsaWVudFdpdGhMb2NhbENyZWRlbnRpYWxzID0gZnVuY3Rpb24gaW5zaWdodHNDbGllbnRXaXRoTG9jYWxDcmVkZW50aWFscyhtZXRob2QsIHBheWxvYWQpIHtcbiAgICAgICAgICAgIHZhciBfZ2V0QXBwSWRBbmRBcGlLZXkzID0gZ2V0QXBwSWRBbmRBcGlLZXkoaW5zdGFudFNlYXJjaEluc3RhbmNlLmNsaWVudCksXG4gICAgICAgICAgICAgIF9nZXRBcHBJZEFuZEFwaUtleTQgPSBfc2xpY2VkVG9BcnJheShfZ2V0QXBwSWRBbmRBcGlLZXkzLCAyKSxcbiAgICAgICAgICAgICAgbGF0ZXN0QXBwSWQgPSBfZ2V0QXBwSWRBbmRBcGlLZXk0WzBdLFxuICAgICAgICAgICAgICBsYXRlc3RBcGlLZXkgPSBfZ2V0QXBwSWRBbmRBcGlLZXk0WzFdO1xuICAgICAgICAgICAgdmFyIGV4dHJhUGFyYW1zID0ge1xuICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ1gtQWxnb2xpYS1BcHBsaWNhdGlvbi1JZCc6IGxhdGVzdEFwcElkLFxuICAgICAgICAgICAgICAgICdYLUFsZ29saWEtQVBJLUtleSc6IGxhdGVzdEFwaUtleVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIHdlIGFyZSBjYWxsaW5nIHRoaXMgb25seSB3aGVuIHdlIGtub3cgdGhhdCB0aGUgY2xpZW50IGFjdHVhbGx5IGlzIGNvcnJlY3RcbiAgICAgICAgICAgIHJldHVybiBpbnNpZ2h0c0NsaWVudChtZXRob2QsIHBheWxvYWQsIGV4dHJhUGFyYW1zKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHZhciB2aWV3ZWRPYmplY3RJRHMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHZhciBsYXN0UXVlcnlJZDtcbiAgICAgICAgaW5zdGFudFNlYXJjaEluc3RhbmNlLm1haW5IZWxwZXIuZGVyaXZlZEhlbHBlcnNbMF0ub24oJ3Jlc3VsdCcsIGZ1bmN0aW9uIChfcmVmMSkge1xuICAgICAgICAgIHZhciByZXN1bHRzID0gX3JlZjEucmVzdWx0cztcbiAgICAgICAgICBpZiAocmVzdWx0cyAmJiAoIXJlc3VsdHMucXVlcnlJRCB8fCByZXN1bHRzLnF1ZXJ5SUQgIT09IGxhc3RRdWVyeUlkKSkge1xuICAgICAgICAgICAgbGFzdFF1ZXJ5SWQgPSByZXN1bHRzLnF1ZXJ5SUQ7XG4gICAgICAgICAgICB2aWV3ZWRPYmplY3RJRHMuY2xlYXIoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2Uuc2VuZEV2ZW50VG9JbnNpZ2h0cyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIGlmIChvbkV2ZW50KSB7XG4gICAgICAgICAgICBvbkV2ZW50KGV2ZW50LCBpbnNpZ2h0c0NsaWVudFdpdGhMb2NhbENyZWRlbnRpYWxzKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50Lmluc2lnaHRzTWV0aG9kKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuaW5zaWdodHNNZXRob2QgPT09ICd2aWV3ZWRPYmplY3RJRHMnKSB7XG4gICAgICAgICAgICAgIHZhciBfcGF5bG9hZCA9IGV2ZW50LnBheWxvYWQ7XG4gICAgICAgICAgICAgIHZhciBkaWZmZXJlbmNlID0gX3BheWxvYWQub2JqZWN0SURzLmZpbHRlcihmdW5jdGlvbiAob2JqZWN0SUQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIXZpZXdlZE9iamVjdElEcy5oYXMob2JqZWN0SUQpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaWYgKGRpZmZlcmVuY2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRpZmZlcmVuY2UuZm9yRWFjaChmdW5jdGlvbiAob2JqZWN0SUQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmlld2VkT2JqZWN0SURzLmFkZChvYmplY3RJRCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBfcGF5bG9hZC5vYmplY3RJRHMgPSBkaWZmZXJlbmNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTb3VyY2UgaXMgdXNlZCB0byBkaWZmZXJlbnRpYXRlIGV2ZW50cyBzZW50IGJ5IGluc3RhbnRzZWFyY2ggZnJvbSB0aG9zZSBzZW50IG1hbnVhbGx5LlxuICAgICAgICAgICAgZXZlbnQucGF5bG9hZC5hbGdvbGlhU291cmNlID0gWydpbnN0YW50c2VhcmNoJ107XG4gICAgICAgICAgICBpZiAoJCRhdXRvbWF0aWMpIHtcbiAgICAgICAgICAgICAgZXZlbnQucGF5bG9hZC5hbGdvbGlhU291cmNlLnB1c2goJ2luc3RhbnRzZWFyY2gtYXV0b21hdGljJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXZlbnQuZXZlbnRNb2RpZmllciA9PT0gJ2ludGVybmFsJykge1xuICAgICAgICAgICAgICBldmVudC5wYXlsb2FkLmFsZ29saWFTb3VyY2UucHVzaCgnaW5zdGFudHNlYXJjaC1pbnRlcm5hbCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5zaWdodHNDbGllbnRXaXRoTG9jYWxDcmVkZW50aWFscyhldmVudC5pbnNpZ2h0c01ldGhvZCwgZXZlbnQucGF5bG9hZCk7XG4gICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IHdhcm5pbmcoQm9vbGVhbihoZWxwZXIuc3RhdGUudXNlclRva2VuKSwgXCJcXG5DYW5ub3Qgc2VuZCBldmVudCB0byBBbGdvbGlhIEluc2lnaHRzIGJlY2F1c2UgYHVzZXJUb2tlbmAgaXMgbm90IHNldC5cXG5cXG5TZWUgZG9jdW1lbnRhdGlvbjogaHR0cHM6Ly93d3cuYWxnb2xpYS5jb20vZG9jL2d1aWRlcy9idWlsZGluZy1zZWFyY2gtdWkvZ29pbmctZnVydGhlci9zZW5kLWluc2lnaHRzLWV2ZW50cy9qcy8jc2V0dGluZy10aGUtdXNlcnRva2VuXFxuXCIpIDogdm9pZCAwO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IHdhcm5pbmcoZmFsc2UsICdDYW5ub3Qgc2VuZCBldmVudCB0byBBbGdvbGlhIEluc2lnaHRzIGJlY2F1c2UgYGluc2lnaHRzTWV0aG9kYCBvcHRpb24gaXMgbWlzc2luZy4nKSA6IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgdW5zdWJzY3JpYmU6IGZ1bmN0aW9uIHVuc3Vic2NyaWJlKCkge1xuICAgICAgICBpbnNpZ2h0c0NsaWVudCgnb25Vc2VyVG9rZW5DaGFuZ2UnLCB1bmRlZmluZWQpO1xuICAgICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2Uuc2VuZEV2ZW50VG9JbnNpZ2h0cyA9IG5vb3A7XG4gICAgICAgIGlmIChoZWxwZXIgJiYgaW5pdGlhbFBhcmFtZXRlcnMpIHtcbiAgICAgICAgICBoZWxwZXIub3ZlcnJpZGVTdGF0ZVdpdGhvdXRUcmlnZ2VyaW5nQ2hhbmdlRXZlbnQoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBoZWxwZXIuc3RhdGUpLCBpbml0aWFsUGFyYW1ldGVycykpO1xuICAgICAgICAgIGluc3RhbnRTZWFyY2hJbnN0YW5jZS5zY2hlZHVsZVNlYXJjaCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGdldEluaXRpYWxQYXJhbWV0ZXJzKGluc3RhbnRTZWFyY2hJbnN0YW5jZSkge1xuICB2YXIgX2luc3RhbnRTZWFyY2hJbnN0YW5jLCBfaW5zdGFudFNlYXJjaEluc3RhbmMyO1xuICAvLyBpbiBTU1IsIHRoZSBpbml0aWFsIHN0YXRlIHdlIHVzZSBpbiB0aGlzIGRvbWFpbiBpcyBzZXQgb24gdGhlIG1haW4gaW5kZXhcbiAgdmFyIHN0YXRlRnJvbUluaXRpYWxSZXN1bHRzID0gKChfaW5zdGFudFNlYXJjaEluc3RhbmMgPSBpbnN0YW50U2VhcmNoSW5zdGFuY2UuX2luaXRpYWxSZXN1bHRzKSA9PT0gbnVsbCB8fCBfaW5zdGFudFNlYXJjaEluc3RhbmMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfaW5zdGFudFNlYXJjaEluc3RhbmMyID0gX2luc3RhbnRTZWFyY2hJbnN0YW5jW2luc3RhbnRTZWFyY2hJbnN0YW5jZS5pbmRleE5hbWVdKSA9PT0gbnVsbCB8fCBfaW5zdGFudFNlYXJjaEluc3RhbmMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfaW5zdGFudFNlYXJjaEluc3RhbmMyLnN0YXRlKSB8fCB7fTtcbiAgdmFyIHN0YXRlRnJvbUhlbHBlciA9IGluc3RhbnRTZWFyY2hJbnN0YW5jZS5tYWluSGVscGVyLnN0YXRlO1xuICByZXR1cm4ge1xuICAgIHVzZXJUb2tlbjogc3RhdGVGcm9tSW5pdGlhbFJlc3VsdHMudXNlclRva2VuIHx8IHN0YXRlRnJvbUhlbHBlci51c2VyVG9rZW4sXG4gICAgY2xpY2tBbmFseXRpY3M6IHN0YXRlRnJvbUluaXRpYWxSZXN1bHRzLmNsaWNrQW5hbHl0aWNzIHx8IHN0YXRlRnJvbUhlbHBlci5jbGlja0FuYWx5dGljc1xuICB9O1xufVxuZnVuY3Rpb24gc2F2ZVRva2VuQXNDb29raWUodG9rZW4sIGNvb2tpZUR1cmF0aW9uKSB7XG4gIHZhciBNT05USCA9IDMwICogMjQgKiA2MCAqIDYwICogMTAwMDtcbiAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICBkLnNldFRpbWUoZC5nZXRUaW1lKCkgKyAoY29va2llRHVyYXRpb24gfHwgTU9OVEggKiA2KSk7XG4gIHZhciBleHBpcmVzID0gXCJleHBpcmVzPVwiLmNvbmNhdChkLnRvVVRDU3RyaW5nKCkpO1xuICBkb2N1bWVudC5jb29raWUgPSBcIl9BTEdPTElBPVwiLmNvbmNhdCh0b2tlbiwgXCI7XCIpLmNvbmNhdChleHBpcmVzLCBcIjtwYXRoPS9cIik7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyBpZiBhIGdpdmVuIGluc2lnaHRzIGBjbGllbnRgIHN1cHBvcnRzIHRoZSBvcHRpb25hbCBjYWxsIHRvIGBpbml0YFxuICogYW5kIHRoZSBhYmlsaXR5IHRvIHNldCBjcmVkZW50aWFscyB2aWEgZXh0cmEgcGFyYW1ldGVycyB3aGVuIHNlbmRpbmcgZXZlbnRzLlxuICovXG5mdW5jdGlvbiBpc01vZGVybkluc2lnaHRzQ2xpZW50KGNsaWVudCkge1xuICB2YXIgX3NwbGl0JG1hcCA9IChjbGllbnQudmVyc2lvbiB8fCAnJykuc3BsaXQoJy4nKS5tYXAoTnVtYmVyKSxcbiAgICBfc3BsaXQkbWFwMiA9IF9zbGljZWRUb0FycmF5KF9zcGxpdCRtYXAsIDIpLFxuICAgIG1ham9yID0gX3NwbGl0JG1hcDJbMF0sXG4gICAgbWlub3IgPSBfc3BsaXQkbWFwMlsxXTtcblxuICAvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb24gKi9cbiAgdmFyIHYzID0gbWFqb3IgPj0gMztcbiAgdmFyIHYyXzYgPSBtYWpvciA9PT0gMiAmJiBtaW5vciA+PSA2O1xuICB2YXIgdjFfMTAgPSBtYWpvciA9PT0gMSAmJiBtaW5vciA+PSAxMDtcbiAgLyogZXNsaW50LWVuYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb24gKi9cblxuICByZXR1cm4gdjMgfHwgdjJfNiB8fCB2MV8xMDtcbn1cblxuLyoqXG4gKiBXaGlsZSBgc2VhcmNoLWluc2lnaHRzYCBzdXBwb3J0cyBib3RoIHN0cmluZyBhbmQgbnVtYmVyIHVzZXIgdG9rZW5zLFxuICogdGhlIFNlYXJjaCBBUEkgb25seSBhY2NlcHRzIHN0cmluZ3MuIFRoaXMgZnVuY3Rpb24gbm9ybWFsaXplcyB0aGUgdXNlciB0b2tlbi5cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplVXNlclRva2VuKHVzZXJUb2tlbikge1xuICBpZiAoIXVzZXJUb2tlbikge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbiAgcmV0dXJuIHR5cGVvZiB1c2VyVG9rZW4gPT09ICdudW1iZXInID8gdXNlclRva2VuLnRvU3RyaW5nKCkgOiB1c2VyVG9rZW47XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/middlewares/createInsightsMiddleware.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/middlewares/createMetadataMiddleware.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/middlewares/createMetadataMiddleware.js ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createMetadataMiddleware: () => (/* binding */ createMetadataMiddleware),\n/* harmony export */   isMetadataEnabled: () => (/* binding */ isMetadataEnabled)\n/* harmony export */ });\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/render-args.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/safelyRunOnBrowser.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/getAlgoliaAgent.js\");\n\nfunction extractWidgetPayload(widgets, instantSearchInstance, payload) {\n  var initOptions = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_0__.createInitArgs)(instantSearchInstance, instantSearchInstance.mainIndex, instantSearchInstance._initialUiState);\n  widgets.forEach(function (widget) {\n    var widgetParams = {};\n    if (widget.getWidgetRenderState) {\n      var renderState = widget.getWidgetRenderState(initOptions);\n      if (renderState && renderState.widgetParams) {\n        // casting, as we just earlier checked widgetParams exists, and thus an object\n        widgetParams = renderState.widgetParams;\n      }\n    }\n\n    // since we destructure in all widgets, the parameters with defaults are set to \"undefined\"\n    var params = Object.keys(widgetParams).filter(function (key) {\n      return widgetParams[key] !== undefined;\n    });\n    payload.widgets.push({\n      type: widget.$$type,\n      widgetType: widget.$$widgetType,\n      params: params\n    });\n    if (widget.$$type === 'ais.index') {\n      extractWidgetPayload(widget.getWidgets(), instantSearchInstance, payload);\n    }\n  });\n}\nfunction isMetadataEnabled() {\n  return (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.safelyRunOnBrowser)(function (_ref) {\n    var _window$navigator, _window$navigator$use;\n    var window = _ref.window;\n    return ((_window$navigator = window.navigator) === null || _window$navigator === void 0 ? void 0 : (_window$navigator$use = _window$navigator.userAgent) === null || _window$navigator$use === void 0 ? void 0 : _window$navigator$use.indexOf('Algolia Crawler')) > -1;\n  }, {\n    fallback: function fallback() {\n      return false;\n    }\n  });\n}\n\n/**\n * Exposes the metadata of mounted widgets in a custom\n * `<meta name=\"instantsearch:widgets\" />` tag. The metadata per widget is:\n * - applied parameters\n * - widget name\n * - connector name\n */\nfunction createMetadataMiddleware() {\n  var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    _ref2$$$internal = _ref2.$$internal,\n    $$internal = _ref2$$$internal === void 0 ? false : _ref2$$$internal;\n  return function (_ref3) {\n    var instantSearchInstance = _ref3.instantSearchInstance;\n    var payload = {\n      widgets: []\n    };\n    var payloadContainer = document.createElement('meta');\n    var refNode = document.querySelector('head');\n    payloadContainer.name = 'instantsearch:widgets';\n    return {\n      $$type: 'ais.metadata',\n      $$internal: $$internal,\n      onStateChange: function onStateChange() {},\n      subscribe: function subscribe() {\n        // using setTimeout here to delay extraction until widgets have been added in a tick (e.g. Vue)\n        setTimeout(function () {\n          payload.ua = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.getAlgoliaAgent)(instantSearchInstance.client);\n          extractWidgetPayload(instantSearchInstance.mainIndex.getWidgets(), instantSearchInstance, payload);\n          instantSearchInstance.middleware.forEach(function (middleware) {\n            return payload.widgets.push({\n              middleware: true,\n              type: middleware.instance.$$type,\n              internal: middleware.instance.$$internal\n            });\n          });\n          payloadContainer.content = JSON.stringify(payload);\n          refNode.appendChild(payloadContainer);\n        }, 0);\n      },\n      started: function started() {},\n      unsubscribe: function unsubscribe() {\n        payloadContainer.remove();\n      }\n    };\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9taWRkbGV3YXJlcy9jcmVhdGVNZXRhZGF0YU1pZGRsZXdhcmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBNEY7QUFDNUY7QUFDQSxvQkFBb0IsbUVBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDTztBQUNQLFNBQVMsdUVBQWtCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLG9GQUFvRjtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0VBQWU7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUCxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BlYy1sb2dpYy1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9pbnN0YW50c2VhcmNoLmpzL2VzL21pZGRsZXdhcmVzL2NyZWF0ZU1ldGFkYXRhTWlkZGxld2FyZS5qcz8wMzk4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUluaXRBcmdzLCBnZXRBbGdvbGlhQWdlbnQsIHNhZmVseVJ1bk9uQnJvd3NlciB9IGZyb20gXCIuLi9saWIvdXRpbHMvaW5kZXguanNcIjtcbmZ1bmN0aW9uIGV4dHJhY3RXaWRnZXRQYXlsb2FkKHdpZGdldHMsIGluc3RhbnRTZWFyY2hJbnN0YW5jZSwgcGF5bG9hZCkge1xuICB2YXIgaW5pdE9wdGlvbnMgPSBjcmVhdGVJbml0QXJncyhpbnN0YW50U2VhcmNoSW5zdGFuY2UsIGluc3RhbnRTZWFyY2hJbnN0YW5jZS5tYWluSW5kZXgsIGluc3RhbnRTZWFyY2hJbnN0YW5jZS5faW5pdGlhbFVpU3RhdGUpO1xuICB3aWRnZXRzLmZvckVhY2goZnVuY3Rpb24gKHdpZGdldCkge1xuICAgIHZhciB3aWRnZXRQYXJhbXMgPSB7fTtcbiAgICBpZiAod2lkZ2V0LmdldFdpZGdldFJlbmRlclN0YXRlKSB7XG4gICAgICB2YXIgcmVuZGVyU3RhdGUgPSB3aWRnZXQuZ2V0V2lkZ2V0UmVuZGVyU3RhdGUoaW5pdE9wdGlvbnMpO1xuICAgICAgaWYgKHJlbmRlclN0YXRlICYmIHJlbmRlclN0YXRlLndpZGdldFBhcmFtcykge1xuICAgICAgICAvLyBjYXN0aW5nLCBhcyB3ZSBqdXN0IGVhcmxpZXIgY2hlY2tlZCB3aWRnZXRQYXJhbXMgZXhpc3RzLCBhbmQgdGh1cyBhbiBvYmplY3RcbiAgICAgICAgd2lkZ2V0UGFyYW1zID0gcmVuZGVyU3RhdGUud2lkZ2V0UGFyYW1zO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHNpbmNlIHdlIGRlc3RydWN0dXJlIGluIGFsbCB3aWRnZXRzLCB0aGUgcGFyYW1ldGVycyB3aXRoIGRlZmF1bHRzIGFyZSBzZXQgdG8gXCJ1bmRlZmluZWRcIlxuICAgIHZhciBwYXJhbXMgPSBPYmplY3Qua2V5cyh3aWRnZXRQYXJhbXMpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG4gICAgICByZXR1cm4gd2lkZ2V0UGFyYW1zW2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBwYXlsb2FkLndpZGdldHMucHVzaCh7XG4gICAgICB0eXBlOiB3aWRnZXQuJCR0eXBlLFxuICAgICAgd2lkZ2V0VHlwZTogd2lkZ2V0LiQkd2lkZ2V0VHlwZSxcbiAgICAgIHBhcmFtczogcGFyYW1zXG4gICAgfSk7XG4gICAgaWYgKHdpZGdldC4kJHR5cGUgPT09ICdhaXMuaW5kZXgnKSB7XG4gICAgICBleHRyYWN0V2lkZ2V0UGF5bG9hZCh3aWRnZXQuZ2V0V2lkZ2V0cygpLCBpbnN0YW50U2VhcmNoSW5zdGFuY2UsIHBheWxvYWQpO1xuICAgIH1cbiAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNNZXRhZGF0YUVuYWJsZWQoKSB7XG4gIHJldHVybiBzYWZlbHlSdW5PbkJyb3dzZXIoZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgX3dpbmRvdyRuYXZpZ2F0b3IsIF93aW5kb3ckbmF2aWdhdG9yJHVzZTtcbiAgICB2YXIgd2luZG93ID0gX3JlZi53aW5kb3c7XG4gICAgcmV0dXJuICgoX3dpbmRvdyRuYXZpZ2F0b3IgPSB3aW5kb3cubmF2aWdhdG9yKSA9PT0gbnVsbCB8fCBfd2luZG93JG5hdmlnYXRvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF93aW5kb3ckbmF2aWdhdG9yJHVzZSA9IF93aW5kb3ckbmF2aWdhdG9yLnVzZXJBZ2VudCkgPT09IG51bGwgfHwgX3dpbmRvdyRuYXZpZ2F0b3IkdXNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfd2luZG93JG5hdmlnYXRvciR1c2UuaW5kZXhPZignQWxnb2xpYSBDcmF3bGVyJykpID4gLTE7XG4gIH0sIHtcbiAgICBmYWxsYmFjazogZnVuY3Rpb24gZmFsbGJhY2soKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBFeHBvc2VzIHRoZSBtZXRhZGF0YSBvZiBtb3VudGVkIHdpZGdldHMgaW4gYSBjdXN0b21cbiAqIGA8bWV0YSBuYW1lPVwiaW5zdGFudHNlYXJjaDp3aWRnZXRzXCIgLz5gIHRhZy4gVGhlIG1ldGFkYXRhIHBlciB3aWRnZXQgaXM6XG4gKiAtIGFwcGxpZWQgcGFyYW1ldGVyc1xuICogLSB3aWRnZXQgbmFtZVxuICogLSBjb25uZWN0b3IgbmFtZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWV0YWRhdGFNaWRkbGV3YXJlKCkge1xuICB2YXIgX3JlZjIgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgIF9yZWYyJCQkaW50ZXJuYWwgPSBfcmVmMi4kJGludGVybmFsLFxuICAgICQkaW50ZXJuYWwgPSBfcmVmMiQkJGludGVybmFsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYyJCQkaW50ZXJuYWw7XG4gIHJldHVybiBmdW5jdGlvbiAoX3JlZjMpIHtcbiAgICB2YXIgaW5zdGFudFNlYXJjaEluc3RhbmNlID0gX3JlZjMuaW5zdGFudFNlYXJjaEluc3RhbmNlO1xuICAgIHZhciBwYXlsb2FkID0ge1xuICAgICAgd2lkZ2V0czogW11cbiAgICB9O1xuICAgIHZhciBwYXlsb2FkQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbWV0YScpO1xuICAgIHZhciByZWZOb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZCcpO1xuICAgIHBheWxvYWRDb250YWluZXIubmFtZSA9ICdpbnN0YW50c2VhcmNoOndpZGdldHMnO1xuICAgIHJldHVybiB7XG4gICAgICAkJHR5cGU6ICdhaXMubWV0YWRhdGEnLFxuICAgICAgJCRpbnRlcm5hbDogJCRpbnRlcm5hbCxcbiAgICAgIG9uU3RhdGVDaGFuZ2U6IGZ1bmN0aW9uIG9uU3RhdGVDaGFuZ2UoKSB7fSxcbiAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24gc3Vic2NyaWJlKCkge1xuICAgICAgICAvLyB1c2luZyBzZXRUaW1lb3V0IGhlcmUgdG8gZGVsYXkgZXh0cmFjdGlvbiB1bnRpbCB3aWRnZXRzIGhhdmUgYmVlbiBhZGRlZCBpbiBhIHRpY2sgKGUuZy4gVnVlKVxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBwYXlsb2FkLnVhID0gZ2V0QWxnb2xpYUFnZW50KGluc3RhbnRTZWFyY2hJbnN0YW5jZS5jbGllbnQpO1xuICAgICAgICAgIGV4dHJhY3RXaWRnZXRQYXlsb2FkKGluc3RhbnRTZWFyY2hJbnN0YW5jZS5tYWluSW5kZXguZ2V0V2lkZ2V0cygpLCBpbnN0YW50U2VhcmNoSW5zdGFuY2UsIHBheWxvYWQpO1xuICAgICAgICAgIGluc3RhbnRTZWFyY2hJbnN0YW5jZS5taWRkbGV3YXJlLmZvckVhY2goZnVuY3Rpb24gKG1pZGRsZXdhcmUpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkLndpZGdldHMucHVzaCh7XG4gICAgICAgICAgICAgIG1pZGRsZXdhcmU6IHRydWUsXG4gICAgICAgICAgICAgIHR5cGU6IG1pZGRsZXdhcmUuaW5zdGFuY2UuJCR0eXBlLFxuICAgICAgICAgICAgICBpbnRlcm5hbDogbWlkZGxld2FyZS5pbnN0YW5jZS4kJGludGVybmFsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwYXlsb2FkQ29udGFpbmVyLmNvbnRlbnQgPSBKU09OLnN0cmluZ2lmeShwYXlsb2FkKTtcbiAgICAgICAgICByZWZOb2RlLmFwcGVuZENoaWxkKHBheWxvYWRDb250YWluZXIpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH0sXG4gICAgICBzdGFydGVkOiBmdW5jdGlvbiBzdGFydGVkKCkge30sXG4gICAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgIHBheWxvYWRDb250YWluZXIucmVtb3ZlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/middlewares/createMetadataMiddleware.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/middlewares/createRouterMiddleware.js":
/*!********************************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/middlewares/createRouterMiddleware.js ***!
  \********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createRouterMiddleware: () => (/* binding */ createRouterMiddleware)\n/* harmony export */ });\n/* harmony import */ var _lib_routers_history_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/routers/history.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/routers/history.js\");\n/* harmony import */ var _lib_stateMappings_simple_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../lib/stateMappings/simple.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/stateMappings/simple.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/isEqual.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/logger.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\n\n\nvar createRouterMiddleware = function createRouterMiddleware() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _props$router = props.router,\n    router = _props$router === void 0 ? (0,_lib_routers_history_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])() : _props$router,\n    _props$stateMapping = props.stateMapping,\n    stateMapping = _props$stateMapping === void 0 ? (0,_lib_stateMappings_simple_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])() : _props$stateMapping,\n    _props$$$internal = props.$$internal,\n    $$internal = _props$$$internal === void 0 ? false : _props$$$internal;\n  return function (_ref) {\n    var instantSearchInstance = _ref.instantSearchInstance;\n    function topLevelCreateURL(nextState) {\n      var previousUiState =\n      // If only the mainIndex is initialized, we don't yet know what other\n      // index widgets are used. Therefore we fall back to the initialUiState.\n      // We can't indiscriminately use the initialUiState because then we\n      // reintroduce state that was changed by the user.\n      // When there are no widgets, we are sure the user can't yet have made\n      // any changes.\n      instantSearchInstance.mainIndex.getWidgets().length === 0 ? instantSearchInstance._initialUiState : instantSearchInstance.mainIndex.getWidgetUiState({});\n      var uiState = Object.keys(nextState).reduce(function (acc, indexId) {\n        return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, indexId, nextState[indexId]));\n      }, previousUiState);\n      var route = stateMapping.stateToRoute(uiState);\n      return router.createURL(route);\n    }\n\n    // casting to UiState here to keep createURL unaware of custom UiState\n    // (as long as it's an object, it's ok)\n    instantSearchInstance._createURL = topLevelCreateURL;\n    var lastRouteState = undefined;\n    var initialUiState = instantSearchInstance._initialUiState;\n    return {\n      $$type: \"ais.router({router:\".concat(router.$$type || '__unknown__', \", stateMapping:\").concat(stateMapping.$$type || '__unknown__', \"})\"),\n      $$internal: $$internal,\n      onStateChange: function onStateChange(_ref2) {\n        var uiState = _ref2.uiState;\n        var routeState = stateMapping.stateToRoute(uiState);\n        if (lastRouteState === undefined || !(0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.isEqual)(lastRouteState, routeState)) {\n          router.write(routeState);\n          lastRouteState = routeState;\n        }\n      },\n      subscribe: function subscribe() {\n         true ? (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.warning)(Object.keys(initialUiState).length === 0, 'Using `initialUiState` together with routing is not recommended. The `initialUiState` will be overwritten by the URL parameters.') : 0;\n        instantSearchInstance._initialUiState = _objectSpread(_objectSpread({}, initialUiState), stateMapping.routeToState(router.read()));\n        router.onUpdate(function (route) {\n          if (instantSearchInstance.mainIndex.getWidgets().length > 0) {\n            instantSearchInstance.setUiState(stateMapping.routeToState(route));\n          }\n        });\n      },\n      started: function started() {\n        var _router$start;\n        (_router$start = router.start) === null || _router$start === void 0 ? void 0 : _router$start.call(router);\n      },\n      unsubscribe: function unsubscribe() {\n        router.dispose();\n      }\n    };\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9taWRkbGV3YXJlcy9jcmVhdGVSb3V0ZXJNaWRkbGV3YXJlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1MseUJBQXlCLHdCQUF3QixvQ0FBb0MseUNBQXlDLGtDQUFrQywwREFBMEQsMEJBQTBCO0FBQ3BQLDRCQUE0QixnQkFBZ0Isc0JBQXNCLE9BQU8sa0RBQWtELHNEQUFzRCw4QkFBOEIsbUpBQW1KLHFFQUFxRSxLQUFLO0FBQzVhLG9DQUFvQyxvRUFBb0UsMERBQTBEO0FBQ2xLLDZCQUE2QixtQ0FBbUM7QUFDaEUsOEJBQThCLDRDQUE0QywrQkFBK0Isb0JBQW9CLG1DQUFtQyxzQ0FBc0MsdUVBQXVFO0FBQ3ZOO0FBQ1U7QUFDUDtBQUNsRDtBQUNQO0FBQ0E7QUFDQSx3Q0FBd0MsbUVBQWE7QUFDckQ7QUFDQSxvREFBb0Qsd0VBQWtCO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZKQUE2SjtBQUM3SjtBQUNBLDZDQUE2QyxVQUFVLG9CQUFvQjtBQUMzRSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixrSEFBa0g7QUFDN0k7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsNERBQU87QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsUUFBUSxLQUFzQyxHQUFHLDREQUFPLGlMQUFpTCxDQUFNO0FBQy9PLDhFQUE4RTtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3NwZWMtbG9naWMtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy9taWRkbGV3YXJlcy9jcmVhdGVSb3V0ZXJNaWRkbGV3YXJlLmpzP2YxNjkiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gX3R5cGVvZihvKSB7IFwiQGJhYmVsL2hlbHBlcnMgLSB0eXBlb2ZcIjsgcmV0dXJuIF90eXBlb2YgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBcInN5bWJvbFwiID09IHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPyBmdW5jdGlvbiAobykgeyByZXR1cm4gdHlwZW9mIG87IH0gOiBmdW5jdGlvbiAobykgeyByZXR1cm4gbyAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIFN5bWJvbCAmJiBvLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgbyAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2YgbzsgfSwgX3R5cGVvZihvKTsgfVxuZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5pbXBvcnQgaGlzdG9yeVJvdXRlciBmcm9tIFwiLi4vbGliL3JvdXRlcnMvaGlzdG9yeS5qc1wiO1xuaW1wb3J0IHNpbXBsZVN0YXRlTWFwcGluZyBmcm9tIFwiLi4vbGliL3N0YXRlTWFwcGluZ3Mvc2ltcGxlLmpzXCI7XG5pbXBvcnQgeyBpc0VxdWFsLCB3YXJuaW5nIH0gZnJvbSBcIi4uL2xpYi91dGlscy9pbmRleC5qc1wiO1xuZXhwb3J0IHZhciBjcmVhdGVSb3V0ZXJNaWRkbGV3YXJlID0gZnVuY3Rpb24gY3JlYXRlUm91dGVyTWlkZGxld2FyZSgpIHtcbiAgdmFyIHByb3BzID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB7fTtcbiAgdmFyIF9wcm9wcyRyb3V0ZXIgPSBwcm9wcy5yb3V0ZXIsXG4gICAgcm91dGVyID0gX3Byb3BzJHJvdXRlciA9PT0gdm9pZCAwID8gaGlzdG9yeVJvdXRlcigpIDogX3Byb3BzJHJvdXRlcixcbiAgICBfcHJvcHMkc3RhdGVNYXBwaW5nID0gcHJvcHMuc3RhdGVNYXBwaW5nLFxuICAgIHN0YXRlTWFwcGluZyA9IF9wcm9wcyRzdGF0ZU1hcHBpbmcgPT09IHZvaWQgMCA/IHNpbXBsZVN0YXRlTWFwcGluZygpIDogX3Byb3BzJHN0YXRlTWFwcGluZyxcbiAgICBfcHJvcHMkJCRpbnRlcm5hbCA9IHByb3BzLiQkaW50ZXJuYWwsXG4gICAgJCRpbnRlcm5hbCA9IF9wcm9wcyQkJGludGVybmFsID09PSB2b2lkIDAgPyBmYWxzZSA6IF9wcm9wcyQkJGludGVybmFsO1xuICByZXR1cm4gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgaW5zdGFudFNlYXJjaEluc3RhbmNlID0gX3JlZi5pbnN0YW50U2VhcmNoSW5zdGFuY2U7XG4gICAgZnVuY3Rpb24gdG9wTGV2ZWxDcmVhdGVVUkwobmV4dFN0YXRlKSB7XG4gICAgICB2YXIgcHJldmlvdXNVaVN0YXRlID1cbiAgICAgIC8vIElmIG9ubHkgdGhlIG1haW5JbmRleCBpcyBpbml0aWFsaXplZCwgd2UgZG9uJ3QgeWV0IGtub3cgd2hhdCBvdGhlclxuICAgICAgLy8gaW5kZXggd2lkZ2V0cyBhcmUgdXNlZC4gVGhlcmVmb3JlIHdlIGZhbGwgYmFjayB0byB0aGUgaW5pdGlhbFVpU3RhdGUuXG4gICAgICAvLyBXZSBjYW4ndCBpbmRpc2NyaW1pbmF0ZWx5IHVzZSB0aGUgaW5pdGlhbFVpU3RhdGUgYmVjYXVzZSB0aGVuIHdlXG4gICAgICAvLyByZWludHJvZHVjZSBzdGF0ZSB0aGF0IHdhcyBjaGFuZ2VkIGJ5IHRoZSB1c2VyLlxuICAgICAgLy8gV2hlbiB0aGVyZSBhcmUgbm8gd2lkZ2V0cywgd2UgYXJlIHN1cmUgdGhlIHVzZXIgY2FuJ3QgeWV0IGhhdmUgbWFkZVxuICAgICAgLy8gYW55IGNoYW5nZXMuXG4gICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2UubWFpbkluZGV4LmdldFdpZGdldHMoKS5sZW5ndGggPT09IDAgPyBpbnN0YW50U2VhcmNoSW5zdGFuY2UuX2luaXRpYWxVaVN0YXRlIDogaW5zdGFudFNlYXJjaEluc3RhbmNlLm1haW5JbmRleC5nZXRXaWRnZXRVaVN0YXRlKHt9KTtcbiAgICAgIHZhciB1aVN0YXRlID0gT2JqZWN0LmtleXMobmV4dFN0YXRlKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgaW5kZXhJZCkge1xuICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBhY2MpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBpbmRleElkLCBuZXh0U3RhdGVbaW5kZXhJZF0pKTtcbiAgICAgIH0sIHByZXZpb3VzVWlTdGF0ZSk7XG4gICAgICB2YXIgcm91dGUgPSBzdGF0ZU1hcHBpbmcuc3RhdGVUb1JvdXRlKHVpU3RhdGUpO1xuICAgICAgcmV0dXJuIHJvdXRlci5jcmVhdGVVUkwocm91dGUpO1xuICAgIH1cblxuICAgIC8vIGNhc3RpbmcgdG8gVWlTdGF0ZSBoZXJlIHRvIGtlZXAgY3JlYXRlVVJMIHVuYXdhcmUgb2YgY3VzdG9tIFVpU3RhdGVcbiAgICAvLyAoYXMgbG9uZyBhcyBpdCdzIGFuIG9iamVjdCwgaXQncyBvaylcbiAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2UuX2NyZWF0ZVVSTCA9IHRvcExldmVsQ3JlYXRlVVJMO1xuICAgIHZhciBsYXN0Um91dGVTdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgaW5pdGlhbFVpU3RhdGUgPSBpbnN0YW50U2VhcmNoSW5zdGFuY2UuX2luaXRpYWxVaVN0YXRlO1xuICAgIHJldHVybiB7XG4gICAgICAkJHR5cGU6IFwiYWlzLnJvdXRlcih7cm91dGVyOlwiLmNvbmNhdChyb3V0ZXIuJCR0eXBlIHx8ICdfX3Vua25vd25fXycsIFwiLCBzdGF0ZU1hcHBpbmc6XCIpLmNvbmNhdChzdGF0ZU1hcHBpbmcuJCR0eXBlIHx8ICdfX3Vua25vd25fXycsIFwifSlcIiksXG4gICAgICAkJGludGVybmFsOiAkJGludGVybmFsLFxuICAgICAgb25TdGF0ZUNoYW5nZTogZnVuY3Rpb24gb25TdGF0ZUNoYW5nZShfcmVmMikge1xuICAgICAgICB2YXIgdWlTdGF0ZSA9IF9yZWYyLnVpU3RhdGU7XG4gICAgICAgIHZhciByb3V0ZVN0YXRlID0gc3RhdGVNYXBwaW5nLnN0YXRlVG9Sb3V0ZSh1aVN0YXRlKTtcbiAgICAgICAgaWYgKGxhc3RSb3V0ZVN0YXRlID09PSB1bmRlZmluZWQgfHwgIWlzRXF1YWwobGFzdFJvdXRlU3RhdGUsIHJvdXRlU3RhdGUpKSB7XG4gICAgICAgICAgcm91dGVyLndyaXRlKHJvdXRlU3RhdGUpO1xuICAgICAgICAgIGxhc3RSb3V0ZVN0YXRlID0gcm91dGVTdGF0ZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHN1YnNjcmliZTogZnVuY3Rpb24gc3Vic2NyaWJlKCkge1xuICAgICAgICBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyA/IHdhcm5pbmcoT2JqZWN0LmtleXMoaW5pdGlhbFVpU3RhdGUpLmxlbmd0aCA9PT0gMCwgJ1VzaW5nIGBpbml0aWFsVWlTdGF0ZWAgdG9nZXRoZXIgd2l0aCByb3V0aW5nIGlzIG5vdCByZWNvbW1lbmRlZC4gVGhlIGBpbml0aWFsVWlTdGF0ZWAgd2lsbCBiZSBvdmVyd3JpdHRlbiBieSB0aGUgVVJMIHBhcmFtZXRlcnMuJykgOiB2b2lkIDA7XG4gICAgICAgIGluc3RhbnRTZWFyY2hJbnN0YW5jZS5faW5pdGlhbFVpU3RhdGUgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGluaXRpYWxVaVN0YXRlKSwgc3RhdGVNYXBwaW5nLnJvdXRlVG9TdGF0ZShyb3V0ZXIucmVhZCgpKSk7XG4gICAgICAgIHJvdXRlci5vblVwZGF0ZShmdW5jdGlvbiAocm91dGUpIHtcbiAgICAgICAgICBpZiAoaW5zdGFudFNlYXJjaEluc3RhbmNlLm1haW5JbmRleC5nZXRXaWRnZXRzKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaW5zdGFudFNlYXJjaEluc3RhbmNlLnNldFVpU3RhdGUoc3RhdGVNYXBwaW5nLnJvdXRlVG9TdGF0ZShyb3V0ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgc3RhcnRlZDogZnVuY3Rpb24gc3RhcnRlZCgpIHtcbiAgICAgICAgdmFyIF9yb3V0ZXIkc3RhcnQ7XG4gICAgICAgIChfcm91dGVyJHN0YXJ0ID0gcm91dGVyLnN0YXJ0KSA9PT0gbnVsbCB8fCBfcm91dGVyJHN0YXJ0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcm91dGVyJHN0YXJ0LmNhbGwocm91dGVyKTtcbiAgICAgIH0sXG4gICAgICB1bnN1YnNjcmliZTogZnVuY3Rpb24gdW5zdWJzY3JpYmUoKSB7XG4gICAgICAgIHJvdXRlci5kaXNwb3NlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn07Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/middlewares/createRouterMiddleware.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/instantsearch.js/es/widgets/index/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/instantsearch.js/es/widgets/index/index.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var algoliasearch_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! algoliasearch-helper */ \"(ssr)/./node_modules/algoliasearch-helper/index.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/documentation.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/isIndexWidget.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/defer.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/render-args.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/mergeSearchParameters.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/resolveSearchParameters.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/checkIndexUiState.js\");\n/* harmony import */ var _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../lib/utils/index.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/logger.js\");\n/* harmony import */ var _lib_utils_addWidgetId_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../lib/utils/addWidgetId.js */ \"(ssr)/./node_modules/instantsearch.js/es/lib/utils/addWidgetId.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nvar _excluded = [\"initialSearchParameters\"],\n  _excluded2 = [\"initialRecommendParameters\"];\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var n = Object.getOwnPropertySymbols(e); for (r = 0; r < n.length; r++) o = n[r], -1 === t.indexOf(o) && {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (-1 !== e.indexOf(n)) continue; t[n] = r[n]; } return t; }\n\n\n\nvar withUsage = (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.createDocumentationMessageGenerator)({\n  name: 'index-widget'\n});\n/**\n * This is the same content as helper._change / setState, but allowing for extra\n * UiState to be synchronized.\n * see: https://github.com/algolia/algoliasearch-helper-js/blob/6b835ffd07742f2d6b314022cce6848f5cfecd4a/src/algoliasearch.helper.js#L1311-L1324\n */\nfunction privateHelperSetState(helper, _ref) {\n  var state = _ref.state,\n    recommendState = _ref.recommendState,\n    isPageReset = _ref.isPageReset,\n    _uiState = _ref._uiState;\n  if (state !== helper.state) {\n    helper.state = state;\n    helper.emit('change', {\n      state: helper.state,\n      results: helper.lastResults,\n      isPageReset: isPageReset,\n      _uiState: _uiState\n    });\n  }\n  if (recommendState !== helper.recommendState) {\n    helper.recommendState = recommendState;\n\n    // eslint-disable-next-line no-warning-comments\n    // TODO: emit \"change\" event when events for Recommend are implemented\n  }\n}\nfunction getLocalWidgetsUiState(widgets, widgetStateOptions) {\n  var initialUiState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return widgets.reduce(function (uiState, widget) {\n    if ((0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.isIndexWidget)(widget)) {\n      return uiState;\n    }\n    if (!widget.getWidgetUiState && !widget.getWidgetState) {\n      return uiState;\n    }\n    if (widget.getWidgetUiState) {\n      return widget.getWidgetUiState(uiState, widgetStateOptions);\n    }\n    return widget.getWidgetState(uiState, widgetStateOptions);\n  }, initialUiState);\n}\nfunction getLocalWidgetsSearchParameters(widgets, widgetSearchParametersOptions) {\n  var initialSearchParameters = widgetSearchParametersOptions.initialSearchParameters,\n    rest = _objectWithoutProperties(widgetSearchParametersOptions, _excluded);\n  return widgets.reduce(function (state, widget) {\n    if (!widget.getWidgetSearchParameters || (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.isIndexWidget)(widget)) {\n      return state;\n    }\n    if (widget.dependsOn === 'search' && widget.getWidgetParameters) {\n      return widget.getWidgetParameters(state, rest);\n    }\n    return widget.getWidgetSearchParameters(state, rest);\n  }, initialSearchParameters);\n}\nfunction getLocalWidgetsRecommendParameters(widgets, widgetRecommendParametersOptions) {\n  var initialRecommendParameters = widgetRecommendParametersOptions.initialRecommendParameters,\n    rest = _objectWithoutProperties(widgetRecommendParametersOptions, _excluded2);\n  return widgets.reduce(function (state, widget) {\n    if (!(0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.isIndexWidget)(widget) && widget.dependsOn === 'recommend' && widget.getWidgetParameters) {\n      return widget.getWidgetParameters(state, rest);\n    }\n    return state;\n  }, initialRecommendParameters);\n}\nfunction resetPageFromWidgets(widgets) {\n  var indexWidgets = widgets.filter(_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.isIndexWidget);\n  if (indexWidgets.length === 0) {\n    return;\n  }\n  indexWidgets.forEach(function (widget) {\n    var widgetHelper = widget.getHelper();\n    privateHelperSetState(widgetHelper, {\n      state: widgetHelper.state.resetPage(),\n      recommendState: widgetHelper.recommendState,\n      isPageReset: true\n    });\n    resetPageFromWidgets(widget.getWidgets());\n  });\n}\nfunction resolveScopedResultsFromWidgets(widgets) {\n  var indexWidgets = widgets.filter(_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.isIndexWidget);\n  return indexWidgets.reduce(function (scopedResults, current) {\n    return scopedResults.concat.apply(scopedResults, [{\n      indexId: current.getIndexId(),\n      results: current.getResults(),\n      helper: current.getHelper()\n    }].concat(_toConsumableArray(resolveScopedResultsFromWidgets(current.getWidgets()))));\n  }, []);\n}\nvar index = function index(widgetParams) {\n  if (widgetParams === undefined || widgetParams.indexName === undefined && !widgetParams.EXPERIMENTAL_isolated) {\n    throw new Error(withUsage('The `indexName` option is required.'));\n  }\n\n  // When isolated=true, we use an empty string as the default indexName.\n  // This is intentional: isolated indices do not require a real index name.\n  var _widgetParams$indexNa = widgetParams.indexName,\n    indexName = _widgetParams$indexNa === void 0 ? '' : _widgetParams$indexNa,\n    _widgetParams$indexId = widgetParams.indexId,\n    indexId = _widgetParams$indexId === void 0 ? indexName : _widgetParams$indexId,\n    _widgetParams$EXPERIM = widgetParams.EXPERIMENTAL_isolated,\n    isolated = _widgetParams$EXPERIM === void 0 ? false : _widgetParams$EXPERIM;\n  var localWidgets = [];\n  var localUiState = {};\n  var localInstantSearchInstance = null;\n  var localParent = null;\n  var helper = null;\n  var derivedHelper = null;\n  var lastValidSearchParameters = null;\n  var hasRecommendWidget = false;\n  var hasSearchWidget = false;\n  return {\n    $$type: 'ais.index',\n    $$widgetType: 'ais.index',\n    _isolated: isolated,\n    getIndexName: function getIndexName() {\n      return indexName;\n    },\n    getIndexId: function getIndexId() {\n      return indexId;\n    },\n    getHelper: function getHelper() {\n      return helper;\n    },\n    getResults: function getResults() {\n      var _derivedHelper;\n      if (!((_derivedHelper = derivedHelper) !== null && _derivedHelper !== void 0 && _derivedHelper.lastResults)) return null;\n\n      // To make the UI optimistic, we patch the state to display to the current\n      // one instead of the one associated with the latest results.\n      // This means user-driven UI changes (e.g., checked checkbox) are reflected\n      // immediately instead of waiting for Algolia to respond, regardless of\n      // the status of the network request.\n      derivedHelper.lastResults._state = helper.state;\n      return derivedHelper.lastResults;\n    },\n    getResultsForWidget: function getResultsForWidget(widget) {\n      var _helper;\n      if (widget.dependsOn !== 'recommend' || (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.isIndexWidget)(widget) || widget.$$id === undefined) {\n        return this.getResults();\n      }\n      if (!((_helper = helper) !== null && _helper !== void 0 && _helper.lastRecommendResults)) {\n        return null;\n      }\n      return helper.lastRecommendResults[widget.$$id];\n    },\n    getPreviousState: function getPreviousState() {\n      return lastValidSearchParameters;\n    },\n    getScopedResults: function getScopedResults() {\n      var widgetParent = this.getParent();\n      var widgetSiblings;\n      if (widgetParent) {\n        widgetSiblings = widgetParent.getWidgets();\n      } else if (indexName.length === 0) {\n        // The widget is the root but has no index name:\n        // we resolve results from its children index widgets\n        widgetSiblings = this.getWidgets();\n      } else {\n        // The widget is the root and has an index name:\n        // we consider itself as the only sibling\n        widgetSiblings = [this];\n      }\n      return resolveScopedResultsFromWidgets(widgetSiblings);\n    },\n    getParent: function getParent() {\n      return isolated ? null : localParent;\n    },\n    createURL: function createURL(nextState) {\n      if (typeof nextState === 'function') {\n        return localInstantSearchInstance._createURL(_defineProperty({}, indexId, nextState(localUiState)));\n      }\n      return localInstantSearchInstance._createURL(_defineProperty({}, indexId, getLocalWidgetsUiState(localWidgets, {\n        searchParameters: nextState,\n        helper: helper\n      })));\n    },\n    scheduleLocalSearch: (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_3__.defer)(function () {\n      if (isolated) {\n        var _helper2;\n        (_helper2 = helper) === null || _helper2 === void 0 ? void 0 : _helper2.search();\n      }\n    }),\n    getWidgets: function getWidgets() {\n      return localWidgets;\n    },\n    addWidgets: function addWidgets(widgets) {\n      var _this = this;\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `addWidgets` method expects an array of widgets.'));\n      }\n      var flatWidgets = widgets.reduce(function (acc, w) {\n        return acc.concat(Array.isArray(w) ? w : [w]);\n      }, []);\n      if (flatWidgets.some(function (widget) {\n        return typeof widget.init !== 'function' && typeof widget.render !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `render` and/or an `init` method.'));\n      }\n      flatWidgets.forEach(function (widget) {\n        widget.parent = _this;\n        if ((0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.isIndexWidget)(widget)) {\n          return;\n        }\n        if (localInstantSearchInstance && widget.dependsOn === 'recommend') {\n          localInstantSearchInstance._hasRecommendWidget = true;\n        } else if (localInstantSearchInstance) {\n          localInstantSearchInstance._hasSearchWidget = true;\n        } else if (widget.dependsOn === 'recommend') {\n          hasRecommendWidget = true;\n        } else {\n          hasSearchWidget = true;\n        }\n        (0,_lib_utils_addWidgetId_js__WEBPACK_IMPORTED_MODULE_4__.addWidgetId)(widget);\n      });\n      localWidgets = localWidgets.concat(flatWidgets);\n      if (localInstantSearchInstance && Boolean(flatWidgets.length)) {\n        privateHelperSetState(helper, {\n          state: getLocalWidgetsSearchParameters(localWidgets, {\n            uiState: localUiState,\n            initialSearchParameters: helper.state\n          }),\n          recommendState: getLocalWidgetsRecommendParameters(localWidgets, {\n            uiState: localUiState,\n            initialRecommendParameters: helper.recommendState\n          }),\n          _uiState: localUiState\n        });\n\n        // We compute the render state before calling `init` in a separate loop\n        // to construct the whole render state object that is then passed to\n        // `init`.\n        flatWidgets.forEach(function (widget) {\n          if (widget.getRenderState) {\n            var renderState = widget.getRenderState(localInstantSearchInstance.renderState[_this.getIndexId()] || {}, (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_5__.createInitArgs)(localInstantSearchInstance, _this, localInstantSearchInstance._initialUiState));\n            storeRenderState({\n              renderState: renderState,\n              instantSearchInstance: localInstantSearchInstance,\n              parent: _this\n            });\n          }\n        });\n        flatWidgets.forEach(function (widget) {\n          if (widget.init) {\n            widget.init((0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_5__.createInitArgs)(localInstantSearchInstance, _this, localInstantSearchInstance._initialUiState));\n          }\n        });\n        if (isolated) {\n          this.scheduleLocalSearch();\n        } else {\n          localInstantSearchInstance.scheduleSearch();\n        }\n      }\n      return this;\n    },\n    removeWidgets: function removeWidgets(widgets) {\n      var _this2 = this;\n      if (!Array.isArray(widgets)) {\n        throw new Error(withUsage('The `removeWidgets` method expects an array of widgets.'));\n      }\n      var flatWidgets = widgets.reduce(function (acc, w) {\n        return acc.concat(Array.isArray(w) ? w : [w]);\n      }, []);\n      if (flatWidgets.some(function (widget) {\n        return typeof widget.dispose !== 'function';\n      })) {\n        throw new Error(withUsage('The widget definition expects a `dispose` method.'));\n      }\n      localWidgets = localWidgets.filter(function (widget) {\n        return flatWidgets.indexOf(widget) === -1;\n      });\n      localWidgets.forEach(function (widget) {\n        widget.parent = undefined;\n        if ((0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.isIndexWidget)(widget)) {\n          return;\n        }\n        if (localInstantSearchInstance && widget.dependsOn === 'recommend') {\n          localInstantSearchInstance._hasRecommendWidget = true;\n        } else if (localInstantSearchInstance) {\n          localInstantSearchInstance._hasSearchWidget = true;\n        } else if (widget.dependsOn === 'recommend') {\n          hasRecommendWidget = true;\n        } else {\n          hasSearchWidget = true;\n        }\n      });\n      if (localInstantSearchInstance && Boolean(flatWidgets.length)) {\n        var _flatWidgets$reduce = flatWidgets.reduce(function (states, widget) {\n            // the `dispose` method exists at this point we already assert it\n            var next = widget.dispose({\n              helper: helper,\n              state: states.cleanedSearchState,\n              recommendState: states.cleanedRecommendState,\n              parent: _this2\n            });\n            if (next instanceof algoliasearch_helper__WEBPACK_IMPORTED_MODULE_0__.RecommendParameters) {\n              states.cleanedRecommendState = next;\n            } else if (next) {\n              states.cleanedSearchState = next;\n            }\n            return states;\n          }, {\n            cleanedSearchState: helper.state,\n            cleanedRecommendState: helper.recommendState\n          }),\n          cleanedSearchState = _flatWidgets$reduce.cleanedSearchState,\n          cleanedRecommendState = _flatWidgets$reduce.cleanedRecommendState;\n        var newState = localInstantSearchInstance.future.preserveSharedStateOnUnmount ? getLocalWidgetsSearchParameters(localWidgets, {\n          uiState: localUiState,\n          initialSearchParameters: new algoliasearch_helper__WEBPACK_IMPORTED_MODULE_0__.SearchParameters({\n            index: this.getIndexName()\n          })\n        }) : getLocalWidgetsSearchParameters(localWidgets, {\n          uiState: getLocalWidgetsUiState(localWidgets, {\n            searchParameters: cleanedSearchState,\n            helper: helper\n          }),\n          initialSearchParameters: cleanedSearchState\n        });\n        localUiState = getLocalWidgetsUiState(localWidgets, {\n          searchParameters: newState,\n          helper: helper\n        });\n        helper.setState(newState);\n        helper.recommendState = cleanedRecommendState;\n        if (localWidgets.length) {\n          if (isolated) {\n            this.scheduleLocalSearch();\n          } else {\n            localInstantSearchInstance.scheduleSearch();\n          }\n        }\n      }\n      return this;\n    },\n    init: function init(_ref2) {\n      var _this3 = this,\n        _instantSearchInstanc;\n      var instantSearchInstance = _ref2.instantSearchInstance,\n        parent = _ref2.parent,\n        uiState = _ref2.uiState;\n      if (helper !== null) {\n        // helper is already initialized, therefore we do not need to set up\n        // any listeners\n        return;\n      }\n      localInstantSearchInstance = instantSearchInstance;\n      localParent = parent;\n      localUiState = uiState[indexId] || {};\n\n      // The `mainHelper` is already defined at this point. The instance is created\n      // inside InstantSearch at the `start` method, which occurs before the `init`\n      // step.\n      var mainHelper = instantSearchInstance.mainHelper;\n      var parameters = getLocalWidgetsSearchParameters(localWidgets, {\n        uiState: localUiState,\n        initialSearchParameters: new algoliasearch_helper__WEBPACK_IMPORTED_MODULE_0__.SearchParameters({\n          index: indexName\n        })\n      });\n      var recommendParameters = getLocalWidgetsRecommendParameters(localWidgets, {\n        uiState: localUiState,\n        initialRecommendParameters: new algoliasearch_helper__WEBPACK_IMPORTED_MODULE_0__.RecommendParameters()\n      });\n\n      // This Helper is only used for state management we do not care about the\n      // `searchClient`. Only the \"main\" Helper created at the `InstantSearch`\n      // level is aware of the client.\n      helper = algoliasearch_helper__WEBPACK_IMPORTED_MODULE_0__(mainHelper.getClient(), parameters.index, parameters);\n      helper.recommendState = recommendParameters;\n\n      // We forward the call to `search` to the \"main\" instance of the Helper\n      // which is responsible for managing the queries (it's the only one that is\n      // aware of the `searchClient`).\n      helper.search = function () {\n        if (isolated) {\n          instantSearchInstance.status = 'loading';\n          _this3.render({\n            instantSearchInstance: instantSearchInstance\n          });\n          return instantSearchInstance.compositionID ? helper.searchWithComposition() : helper.searchOnlyWithDerivedHelpers();\n        }\n        if (instantSearchInstance.onStateChange) {\n          instantSearchInstance.onStateChange({\n            uiState: instantSearchInstance.mainIndex.getWidgetUiState({}),\n            setUiState: function setUiState(nextState) {\n              return instantSearchInstance.setUiState(nextState, false);\n            }\n          });\n\n          // We don't trigger a search when controlled because it becomes the\n          // responsibility of `setUiState`.\n          return mainHelper;\n        }\n        return mainHelper.search();\n      };\n      helper.searchWithoutTriggeringOnStateChange = function () {\n        return mainHelper.search();\n      };\n      var isolatedHelper = indexName ? helper : algoliasearch_helper__WEBPACK_IMPORTED_MODULE_0__({}, '__empty_index__', {});\n      var derivingHelper = isolated ? isolatedHelper : nearestIsolatedHelper(parent, mainHelper);\n      derivedHelper = derivingHelper.derive(function () {\n        return _lib_utils_index_js__WEBPACK_IMPORTED_MODULE_6__.mergeSearchParameters.apply(void 0, [mainHelper.state].concat(_toConsumableArray((0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_7__.resolveSearchParameters)(_this3))));\n      }, function () {\n        return _this3.getHelper().recommendState;\n      });\n      var indexInitialResults = (_instantSearchInstanc = instantSearchInstance._initialResults) === null || _instantSearchInstanc === void 0 ? void 0 : _instantSearchInstanc[this.getIndexId()];\n      if (indexInitialResults !== null && indexInitialResults !== void 0 && indexInitialResults.results) {\n        // We restore the shape of the results provided to the instance to respect\n        // the helper's structure.\n        var results = new algoliasearch_helper__WEBPACK_IMPORTED_MODULE_0__.SearchResults(new algoliasearch_helper__WEBPACK_IMPORTED_MODULE_0__.SearchParameters(indexInitialResults.state), indexInitialResults.results);\n        derivedHelper.lastResults = results;\n        helper.lastResults = results;\n      }\n      if (indexInitialResults !== null && indexInitialResults !== void 0 && indexInitialResults.recommendResults) {\n        var recommendResults = new algoliasearch_helper__WEBPACK_IMPORTED_MODULE_0__.RecommendResults(new algoliasearch_helper__WEBPACK_IMPORTED_MODULE_0__.RecommendParameters({\n          params: indexInitialResults.recommendResults.params\n        }), indexInitialResults.recommendResults.results);\n        derivedHelper.lastRecommendResults = recommendResults;\n        helper.lastRecommendResults = recommendResults;\n      }\n\n      // Subscribe to the Helper state changes for the page before widgets\n      // are initialized. This behavior mimics the original one of the Helper.\n      // It makes sense to replicate it at the `init` step. We have another\n      // listener on `change` below, once `init` is done.\n      helper.on('change', function (_ref3) {\n        var isPageReset = _ref3.isPageReset;\n        if (isPageReset) {\n          resetPageFromWidgets(localWidgets);\n        }\n      });\n      derivedHelper.on('search', function () {\n        // The index does not manage the \"staleness\" of the search. This is the\n        // responsibility of the main instance. It does not make sense to manage\n        // it at the index level because it's either: all of them or none of them\n        // that are stalled. The queries are performed into a single network request.\n        instantSearchInstance.scheduleStalledRender();\n        if (true) {\n          (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_8__.checkIndexUiState)({\n            index: _this3,\n            indexUiState: localUiState\n          });\n        }\n      });\n      derivedHelper.on('result', function (_ref4) {\n        var results = _ref4.results;\n        // The index does not render the results it schedules a new render\n        // to let all the other indices emit their own results. It allows us to\n        // run the render process in one pass.\n        instantSearchInstance.scheduleRender();\n\n        // the derived helper is the one which actually searches, but the helper\n        // which is exposed e.g. via instance.helper, doesn't search, and thus\n        // does not have access to lastResults, which it used to in pre-federated\n        // search behavior.\n        helper.lastResults = results;\n        lastValidSearchParameters = results === null || results === void 0 ? void 0 : results._state;\n      });\n\n      // eslint-disable-next-line no-warning-comments\n      // TODO: listen to \"result\" event when events for Recommend are implemented\n      derivedHelper.on('recommend:result', function (_ref5) {\n        var recommend = _ref5.recommend;\n        // The index does not render the results it schedules a new render\n        // to let all the other indices emit their own results. It allows us to\n        // run the render process in one pass.\n        instantSearchInstance.scheduleRender();\n\n        // the derived helper is the one which actually searches, but the helper\n        // which is exposed e.g. via instance.helper, doesn't search, and thus\n        // does not have access to lastRecommendResults.\n        helper.lastRecommendResults = recommend.results;\n      });\n\n      // We compute the render state before calling `init` in a separate loop\n      // to construct the whole render state object that is then passed to\n      // `init`.\n      localWidgets.forEach(function (widget) {\n        if (widget.getRenderState) {\n          var renderState = widget.getRenderState(instantSearchInstance.renderState[_this3.getIndexId()] || {}, (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_5__.createInitArgs)(instantSearchInstance, _this3, uiState));\n          storeRenderState({\n            renderState: renderState,\n            instantSearchInstance: instantSearchInstance,\n            parent: _this3\n          });\n        }\n      });\n      localWidgets.forEach(function (widget) {\n         true ? (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_9__.warning)(\n        // if it has NO getWidgetState or if it has getWidgetUiState, we don't warn\n        // aka we warn if there's _only_ getWidgetState\n        !widget.getWidgetState || Boolean(widget.getWidgetUiState), 'The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead.') : 0;\n        if (widget.init) {\n          widget.init((0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_5__.createInitArgs)(instantSearchInstance, _this3, uiState));\n        }\n      });\n\n      // Subscribe to the Helper state changes for the `uiState` once widgets\n      // are initialized. Until the first render, state changes are part of the\n      // configuration step. This is mainly for backward compatibility with custom\n      // widgets. When the subscription happens before the `init` step, the (static)\n      // configuration of the widget is pushed in the URL. That's what we want to avoid.\n      // https://github.com/algolia/instantsearch/pull/994/commits/4a672ae3fd78809e213de0368549ef12e9dc9454\n      helper.on('change', function (event) {\n        var state = event.state;\n        var _uiState = event._uiState;\n        localUiState = getLocalWidgetsUiState(localWidgets, {\n          searchParameters: state,\n          helper: helper\n        }, _uiState || {});\n\n        // We don't trigger an internal change when controlled because it\n        // becomes the responsibility of `setUiState`.\n        if (!instantSearchInstance.onStateChange) {\n          instantSearchInstance.onInternalStateChange();\n        }\n      });\n      if (indexInitialResults) {\n        // If there are initial results, we're not notified of the next results\n        // because we don't trigger an initial search. We therefore need to directly\n        // schedule a render that will render the results injected on the helper.\n        instantSearchInstance.scheduleRender();\n      }\n      if (hasRecommendWidget) {\n        instantSearchInstance._hasRecommendWidget = true;\n      }\n      if (hasSearchWidget) {\n        instantSearchInstance._hasSearchWidget = true;\n      }\n    },\n    render: function render(_ref6) {\n      var _derivedHelper2,\n        _this4 = this;\n      var instantSearchInstance = _ref6.instantSearchInstance;\n      // we can't attach a listener to the error event of search, as the error\n      // then would no longer be thrown for global handlers.\n      if (instantSearchInstance.status === 'error' && !instantSearchInstance.mainHelper.hasPendingRequests() && lastValidSearchParameters) {\n        helper.setState(lastValidSearchParameters);\n      }\n\n      // We only render index widgets if there are no results.\n      // This makes sure `render` is never called with `results` being `null`.\n      // If it's an isolated index without an index name, we render all widgets,\n      // as there are no results to display for the isolated index itself.\n      var widgetsToRender = this.getResults() || (_derivedHelper2 = derivedHelper) !== null && _derivedHelper2 !== void 0 && _derivedHelper2.lastRecommendResults || isolated && !indexName ? localWidgets : localWidgets.filter(function (widget) {\n        return widget.shouldRender;\n      });\n      widgetsToRender = widgetsToRender.filter(function (widget) {\n        if (!widget.shouldRender) {\n          return true;\n        }\n        return widget.shouldRender({\n          instantSearchInstance: instantSearchInstance\n        });\n      });\n      widgetsToRender.forEach(function (widget) {\n        if (widget.getRenderState) {\n          var renderState = widget.getRenderState(instantSearchInstance.renderState[_this4.getIndexId()] || {}, (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_5__.createRenderArgs)(instantSearchInstance, _this4, widget));\n          storeRenderState({\n            renderState: renderState,\n            instantSearchInstance: instantSearchInstance,\n            parent: _this4\n          });\n        }\n      });\n      widgetsToRender.forEach(function (widget) {\n        // At this point, all the variables used below are set. Both `helper`\n        // and `derivedHelper` have been created at the `init` step. The attribute\n        // `lastResults` might be `null` though. It's possible that a stalled render\n        // happens before the result e.g with a dynamically added index the request might\n        // be delayed. The render is triggered for the complete tree but some parts do\n        // not have results yet.\n\n        if (widget.render) {\n          widget.render((0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_5__.createRenderArgs)(instantSearchInstance, _this4, widget));\n        }\n      });\n    },\n    dispose: function dispose() {\n      var _this5 = this,\n        _helper3,\n        _derivedHelper3;\n      localWidgets.forEach(function (widget) {\n        if (widget.dispose && helper) {\n          // The dispose function is always called once the instance is started\n          // (it's an effect of `removeWidgets`). The index is initialized and\n          // the Helper is available. We don't care about the return value of\n          // `dispose` because the index is removed. We can't call `removeWidgets`\n          // because we want to keep the widgets on the instance, to allow idempotent\n          // operations on `add` & `remove`.\n          widget.dispose({\n            helper: helper,\n            state: helper.state,\n            recommendState: helper.recommendState,\n            parent: _this5\n          });\n        }\n      });\n      localInstantSearchInstance = null;\n      localParent = null;\n      (_helper3 = helper) === null || _helper3 === void 0 ? void 0 : _helper3.removeAllListeners();\n      helper = null;\n      (_derivedHelper3 = derivedHelper) === null || _derivedHelper3 === void 0 ? void 0 : _derivedHelper3.detach();\n      derivedHelper = null;\n    },\n    getWidgetUiState: function getWidgetUiState(uiState) {\n      return localWidgets.filter(_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.isIndexWidget).filter(function (w) {\n        return !w._isolated;\n      }).reduce(function (previousUiState, innerIndex) {\n        return innerIndex.getWidgetUiState(previousUiState);\n      }, _objectSpread(_objectSpread({}, uiState), {}, _defineProperty({}, indexId, _objectSpread(_objectSpread({}, uiState[indexId]), localUiState))));\n    },\n    getWidgetState: function getWidgetState(uiState) {\n       true ? (0,_lib_utils_index_js__WEBPACK_IMPORTED_MODULE_9__.warning)(false, 'The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead.') : 0;\n      return this.getWidgetUiState(uiState);\n    },\n    getWidgetSearchParameters: function getWidgetSearchParameters(searchParameters, _ref7) {\n      var uiState = _ref7.uiState;\n      return getLocalWidgetsSearchParameters(localWidgets, {\n        uiState: uiState,\n        initialSearchParameters: searchParameters\n      });\n    },\n    shouldRender: function shouldRender() {\n      return true;\n    },\n    refreshUiState: function refreshUiState() {\n      localUiState = getLocalWidgetsUiState(localWidgets, {\n        searchParameters: this.getHelper().state,\n        helper: this.getHelper()\n      }, localUiState);\n    },\n    setIndexUiState: function setIndexUiState(indexUiState) {\n      var nextIndexUiState = typeof indexUiState === 'function' ? indexUiState(localUiState) : indexUiState;\n      localInstantSearchInstance.setUiState(function (state) {\n        return _objectSpread(_objectSpread({}, state), {}, _defineProperty({}, indexId, nextIndexUiState));\n      });\n    }\n  };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (index);\nfunction storeRenderState(_ref8) {\n  var renderState = _ref8.renderState,\n    instantSearchInstance = _ref8.instantSearchInstance,\n    parent = _ref8.parent;\n  var parentIndexName = parent ? parent.getIndexId() : instantSearchInstance.mainIndex.getIndexId();\n  instantSearchInstance.renderState = _objectSpread(_objectSpread({}, instantSearchInstance.renderState), {}, _defineProperty({}, parentIndexName, _objectSpread(_objectSpread({}, instantSearchInstance.renderState[parentIndexName]), renderState)));\n}\n\n/**\n * Walk up the parent chain to find the closest isolated index, or fall back to mainHelper\n */\nfunction nearestIsolatedHelper(current, mainHelper) {\n  while (current) {\n    if (current._isolated) {\n      return current.getHelper();\n    }\n    current = current.getParent();\n  }\n  return mainHelper;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvaW5zdGFudHNlYXJjaC5qcy9lcy93aWRnZXRzL2luZGV4L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUEsc0JBQXNCLDJCQUEyQixvR0FBb0csbUJBQW1CLGlCQUFpQixzSEFBc0g7QUFDL1M7QUFDQTtBQUNBLHlCQUF5Qix3QkFBd0Isb0NBQW9DLHlDQUF5QyxrQ0FBa0MsMERBQTBELDBCQUEwQjtBQUNwUCw0QkFBNEIsZ0JBQWdCLHNCQUFzQixPQUFPLGtEQUFrRCxzREFBc0QsOEJBQThCLG1KQUFtSixxRUFBcUUsS0FBSztBQUM1YSxvQ0FBb0Msb0VBQW9FLDBEQUEwRDtBQUNsSyw2QkFBNkIsbUNBQW1DO0FBQ2hFLDhCQUE4Qiw0Q0FBNEMsK0JBQStCLG9CQUFvQixtQ0FBbUMsc0NBQXNDLHVFQUF1RTtBQUM3USxpQ0FBaUM7QUFDakMsZ0NBQWdDO0FBQ2hDLDZDQUE2QyxTQUFTLDBEQUEwRCxVQUFVLGdDQUFnQztBQUMxSiwrQkFBK0I7QUFDL0IsaUNBQWlDO0FBQ2pDLG1DQUFtQywrQ0FBK0MsOEJBQThCLE9BQU8sa0JBQWtCO0FBQ3pJLDBDQUEwQywwQkFBMEIsbURBQW1ELG9DQUFvQyx5Q0FBeUMsWUFBWSxjQUFjLHdDQUF3QyxxREFBcUQ7QUFDM1QsK0NBQStDLDBCQUEwQixZQUFZLHVCQUF1Qiw4QkFBOEIsbUNBQW1DLGVBQWU7QUFDckk7QUFDNEo7QUFDdEo7QUFDN0QsZ0JBQWdCLHdGQUFtQztBQUNuRDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsa0VBQWE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsa0VBQWE7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGtFQUFhO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esb0NBQW9DLDhEQUFhO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esb0NBQW9DLDhEQUFhO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSw4Q0FBOEMsa0VBQWE7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx1RUFBdUU7QUFDdkU7QUFDQSxxRUFBcUU7QUFDckU7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wseUJBQXlCLDBEQUFLO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0VBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLFFBQVEsc0VBQVc7QUFDbkIsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvSEFBb0gsRUFBRSxtRUFBYztBQUNwSTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0Esd0JBQXdCLG1FQUFjO0FBQ3RDO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsWUFBWSxrRUFBYTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsZ0NBQWdDLHFFQUF1QztBQUN2RTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxrRUFBb0M7QUFDM0U7QUFDQSxXQUFXO0FBQ1gsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGtFQUFvQztBQUN6RTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBLHdDQUF3QyxxRUFBdUM7QUFDL0UsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQSxlQUFlLGlEQUFtQjtBQUNsQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBLFdBQVc7O0FBRVg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELGlEQUFtQixHQUFHLHVCQUF1QjtBQUM3RjtBQUNBO0FBQ0EsZUFBZSxzRUFBcUIsNERBQTRELDRFQUF1QjtBQUN2SCxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsK0RBQWlDLEtBQUssa0VBQW9DO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLGtFQUFvQyxLQUFLLHFFQUF1QztBQUNuSDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksSUFBc0M7QUFDbEQsVUFBVSxzRUFBaUI7QUFDM0I7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEdBQThHLEVBQUUsbUVBQWM7QUFDOUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQSxRQUFRLEtBQXNDLEdBQUcsNERBQU87QUFDeEQ7QUFDQTtBQUNBLDRPQUE0TyxDQUFNO0FBQ2xQO0FBQ0Esc0JBQXNCLG1FQUFjO0FBQ3BDO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGdCQUFnQjs7QUFFekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQSw4R0FBOEcsRUFBRSxxRUFBZ0I7QUFDaEk7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx3QkFBd0IscUVBQWdCO0FBQ3hDO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGlDQUFpQyw4REFBYTtBQUM5QztBQUNBLE9BQU87QUFDUDtBQUNBLE9BQU8sZ0NBQWdDLGNBQWMsb0JBQW9CLHlDQUF5QztBQUNsSCxLQUFLO0FBQ0w7QUFDQSxNQUFNLEtBQXNDLEdBQUcsNERBQU8sZ0xBQWdMLENBQU07QUFDNU87QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLFlBQVksb0JBQW9CO0FBQzdFLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxpRUFBZSxLQUFLLEVBQUM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRSx3Q0FBd0Msb0JBQW9CLGlEQUFpRDtBQUNqTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGVjLWxvZ2ljLWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2luc3RhbnRzZWFyY2guanMvZXMvd2lkZ2V0cy9pbmRleC9pbmRleC5qcz85YTY5Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIF90eXBlb2YobykgeyBcIkBiYWJlbC9oZWxwZXJzIC0gdHlwZW9mXCI7IHJldHVybiBfdHlwZW9mID0gXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgXCJzeW1ib2xcIiA9PSB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID8gZnVuY3Rpb24gKG8pIHsgcmV0dXJuIHR5cGVvZiBvOyB9IDogZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8gJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBTeW1ib2wgJiYgby5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG8gIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG87IH0sIF90eXBlb2Yobyk7IH1cbnZhciBfZXhjbHVkZWQgPSBbXCJpbml0aWFsU2VhcmNoUGFyYW1ldGVyc1wiXSxcbiAgX2V4Y2x1ZGVkMiA9IFtcImluaXRpYWxSZWNvbW1lbmRQYXJhbWV0ZXJzXCJdO1xuZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSwgciwgdCkgeyByZXR1cm4gKHIgPSBfdG9Qcm9wZXJ0eUtleShyKSkgaW4gZSA/IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCByLCB7IHZhbHVlOiB0LCBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwIH0pIDogZVtyXSA9IHQsIGU7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KHQpIHsgdmFyIGkgPSBfdG9QcmltaXRpdmUodCwgXCJzdHJpbmdcIik7IHJldHVybiBcInN5bWJvbFwiID09IF90eXBlb2YoaSkgPyBpIDogaSArIFwiXCI7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZSh0LCByKSB7IGlmIChcIm9iamVjdFwiICE9IF90eXBlb2YodCkgfHwgIXQpIHJldHVybiB0OyB2YXIgZSA9IHRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHZvaWQgMCAhPT0gZSkgeyB2YXIgaSA9IGUuY2FsbCh0LCByIHx8IFwiZGVmYXVsdFwiKTsgaWYgKFwib2JqZWN0XCIgIT0gX3R5cGVvZihpKSkgcmV0dXJuIGk7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKFwic3RyaW5nXCIgPT09IHIgPyBTdHJpbmcgOiBOdW1iZXIpKHQpOyB9XG5mdW5jdGlvbiBfdG9Db25zdW1hYmxlQXJyYXkocikgeyByZXR1cm4gX2FycmF5V2l0aG91dEhvbGVzKHIpIHx8IF9pdGVyYWJsZVRvQXJyYXkocikgfHwgX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KHIpIHx8IF9ub25JdGVyYWJsZVNwcmVhZCgpOyB9XG5mdW5jdGlvbiBfbm9uSXRlcmFibGVTcHJlYWQoKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuXCIpOyB9XG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkociwgYSkgeyBpZiAocikgeyBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgcikgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KHIsIGEpOyB2YXIgdCA9IHt9LnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwgLTEpOyByZXR1cm4gXCJPYmplY3RcIiA9PT0gdCAmJiByLmNvbnN0cnVjdG9yICYmICh0ID0gci5jb25zdHJ1Y3Rvci5uYW1lKSwgXCJNYXBcIiA9PT0gdCB8fCBcIlNldFwiID09PSB0ID8gQXJyYXkuZnJvbShyKSA6IFwiQXJndW1lbnRzXCIgPT09IHQgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkgPyBfYXJyYXlMaWtlVG9BcnJheShyLCBhKSA6IHZvaWQgMDsgfSB9XG5mdW5jdGlvbiBfaXRlcmFibGVUb0FycmF5KHIpIHsgaWYgKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIFN5bWJvbCAmJiBudWxsICE9IHJbU3ltYm9sLml0ZXJhdG9yXSB8fCBudWxsICE9IHJbXCJAQGl0ZXJhdG9yXCJdKSByZXR1cm4gQXJyYXkuZnJvbShyKTsgfVxuZnVuY3Rpb24gX2FycmF5V2l0aG91dEhvbGVzKHIpIHsgaWYgKEFycmF5LmlzQXJyYXkocikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShyKTsgfVxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkociwgYSkgeyAobnVsbCA9PSBhIHx8IGEgPiByLmxlbmd0aCkgJiYgKGEgPSByLmxlbmd0aCk7IGZvciAodmFyIGUgPSAwLCBuID0gQXJyYXkoYSk7IGUgPCBhOyBlKyspIG5bZV0gPSByW2VdOyByZXR1cm4gbjsgfVxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKGUsIHQpIHsgaWYgKG51bGwgPT0gZSkgcmV0dXJuIHt9OyB2YXIgbywgciwgaSA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKGUsIHQpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IGZvciAociA9IDA7IHIgPCBuLmxlbmd0aDsgcisrKSBvID0gbltyXSwgLTEgPT09IHQuaW5kZXhPZihvKSAmJiB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsIG8pICYmIChpW29dID0gZVtvXSk7IH0gcmV0dXJuIGk7IH1cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHIsIGUpIHsgaWYgKG51bGwgPT0gcikgcmV0dXJuIHt9OyB2YXIgdCA9IHt9OyBmb3IgKHZhciBuIGluIHIpIGlmICh7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsIG4pKSB7IGlmICgtMSAhPT0gZS5pbmRleE9mKG4pKSBjb250aW51ZTsgdFtuXSA9IHJbbl07IH0gcmV0dXJuIHQ7IH1cbmltcG9ydCBhbGdvbGlhc2VhcmNoSGVscGVyIGZyb20gJ2FsZ29saWFzZWFyY2gtaGVscGVyJztcbmltcG9ydCB7IGNoZWNrSW5kZXhVaVN0YXRlLCBjcmVhdGVEb2N1bWVudGF0aW9uTWVzc2FnZUdlbmVyYXRvciwgcmVzb2x2ZVNlYXJjaFBhcmFtZXRlcnMsIG1lcmdlU2VhcmNoUGFyYW1ldGVycywgd2FybmluZywgaXNJbmRleFdpZGdldCwgY3JlYXRlSW5pdEFyZ3MsIGNyZWF0ZVJlbmRlckFyZ3MsIGRlZmVyIH0gZnJvbSBcIi4uLy4uL2xpYi91dGlscy9pbmRleC5qc1wiO1xuaW1wb3J0IHsgYWRkV2lkZ2V0SWQgfSBmcm9tIFwiLi4vLi4vbGliL3V0aWxzL2FkZFdpZGdldElkLmpzXCI7XG52YXIgd2l0aFVzYWdlID0gY3JlYXRlRG9jdW1lbnRhdGlvbk1lc3NhZ2VHZW5lcmF0b3Ioe1xuICBuYW1lOiAnaW5kZXgtd2lkZ2V0J1xufSk7XG4vKipcbiAqIFRoaXMgaXMgdGhlIHNhbWUgY29udGVudCBhcyBoZWxwZXIuX2NoYW5nZSAvIHNldFN0YXRlLCBidXQgYWxsb3dpbmcgZm9yIGV4dHJhXG4gKiBVaVN0YXRlIHRvIGJlIHN5bmNocm9uaXplZC5cbiAqIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL2FsZ29saWEvYWxnb2xpYXNlYXJjaC1oZWxwZXItanMvYmxvYi82YjgzNWZmZDA3NzQyZjJkNmIzMTQwMjJjY2U2ODQ4ZjVjZmVjZDRhL3NyYy9hbGdvbGlhc2VhcmNoLmhlbHBlci5qcyNMMTMxMS1MMTMyNFxuICovXG5mdW5jdGlvbiBwcml2YXRlSGVscGVyU2V0U3RhdGUoaGVscGVyLCBfcmVmKSB7XG4gIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGUsXG4gICAgcmVjb21tZW5kU3RhdGUgPSBfcmVmLnJlY29tbWVuZFN0YXRlLFxuICAgIGlzUGFnZVJlc2V0ID0gX3JlZi5pc1BhZ2VSZXNldCxcbiAgICBfdWlTdGF0ZSA9IF9yZWYuX3VpU3RhdGU7XG4gIGlmIChzdGF0ZSAhPT0gaGVscGVyLnN0YXRlKSB7XG4gICAgaGVscGVyLnN0YXRlID0gc3RhdGU7XG4gICAgaGVscGVyLmVtaXQoJ2NoYW5nZScsIHtcbiAgICAgIHN0YXRlOiBoZWxwZXIuc3RhdGUsXG4gICAgICByZXN1bHRzOiBoZWxwZXIubGFzdFJlc3VsdHMsXG4gICAgICBpc1BhZ2VSZXNldDogaXNQYWdlUmVzZXQsXG4gICAgICBfdWlTdGF0ZTogX3VpU3RhdGVcbiAgICB9KTtcbiAgfVxuICBpZiAocmVjb21tZW5kU3RhdGUgIT09IGhlbHBlci5yZWNvbW1lbmRTdGF0ZSkge1xuICAgIGhlbHBlci5yZWNvbW1lbmRTdGF0ZSA9IHJlY29tbWVuZFN0YXRlO1xuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXdhcm5pbmctY29tbWVudHNcbiAgICAvLyBUT0RPOiBlbWl0IFwiY2hhbmdlXCIgZXZlbnQgd2hlbiBldmVudHMgZm9yIFJlY29tbWVuZCBhcmUgaW1wbGVtZW50ZWRcbiAgfVxufVxuZnVuY3Rpb24gZ2V0TG9jYWxXaWRnZXRzVWlTdGF0ZSh3aWRnZXRzLCB3aWRnZXRTdGF0ZU9wdGlvbnMpIHtcbiAgdmFyIGluaXRpYWxVaVN0YXRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgcmV0dXJuIHdpZGdldHMucmVkdWNlKGZ1bmN0aW9uICh1aVN0YXRlLCB3aWRnZXQpIHtcbiAgICBpZiAoaXNJbmRleFdpZGdldCh3aWRnZXQpKSB7XG4gICAgICByZXR1cm4gdWlTdGF0ZTtcbiAgICB9XG4gICAgaWYgKCF3aWRnZXQuZ2V0V2lkZ2V0VWlTdGF0ZSAmJiAhd2lkZ2V0LmdldFdpZGdldFN0YXRlKSB7XG4gICAgICByZXR1cm4gdWlTdGF0ZTtcbiAgICB9XG4gICAgaWYgKHdpZGdldC5nZXRXaWRnZXRVaVN0YXRlKSB7XG4gICAgICByZXR1cm4gd2lkZ2V0LmdldFdpZGdldFVpU3RhdGUodWlTdGF0ZSwgd2lkZ2V0U3RhdGVPcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIHdpZGdldC5nZXRXaWRnZXRTdGF0ZSh1aVN0YXRlLCB3aWRnZXRTdGF0ZU9wdGlvbnMpO1xuICB9LCBpbml0aWFsVWlTdGF0ZSk7XG59XG5mdW5jdGlvbiBnZXRMb2NhbFdpZGdldHNTZWFyY2hQYXJhbWV0ZXJzKHdpZGdldHMsIHdpZGdldFNlYXJjaFBhcmFtZXRlcnNPcHRpb25zKSB7XG4gIHZhciBpbml0aWFsU2VhcmNoUGFyYW1ldGVycyA9IHdpZGdldFNlYXJjaFBhcmFtZXRlcnNPcHRpb25zLmluaXRpYWxTZWFyY2hQYXJhbWV0ZXJzLFxuICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMod2lkZ2V0U2VhcmNoUGFyYW1ldGVyc09wdGlvbnMsIF9leGNsdWRlZCk7XG4gIHJldHVybiB3aWRnZXRzLnJlZHVjZShmdW5jdGlvbiAoc3RhdGUsIHdpZGdldCkge1xuICAgIGlmICghd2lkZ2V0LmdldFdpZGdldFNlYXJjaFBhcmFtZXRlcnMgfHwgaXNJbmRleFdpZGdldCh3aWRnZXQpKSB7XG4gICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIGlmICh3aWRnZXQuZGVwZW5kc09uID09PSAnc2VhcmNoJyAmJiB3aWRnZXQuZ2V0V2lkZ2V0UGFyYW1ldGVycykge1xuICAgICAgcmV0dXJuIHdpZGdldC5nZXRXaWRnZXRQYXJhbWV0ZXJzKHN0YXRlLCByZXN0KTtcbiAgICB9XG4gICAgcmV0dXJuIHdpZGdldC5nZXRXaWRnZXRTZWFyY2hQYXJhbWV0ZXJzKHN0YXRlLCByZXN0KTtcbiAgfSwgaW5pdGlhbFNlYXJjaFBhcmFtZXRlcnMpO1xufVxuZnVuY3Rpb24gZ2V0TG9jYWxXaWRnZXRzUmVjb21tZW5kUGFyYW1ldGVycyh3aWRnZXRzLCB3aWRnZXRSZWNvbW1lbmRQYXJhbWV0ZXJzT3B0aW9ucykge1xuICB2YXIgaW5pdGlhbFJlY29tbWVuZFBhcmFtZXRlcnMgPSB3aWRnZXRSZWNvbW1lbmRQYXJhbWV0ZXJzT3B0aW9ucy5pbml0aWFsUmVjb21tZW5kUGFyYW1ldGVycyxcbiAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHdpZGdldFJlY29tbWVuZFBhcmFtZXRlcnNPcHRpb25zLCBfZXhjbHVkZWQyKTtcbiAgcmV0dXJuIHdpZGdldHMucmVkdWNlKGZ1bmN0aW9uIChzdGF0ZSwgd2lkZ2V0KSB7XG4gICAgaWYgKCFpc0luZGV4V2lkZ2V0KHdpZGdldCkgJiYgd2lkZ2V0LmRlcGVuZHNPbiA9PT0gJ3JlY29tbWVuZCcgJiYgd2lkZ2V0LmdldFdpZGdldFBhcmFtZXRlcnMpIHtcbiAgICAgIHJldHVybiB3aWRnZXQuZ2V0V2lkZ2V0UGFyYW1ldGVycyhzdGF0ZSwgcmVzdCk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbiAgfSwgaW5pdGlhbFJlY29tbWVuZFBhcmFtZXRlcnMpO1xufVxuZnVuY3Rpb24gcmVzZXRQYWdlRnJvbVdpZGdldHMod2lkZ2V0cykge1xuICB2YXIgaW5kZXhXaWRnZXRzID0gd2lkZ2V0cy5maWx0ZXIoaXNJbmRleFdpZGdldCk7XG4gIGlmIChpbmRleFdpZGdldHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGluZGV4V2lkZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uICh3aWRnZXQpIHtcbiAgICB2YXIgd2lkZ2V0SGVscGVyID0gd2lkZ2V0LmdldEhlbHBlcigpO1xuICAgIHByaXZhdGVIZWxwZXJTZXRTdGF0ZSh3aWRnZXRIZWxwZXIsIHtcbiAgICAgIHN0YXRlOiB3aWRnZXRIZWxwZXIuc3RhdGUucmVzZXRQYWdlKCksXG4gICAgICByZWNvbW1lbmRTdGF0ZTogd2lkZ2V0SGVscGVyLnJlY29tbWVuZFN0YXRlLFxuICAgICAgaXNQYWdlUmVzZXQ6IHRydWVcbiAgICB9KTtcbiAgICByZXNldFBhZ2VGcm9tV2lkZ2V0cyh3aWRnZXQuZ2V0V2lkZ2V0cygpKTtcbiAgfSk7XG59XG5mdW5jdGlvbiByZXNvbHZlU2NvcGVkUmVzdWx0c0Zyb21XaWRnZXRzKHdpZGdldHMpIHtcbiAgdmFyIGluZGV4V2lkZ2V0cyA9IHdpZGdldHMuZmlsdGVyKGlzSW5kZXhXaWRnZXQpO1xuICByZXR1cm4gaW5kZXhXaWRnZXRzLnJlZHVjZShmdW5jdGlvbiAoc2NvcGVkUmVzdWx0cywgY3VycmVudCkge1xuICAgIHJldHVybiBzY29wZWRSZXN1bHRzLmNvbmNhdC5hcHBseShzY29wZWRSZXN1bHRzLCBbe1xuICAgICAgaW5kZXhJZDogY3VycmVudC5nZXRJbmRleElkKCksXG4gICAgICByZXN1bHRzOiBjdXJyZW50LmdldFJlc3VsdHMoKSxcbiAgICAgIGhlbHBlcjogY3VycmVudC5nZXRIZWxwZXIoKVxuICAgIH1dLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkocmVzb2x2ZVNjb3BlZFJlc3VsdHNGcm9tV2lkZ2V0cyhjdXJyZW50LmdldFdpZGdldHMoKSkpKSk7XG4gIH0sIFtdKTtcbn1cbnZhciBpbmRleCA9IGZ1bmN0aW9uIGluZGV4KHdpZGdldFBhcmFtcykge1xuICBpZiAod2lkZ2V0UGFyYW1zID09PSB1bmRlZmluZWQgfHwgd2lkZ2V0UGFyYW1zLmluZGV4TmFtZSA9PT0gdW5kZWZpbmVkICYmICF3aWRnZXRQYXJhbXMuRVhQRVJJTUVOVEFMX2lzb2xhdGVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHdpdGhVc2FnZSgnVGhlIGBpbmRleE5hbWVgIG9wdGlvbiBpcyByZXF1aXJlZC4nKSk7XG4gIH1cblxuICAvLyBXaGVuIGlzb2xhdGVkPXRydWUsIHdlIHVzZSBhbiBlbXB0eSBzdHJpbmcgYXMgdGhlIGRlZmF1bHQgaW5kZXhOYW1lLlxuICAvLyBUaGlzIGlzIGludGVudGlvbmFsOiBpc29sYXRlZCBpbmRpY2VzIGRvIG5vdCByZXF1aXJlIGEgcmVhbCBpbmRleCBuYW1lLlxuICB2YXIgX3dpZGdldFBhcmFtcyRpbmRleE5hID0gd2lkZ2V0UGFyYW1zLmluZGV4TmFtZSxcbiAgICBpbmRleE5hbWUgPSBfd2lkZ2V0UGFyYW1zJGluZGV4TmEgPT09IHZvaWQgMCA/ICcnIDogX3dpZGdldFBhcmFtcyRpbmRleE5hLFxuICAgIF93aWRnZXRQYXJhbXMkaW5kZXhJZCA9IHdpZGdldFBhcmFtcy5pbmRleElkLFxuICAgIGluZGV4SWQgPSBfd2lkZ2V0UGFyYW1zJGluZGV4SWQgPT09IHZvaWQgMCA/IGluZGV4TmFtZSA6IF93aWRnZXRQYXJhbXMkaW5kZXhJZCxcbiAgICBfd2lkZ2V0UGFyYW1zJEVYUEVSSU0gPSB3aWRnZXRQYXJhbXMuRVhQRVJJTUVOVEFMX2lzb2xhdGVkLFxuICAgIGlzb2xhdGVkID0gX3dpZGdldFBhcmFtcyRFWFBFUklNID09PSB2b2lkIDAgPyBmYWxzZSA6IF93aWRnZXRQYXJhbXMkRVhQRVJJTTtcbiAgdmFyIGxvY2FsV2lkZ2V0cyA9IFtdO1xuICB2YXIgbG9jYWxVaVN0YXRlID0ge307XG4gIHZhciBsb2NhbEluc3RhbnRTZWFyY2hJbnN0YW5jZSA9IG51bGw7XG4gIHZhciBsb2NhbFBhcmVudCA9IG51bGw7XG4gIHZhciBoZWxwZXIgPSBudWxsO1xuICB2YXIgZGVyaXZlZEhlbHBlciA9IG51bGw7XG4gIHZhciBsYXN0VmFsaWRTZWFyY2hQYXJhbWV0ZXJzID0gbnVsbDtcbiAgdmFyIGhhc1JlY29tbWVuZFdpZGdldCA9IGZhbHNlO1xuICB2YXIgaGFzU2VhcmNoV2lkZ2V0ID0gZmFsc2U7XG4gIHJldHVybiB7XG4gICAgJCR0eXBlOiAnYWlzLmluZGV4JyxcbiAgICAkJHdpZGdldFR5cGU6ICdhaXMuaW5kZXgnLFxuICAgIF9pc29sYXRlZDogaXNvbGF0ZWQsXG4gICAgZ2V0SW5kZXhOYW1lOiBmdW5jdGlvbiBnZXRJbmRleE5hbWUoKSB7XG4gICAgICByZXR1cm4gaW5kZXhOYW1lO1xuICAgIH0sXG4gICAgZ2V0SW5kZXhJZDogZnVuY3Rpb24gZ2V0SW5kZXhJZCgpIHtcbiAgICAgIHJldHVybiBpbmRleElkO1xuICAgIH0sXG4gICAgZ2V0SGVscGVyOiBmdW5jdGlvbiBnZXRIZWxwZXIoKSB7XG4gICAgICByZXR1cm4gaGVscGVyO1xuICAgIH0sXG4gICAgZ2V0UmVzdWx0czogZnVuY3Rpb24gZ2V0UmVzdWx0cygpIHtcbiAgICAgIHZhciBfZGVyaXZlZEhlbHBlcjtcbiAgICAgIGlmICghKChfZGVyaXZlZEhlbHBlciA9IGRlcml2ZWRIZWxwZXIpICE9PSBudWxsICYmIF9kZXJpdmVkSGVscGVyICE9PSB2b2lkIDAgJiYgX2Rlcml2ZWRIZWxwZXIubGFzdFJlc3VsdHMpKSByZXR1cm4gbnVsbDtcblxuICAgICAgLy8gVG8gbWFrZSB0aGUgVUkgb3B0aW1pc3RpYywgd2UgcGF0Y2ggdGhlIHN0YXRlIHRvIGRpc3BsYXkgdG8gdGhlIGN1cnJlbnRcbiAgICAgIC8vIG9uZSBpbnN0ZWFkIG9mIHRoZSBvbmUgYXNzb2NpYXRlZCB3aXRoIHRoZSBsYXRlc3QgcmVzdWx0cy5cbiAgICAgIC8vIFRoaXMgbWVhbnMgdXNlci1kcml2ZW4gVUkgY2hhbmdlcyAoZS5nLiwgY2hlY2tlZCBjaGVja2JveCkgYXJlIHJlZmxlY3RlZFxuICAgICAgLy8gaW1tZWRpYXRlbHkgaW5zdGVhZCBvZiB3YWl0aW5nIGZvciBBbGdvbGlhIHRvIHJlc3BvbmQsIHJlZ2FyZGxlc3Mgb2ZcbiAgICAgIC8vIHRoZSBzdGF0dXMgb2YgdGhlIG5ldHdvcmsgcmVxdWVzdC5cbiAgICAgIGRlcml2ZWRIZWxwZXIubGFzdFJlc3VsdHMuX3N0YXRlID0gaGVscGVyLnN0YXRlO1xuICAgICAgcmV0dXJuIGRlcml2ZWRIZWxwZXIubGFzdFJlc3VsdHM7XG4gICAgfSxcbiAgICBnZXRSZXN1bHRzRm9yV2lkZ2V0OiBmdW5jdGlvbiBnZXRSZXN1bHRzRm9yV2lkZ2V0KHdpZGdldCkge1xuICAgICAgdmFyIF9oZWxwZXI7XG4gICAgICBpZiAod2lkZ2V0LmRlcGVuZHNPbiAhPT0gJ3JlY29tbWVuZCcgfHwgaXNJbmRleFdpZGdldCh3aWRnZXQpIHx8IHdpZGdldC4kJGlkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UmVzdWx0cygpO1xuICAgICAgfVxuICAgICAgaWYgKCEoKF9oZWxwZXIgPSBoZWxwZXIpICE9PSBudWxsICYmIF9oZWxwZXIgIT09IHZvaWQgMCAmJiBfaGVscGVyLmxhc3RSZWNvbW1lbmRSZXN1bHRzKSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoZWxwZXIubGFzdFJlY29tbWVuZFJlc3VsdHNbd2lkZ2V0LiQkaWRdO1xuICAgIH0sXG4gICAgZ2V0UHJldmlvdXNTdGF0ZTogZnVuY3Rpb24gZ2V0UHJldmlvdXNTdGF0ZSgpIHtcbiAgICAgIHJldHVybiBsYXN0VmFsaWRTZWFyY2hQYXJhbWV0ZXJzO1xuICAgIH0sXG4gICAgZ2V0U2NvcGVkUmVzdWx0czogZnVuY3Rpb24gZ2V0U2NvcGVkUmVzdWx0cygpIHtcbiAgICAgIHZhciB3aWRnZXRQYXJlbnQgPSB0aGlzLmdldFBhcmVudCgpO1xuICAgICAgdmFyIHdpZGdldFNpYmxpbmdzO1xuICAgICAgaWYgKHdpZGdldFBhcmVudCkge1xuICAgICAgICB3aWRnZXRTaWJsaW5ncyA9IHdpZGdldFBhcmVudC5nZXRXaWRnZXRzKCk7XG4gICAgICB9IGVsc2UgaWYgKGluZGV4TmFtZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gVGhlIHdpZGdldCBpcyB0aGUgcm9vdCBidXQgaGFzIG5vIGluZGV4IG5hbWU6XG4gICAgICAgIC8vIHdlIHJlc29sdmUgcmVzdWx0cyBmcm9tIGl0cyBjaGlsZHJlbiBpbmRleCB3aWRnZXRzXG4gICAgICAgIHdpZGdldFNpYmxpbmdzID0gdGhpcy5nZXRXaWRnZXRzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBUaGUgd2lkZ2V0IGlzIHRoZSByb290IGFuZCBoYXMgYW4gaW5kZXggbmFtZTpcbiAgICAgICAgLy8gd2UgY29uc2lkZXIgaXRzZWxmIGFzIHRoZSBvbmx5IHNpYmxpbmdcbiAgICAgICAgd2lkZ2V0U2libGluZ3MgPSBbdGhpc107XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzb2x2ZVNjb3BlZFJlc3VsdHNGcm9tV2lkZ2V0cyh3aWRnZXRTaWJsaW5ncyk7XG4gICAgfSxcbiAgICBnZXRQYXJlbnQ6IGZ1bmN0aW9uIGdldFBhcmVudCgpIHtcbiAgICAgIHJldHVybiBpc29sYXRlZCA/IG51bGwgOiBsb2NhbFBhcmVudDtcbiAgICB9LFxuICAgIGNyZWF0ZVVSTDogZnVuY3Rpb24gY3JlYXRlVVJMKG5leHRTdGF0ZSkge1xuICAgICAgaWYgKHR5cGVvZiBuZXh0U3RhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGxvY2FsSW5zdGFudFNlYXJjaEluc3RhbmNlLl9jcmVhdGVVUkwoX2RlZmluZVByb3BlcnR5KHt9LCBpbmRleElkLCBuZXh0U3RhdGUobG9jYWxVaVN0YXRlKSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxvY2FsSW5zdGFudFNlYXJjaEluc3RhbmNlLl9jcmVhdGVVUkwoX2RlZmluZVByb3BlcnR5KHt9LCBpbmRleElkLCBnZXRMb2NhbFdpZGdldHNVaVN0YXRlKGxvY2FsV2lkZ2V0cywge1xuICAgICAgICBzZWFyY2hQYXJhbWV0ZXJzOiBuZXh0U3RhdGUsXG4gICAgICAgIGhlbHBlcjogaGVscGVyXG4gICAgICB9KSkpO1xuICAgIH0sXG4gICAgc2NoZWR1bGVMb2NhbFNlYXJjaDogZGVmZXIoZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGlzb2xhdGVkKSB7XG4gICAgICAgIHZhciBfaGVscGVyMjtcbiAgICAgICAgKF9oZWxwZXIyID0gaGVscGVyKSA9PT0gbnVsbCB8fCBfaGVscGVyMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2hlbHBlcjIuc2VhcmNoKCk7XG4gICAgICB9XG4gICAgfSksXG4gICAgZ2V0V2lkZ2V0czogZnVuY3Rpb24gZ2V0V2lkZ2V0cygpIHtcbiAgICAgIHJldHVybiBsb2NhbFdpZGdldHM7XG4gICAgfSxcbiAgICBhZGRXaWRnZXRzOiBmdW5jdGlvbiBhZGRXaWRnZXRzKHdpZGdldHMpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkod2lkZ2V0cykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHdpdGhVc2FnZSgnVGhlIGBhZGRXaWRnZXRzYCBtZXRob2QgZXhwZWN0cyBhbiBhcnJheSBvZiB3aWRnZXRzLicpKTtcbiAgICAgIH1cbiAgICAgIHZhciBmbGF0V2lkZ2V0cyA9IHdpZGdldHMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIHcpIHtcbiAgICAgICAgcmV0dXJuIGFjYy5jb25jYXQoQXJyYXkuaXNBcnJheSh3KSA/IHcgOiBbd10pO1xuICAgICAgfSwgW10pO1xuICAgICAgaWYgKGZsYXRXaWRnZXRzLnNvbWUoZnVuY3Rpb24gKHdpZGdldCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHdpZGdldC5pbml0ICE9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB3aWRnZXQucmVuZGVyICE9PSAnZnVuY3Rpb24nO1xuICAgICAgfSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHdpdGhVc2FnZSgnVGhlIHdpZGdldCBkZWZpbml0aW9uIGV4cGVjdHMgYSBgcmVuZGVyYCBhbmQvb3IgYW4gYGluaXRgIG1ldGhvZC4nKSk7XG4gICAgICB9XG4gICAgICBmbGF0V2lkZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uICh3aWRnZXQpIHtcbiAgICAgICAgd2lkZ2V0LnBhcmVudCA9IF90aGlzO1xuICAgICAgICBpZiAoaXNJbmRleFdpZGdldCh3aWRnZXQpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb2NhbEluc3RhbnRTZWFyY2hJbnN0YW5jZSAmJiB3aWRnZXQuZGVwZW5kc09uID09PSAncmVjb21tZW5kJykge1xuICAgICAgICAgIGxvY2FsSW5zdGFudFNlYXJjaEluc3RhbmNlLl9oYXNSZWNvbW1lbmRXaWRnZXQgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGxvY2FsSW5zdGFudFNlYXJjaEluc3RhbmNlKSB7XG4gICAgICAgICAgbG9jYWxJbnN0YW50U2VhcmNoSW5zdGFuY2UuX2hhc1NlYXJjaFdpZGdldCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAod2lkZ2V0LmRlcGVuZHNPbiA9PT0gJ3JlY29tbWVuZCcpIHtcbiAgICAgICAgICBoYXNSZWNvbW1lbmRXaWRnZXQgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhhc1NlYXJjaFdpZGdldCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgYWRkV2lkZ2V0SWQod2lkZ2V0KTtcbiAgICAgIH0pO1xuICAgICAgbG9jYWxXaWRnZXRzID0gbG9jYWxXaWRnZXRzLmNvbmNhdChmbGF0V2lkZ2V0cyk7XG4gICAgICBpZiAobG9jYWxJbnN0YW50U2VhcmNoSW5zdGFuY2UgJiYgQm9vbGVhbihmbGF0V2lkZ2V0cy5sZW5ndGgpKSB7XG4gICAgICAgIHByaXZhdGVIZWxwZXJTZXRTdGF0ZShoZWxwZXIsIHtcbiAgICAgICAgICBzdGF0ZTogZ2V0TG9jYWxXaWRnZXRzU2VhcmNoUGFyYW1ldGVycyhsb2NhbFdpZGdldHMsIHtcbiAgICAgICAgICAgIHVpU3RhdGU6IGxvY2FsVWlTdGF0ZSxcbiAgICAgICAgICAgIGluaXRpYWxTZWFyY2hQYXJhbWV0ZXJzOiBoZWxwZXIuc3RhdGVcbiAgICAgICAgICB9KSxcbiAgICAgICAgICByZWNvbW1lbmRTdGF0ZTogZ2V0TG9jYWxXaWRnZXRzUmVjb21tZW5kUGFyYW1ldGVycyhsb2NhbFdpZGdldHMsIHtcbiAgICAgICAgICAgIHVpU3RhdGU6IGxvY2FsVWlTdGF0ZSxcbiAgICAgICAgICAgIGluaXRpYWxSZWNvbW1lbmRQYXJhbWV0ZXJzOiBoZWxwZXIucmVjb21tZW5kU3RhdGVcbiAgICAgICAgICB9KSxcbiAgICAgICAgICBfdWlTdGF0ZTogbG9jYWxVaVN0YXRlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFdlIGNvbXB1dGUgdGhlIHJlbmRlciBzdGF0ZSBiZWZvcmUgY2FsbGluZyBgaW5pdGAgaW4gYSBzZXBhcmF0ZSBsb29wXG4gICAgICAgIC8vIHRvIGNvbnN0cnVjdCB0aGUgd2hvbGUgcmVuZGVyIHN0YXRlIG9iamVjdCB0aGF0IGlzIHRoZW4gcGFzc2VkIHRvXG4gICAgICAgIC8vIGBpbml0YC5cbiAgICAgICAgZmxhdFdpZGdldHMuZm9yRWFjaChmdW5jdGlvbiAod2lkZ2V0KSB7XG4gICAgICAgICAgaWYgKHdpZGdldC5nZXRSZW5kZXJTdGF0ZSkge1xuICAgICAgICAgICAgdmFyIHJlbmRlclN0YXRlID0gd2lkZ2V0LmdldFJlbmRlclN0YXRlKGxvY2FsSW5zdGFudFNlYXJjaEluc3RhbmNlLnJlbmRlclN0YXRlW190aGlzLmdldEluZGV4SWQoKV0gfHwge30sIGNyZWF0ZUluaXRBcmdzKGxvY2FsSW5zdGFudFNlYXJjaEluc3RhbmNlLCBfdGhpcywgbG9jYWxJbnN0YW50U2VhcmNoSW5zdGFuY2UuX2luaXRpYWxVaVN0YXRlKSk7XG4gICAgICAgICAgICBzdG9yZVJlbmRlclN0YXRlKHtcbiAgICAgICAgICAgICAgcmVuZGVyU3RhdGU6IHJlbmRlclN0YXRlLFxuICAgICAgICAgICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2U6IGxvY2FsSW5zdGFudFNlYXJjaEluc3RhbmNlLFxuICAgICAgICAgICAgICBwYXJlbnQ6IF90aGlzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBmbGF0V2lkZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uICh3aWRnZXQpIHtcbiAgICAgICAgICBpZiAod2lkZ2V0LmluaXQpIHtcbiAgICAgICAgICAgIHdpZGdldC5pbml0KGNyZWF0ZUluaXRBcmdzKGxvY2FsSW5zdGFudFNlYXJjaEluc3RhbmNlLCBfdGhpcywgbG9jYWxJbnN0YW50U2VhcmNoSW5zdGFuY2UuX2luaXRpYWxVaVN0YXRlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGlzb2xhdGVkKSB7XG4gICAgICAgICAgdGhpcy5zY2hlZHVsZUxvY2FsU2VhcmNoKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbG9jYWxJbnN0YW50U2VhcmNoSW5zdGFuY2Uuc2NoZWR1bGVTZWFyY2goKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICByZW1vdmVXaWRnZXRzOiBmdW5jdGlvbiByZW1vdmVXaWRnZXRzKHdpZGdldHMpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHdpZGdldHMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih3aXRoVXNhZ2UoJ1RoZSBgcmVtb3ZlV2lkZ2V0c2AgbWV0aG9kIGV4cGVjdHMgYW4gYXJyYXkgb2Ygd2lkZ2V0cy4nKSk7XG4gICAgICB9XG4gICAgICB2YXIgZmxhdFdpZGdldHMgPSB3aWRnZXRzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCB3KSB7XG4gICAgICAgIHJldHVybiBhY2MuY29uY2F0KEFycmF5LmlzQXJyYXkodykgPyB3IDogW3ddKTtcbiAgICAgIH0sIFtdKTtcbiAgICAgIGlmIChmbGF0V2lkZ2V0cy5zb21lKGZ1bmN0aW9uICh3aWRnZXQpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB3aWRnZXQuZGlzcG9zZSAhPT0gJ2Z1bmN0aW9uJztcbiAgICAgIH0pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcih3aXRoVXNhZ2UoJ1RoZSB3aWRnZXQgZGVmaW5pdGlvbiBleHBlY3RzIGEgYGRpc3Bvc2VgIG1ldGhvZC4nKSk7XG4gICAgICB9XG4gICAgICBsb2NhbFdpZGdldHMgPSBsb2NhbFdpZGdldHMuZmlsdGVyKGZ1bmN0aW9uICh3aWRnZXQpIHtcbiAgICAgICAgcmV0dXJuIGZsYXRXaWRnZXRzLmluZGV4T2Yod2lkZ2V0KSA9PT0gLTE7XG4gICAgICB9KTtcbiAgICAgIGxvY2FsV2lkZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uICh3aWRnZXQpIHtcbiAgICAgICAgd2lkZ2V0LnBhcmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGlzSW5kZXhXaWRnZXQod2lkZ2V0KSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG9jYWxJbnN0YW50U2VhcmNoSW5zdGFuY2UgJiYgd2lkZ2V0LmRlcGVuZHNPbiA9PT0gJ3JlY29tbWVuZCcpIHtcbiAgICAgICAgICBsb2NhbEluc3RhbnRTZWFyY2hJbnN0YW5jZS5faGFzUmVjb21tZW5kV2lkZ2V0ID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChsb2NhbEluc3RhbnRTZWFyY2hJbnN0YW5jZSkge1xuICAgICAgICAgIGxvY2FsSW5zdGFudFNlYXJjaEluc3RhbmNlLl9oYXNTZWFyY2hXaWRnZXQgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHdpZGdldC5kZXBlbmRzT24gPT09ICdyZWNvbW1lbmQnKSB7XG4gICAgICAgICAgaGFzUmVjb21tZW5kV2lkZ2V0ID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoYXNTZWFyY2hXaWRnZXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChsb2NhbEluc3RhbnRTZWFyY2hJbnN0YW5jZSAmJiBCb29sZWFuKGZsYXRXaWRnZXRzLmxlbmd0aCkpIHtcbiAgICAgICAgdmFyIF9mbGF0V2lkZ2V0cyRyZWR1Y2UgPSBmbGF0V2lkZ2V0cy5yZWR1Y2UoZnVuY3Rpb24gKHN0YXRlcywgd2lkZ2V0KSB7XG4gICAgICAgICAgICAvLyB0aGUgYGRpc3Bvc2VgIG1ldGhvZCBleGlzdHMgYXQgdGhpcyBwb2ludCB3ZSBhbHJlYWR5IGFzc2VydCBpdFxuICAgICAgICAgICAgdmFyIG5leHQgPSB3aWRnZXQuZGlzcG9zZSh7XG4gICAgICAgICAgICAgIGhlbHBlcjogaGVscGVyLFxuICAgICAgICAgICAgICBzdGF0ZTogc3RhdGVzLmNsZWFuZWRTZWFyY2hTdGF0ZSxcbiAgICAgICAgICAgICAgcmVjb21tZW5kU3RhdGU6IHN0YXRlcy5jbGVhbmVkUmVjb21tZW5kU3RhdGUsXG4gICAgICAgICAgICAgIHBhcmVudDogX3RoaXMyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChuZXh0IGluc3RhbmNlb2YgYWxnb2xpYXNlYXJjaEhlbHBlci5SZWNvbW1lbmRQYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICAgIHN0YXRlcy5jbGVhbmVkUmVjb21tZW5kU3RhdGUgPSBuZXh0O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuZXh0KSB7XG4gICAgICAgICAgICAgIHN0YXRlcy5jbGVhbmVkU2VhcmNoU3RhdGUgPSBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlcztcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBjbGVhbmVkU2VhcmNoU3RhdGU6IGhlbHBlci5zdGF0ZSxcbiAgICAgICAgICAgIGNsZWFuZWRSZWNvbW1lbmRTdGF0ZTogaGVscGVyLnJlY29tbWVuZFN0YXRlXG4gICAgICAgICAgfSksXG4gICAgICAgICAgY2xlYW5lZFNlYXJjaFN0YXRlID0gX2ZsYXRXaWRnZXRzJHJlZHVjZS5jbGVhbmVkU2VhcmNoU3RhdGUsXG4gICAgICAgICAgY2xlYW5lZFJlY29tbWVuZFN0YXRlID0gX2ZsYXRXaWRnZXRzJHJlZHVjZS5jbGVhbmVkUmVjb21tZW5kU3RhdGU7XG4gICAgICAgIHZhciBuZXdTdGF0ZSA9IGxvY2FsSW5zdGFudFNlYXJjaEluc3RhbmNlLmZ1dHVyZS5wcmVzZXJ2ZVNoYXJlZFN0YXRlT25Vbm1vdW50ID8gZ2V0TG9jYWxXaWRnZXRzU2VhcmNoUGFyYW1ldGVycyhsb2NhbFdpZGdldHMsIHtcbiAgICAgICAgICB1aVN0YXRlOiBsb2NhbFVpU3RhdGUsXG4gICAgICAgICAgaW5pdGlhbFNlYXJjaFBhcmFtZXRlcnM6IG5ldyBhbGdvbGlhc2VhcmNoSGVscGVyLlNlYXJjaFBhcmFtZXRlcnMoe1xuICAgICAgICAgICAgaW5kZXg6IHRoaXMuZ2V0SW5kZXhOYW1lKClcbiAgICAgICAgICB9KVxuICAgICAgICB9KSA6IGdldExvY2FsV2lkZ2V0c1NlYXJjaFBhcmFtZXRlcnMobG9jYWxXaWRnZXRzLCB7XG4gICAgICAgICAgdWlTdGF0ZTogZ2V0TG9jYWxXaWRnZXRzVWlTdGF0ZShsb2NhbFdpZGdldHMsIHtcbiAgICAgICAgICAgIHNlYXJjaFBhcmFtZXRlcnM6IGNsZWFuZWRTZWFyY2hTdGF0ZSxcbiAgICAgICAgICAgIGhlbHBlcjogaGVscGVyXG4gICAgICAgICAgfSksXG4gICAgICAgICAgaW5pdGlhbFNlYXJjaFBhcmFtZXRlcnM6IGNsZWFuZWRTZWFyY2hTdGF0ZVxuICAgICAgICB9KTtcbiAgICAgICAgbG9jYWxVaVN0YXRlID0gZ2V0TG9jYWxXaWRnZXRzVWlTdGF0ZShsb2NhbFdpZGdldHMsIHtcbiAgICAgICAgICBzZWFyY2hQYXJhbWV0ZXJzOiBuZXdTdGF0ZSxcbiAgICAgICAgICBoZWxwZXI6IGhlbHBlclxuICAgICAgICB9KTtcbiAgICAgICAgaGVscGVyLnNldFN0YXRlKG5ld1N0YXRlKTtcbiAgICAgICAgaGVscGVyLnJlY29tbWVuZFN0YXRlID0gY2xlYW5lZFJlY29tbWVuZFN0YXRlO1xuICAgICAgICBpZiAobG9jYWxXaWRnZXRzLmxlbmd0aCkge1xuICAgICAgICAgIGlmIChpc29sYXRlZCkge1xuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZUxvY2FsU2VhcmNoKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxvY2FsSW5zdGFudFNlYXJjaEluc3RhbmNlLnNjaGVkdWxlU2VhcmNoKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LFxuICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoX3JlZjIpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzLFxuICAgICAgICBfaW5zdGFudFNlYXJjaEluc3RhbmM7XG4gICAgICB2YXIgaW5zdGFudFNlYXJjaEluc3RhbmNlID0gX3JlZjIuaW5zdGFudFNlYXJjaEluc3RhbmNlLFxuICAgICAgICBwYXJlbnQgPSBfcmVmMi5wYXJlbnQsXG4gICAgICAgIHVpU3RhdGUgPSBfcmVmMi51aVN0YXRlO1xuICAgICAgaWYgKGhlbHBlciAhPT0gbnVsbCkge1xuICAgICAgICAvLyBoZWxwZXIgaXMgYWxyZWFkeSBpbml0aWFsaXplZCwgdGhlcmVmb3JlIHdlIGRvIG5vdCBuZWVkIHRvIHNldCB1cFxuICAgICAgICAvLyBhbnkgbGlzdGVuZXJzXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvY2FsSW5zdGFudFNlYXJjaEluc3RhbmNlID0gaW5zdGFudFNlYXJjaEluc3RhbmNlO1xuICAgICAgbG9jYWxQYXJlbnQgPSBwYXJlbnQ7XG4gICAgICBsb2NhbFVpU3RhdGUgPSB1aVN0YXRlW2luZGV4SWRdIHx8IHt9O1xuXG4gICAgICAvLyBUaGUgYG1haW5IZWxwZXJgIGlzIGFscmVhZHkgZGVmaW5lZCBhdCB0aGlzIHBvaW50LiBUaGUgaW5zdGFuY2UgaXMgY3JlYXRlZFxuICAgICAgLy8gaW5zaWRlIEluc3RhbnRTZWFyY2ggYXQgdGhlIGBzdGFydGAgbWV0aG9kLCB3aGljaCBvY2N1cnMgYmVmb3JlIHRoZSBgaW5pdGBcbiAgICAgIC8vIHN0ZXAuXG4gICAgICB2YXIgbWFpbkhlbHBlciA9IGluc3RhbnRTZWFyY2hJbnN0YW5jZS5tYWluSGVscGVyO1xuICAgICAgdmFyIHBhcmFtZXRlcnMgPSBnZXRMb2NhbFdpZGdldHNTZWFyY2hQYXJhbWV0ZXJzKGxvY2FsV2lkZ2V0cywge1xuICAgICAgICB1aVN0YXRlOiBsb2NhbFVpU3RhdGUsXG4gICAgICAgIGluaXRpYWxTZWFyY2hQYXJhbWV0ZXJzOiBuZXcgYWxnb2xpYXNlYXJjaEhlbHBlci5TZWFyY2hQYXJhbWV0ZXJzKHtcbiAgICAgICAgICBpbmRleDogaW5kZXhOYW1lXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICAgIHZhciByZWNvbW1lbmRQYXJhbWV0ZXJzID0gZ2V0TG9jYWxXaWRnZXRzUmVjb21tZW5kUGFyYW1ldGVycyhsb2NhbFdpZGdldHMsIHtcbiAgICAgICAgdWlTdGF0ZTogbG9jYWxVaVN0YXRlLFxuICAgICAgICBpbml0aWFsUmVjb21tZW5kUGFyYW1ldGVyczogbmV3IGFsZ29saWFzZWFyY2hIZWxwZXIuUmVjb21tZW5kUGFyYW1ldGVycygpXG4gICAgICB9KTtcblxuICAgICAgLy8gVGhpcyBIZWxwZXIgaXMgb25seSB1c2VkIGZvciBzdGF0ZSBtYW5hZ2VtZW50IHdlIGRvIG5vdCBjYXJlIGFib3V0IHRoZVxuICAgICAgLy8gYHNlYXJjaENsaWVudGAuIE9ubHkgdGhlIFwibWFpblwiIEhlbHBlciBjcmVhdGVkIGF0IHRoZSBgSW5zdGFudFNlYXJjaGBcbiAgICAgIC8vIGxldmVsIGlzIGF3YXJlIG9mIHRoZSBjbGllbnQuXG4gICAgICBoZWxwZXIgPSBhbGdvbGlhc2VhcmNoSGVscGVyKG1haW5IZWxwZXIuZ2V0Q2xpZW50KCksIHBhcmFtZXRlcnMuaW5kZXgsIHBhcmFtZXRlcnMpO1xuICAgICAgaGVscGVyLnJlY29tbWVuZFN0YXRlID0gcmVjb21tZW5kUGFyYW1ldGVycztcblxuICAgICAgLy8gV2UgZm9yd2FyZCB0aGUgY2FsbCB0byBgc2VhcmNoYCB0byB0aGUgXCJtYWluXCIgaW5zdGFuY2Ugb2YgdGhlIEhlbHBlclxuICAgICAgLy8gd2hpY2ggaXMgcmVzcG9uc2libGUgZm9yIG1hbmFnaW5nIHRoZSBxdWVyaWVzIChpdCdzIHRoZSBvbmx5IG9uZSB0aGF0IGlzXG4gICAgICAvLyBhd2FyZSBvZiB0aGUgYHNlYXJjaENsaWVudGApLlxuICAgICAgaGVscGVyLnNlYXJjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGlzb2xhdGVkKSB7XG4gICAgICAgICAgaW5zdGFudFNlYXJjaEluc3RhbmNlLnN0YXR1cyA9ICdsb2FkaW5nJztcbiAgICAgICAgICBfdGhpczMucmVuZGVyKHtcbiAgICAgICAgICAgIGluc3RhbnRTZWFyY2hJbnN0YW5jZTogaW5zdGFudFNlYXJjaEluc3RhbmNlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGluc3RhbnRTZWFyY2hJbnN0YW5jZS5jb21wb3NpdGlvbklEID8gaGVscGVyLnNlYXJjaFdpdGhDb21wb3NpdGlvbigpIDogaGVscGVyLnNlYXJjaE9ubHlXaXRoRGVyaXZlZEhlbHBlcnMoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5zdGFudFNlYXJjaEluc3RhbmNlLm9uU3RhdGVDaGFuZ2UpIHtcbiAgICAgICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2Uub25TdGF0ZUNoYW5nZSh7XG4gICAgICAgICAgICB1aVN0YXRlOiBpbnN0YW50U2VhcmNoSW5zdGFuY2UubWFpbkluZGV4LmdldFdpZGdldFVpU3RhdGUoe30pLFxuICAgICAgICAgICAgc2V0VWlTdGF0ZTogZnVuY3Rpb24gc2V0VWlTdGF0ZShuZXh0U3RhdGUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbnRTZWFyY2hJbnN0YW5jZS5zZXRVaVN0YXRlKG5leHRTdGF0ZSwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gV2UgZG9uJ3QgdHJpZ2dlciBhIHNlYXJjaCB3aGVuIGNvbnRyb2xsZWQgYmVjYXVzZSBpdCBiZWNvbWVzIHRoZVxuICAgICAgICAgIC8vIHJlc3BvbnNpYmlsaXR5IG9mIGBzZXRVaVN0YXRlYC5cbiAgICAgICAgICByZXR1cm4gbWFpbkhlbHBlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFpbkhlbHBlci5zZWFyY2goKTtcbiAgICAgIH07XG4gICAgICBoZWxwZXIuc2VhcmNoV2l0aG91dFRyaWdnZXJpbmdPblN0YXRlQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gbWFpbkhlbHBlci5zZWFyY2goKTtcbiAgICAgIH07XG4gICAgICB2YXIgaXNvbGF0ZWRIZWxwZXIgPSBpbmRleE5hbWUgPyBoZWxwZXIgOiBhbGdvbGlhc2VhcmNoSGVscGVyKHt9LCAnX19lbXB0eV9pbmRleF9fJywge30pO1xuICAgICAgdmFyIGRlcml2aW5nSGVscGVyID0gaXNvbGF0ZWQgPyBpc29sYXRlZEhlbHBlciA6IG5lYXJlc3RJc29sYXRlZEhlbHBlcihwYXJlbnQsIG1haW5IZWxwZXIpO1xuICAgICAgZGVyaXZlZEhlbHBlciA9IGRlcml2aW5nSGVscGVyLmRlcml2ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBtZXJnZVNlYXJjaFBhcmFtZXRlcnMuYXBwbHkodm9pZCAwLCBbbWFpbkhlbHBlci5zdGF0ZV0uY29uY2F0KF90b0NvbnN1bWFibGVBcnJheShyZXNvbHZlU2VhcmNoUGFyYW1ldGVycyhfdGhpczMpKSkpO1xuICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX3RoaXMzLmdldEhlbHBlcigpLnJlY29tbWVuZFN0YXRlO1xuICAgICAgfSk7XG4gICAgICB2YXIgaW5kZXhJbml0aWFsUmVzdWx0cyA9IChfaW5zdGFudFNlYXJjaEluc3RhbmMgPSBpbnN0YW50U2VhcmNoSW5zdGFuY2UuX2luaXRpYWxSZXN1bHRzKSA9PT0gbnVsbCB8fCBfaW5zdGFudFNlYXJjaEluc3RhbmMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9pbnN0YW50U2VhcmNoSW5zdGFuY1t0aGlzLmdldEluZGV4SWQoKV07XG4gICAgICBpZiAoaW5kZXhJbml0aWFsUmVzdWx0cyAhPT0gbnVsbCAmJiBpbmRleEluaXRpYWxSZXN1bHRzICE9PSB2b2lkIDAgJiYgaW5kZXhJbml0aWFsUmVzdWx0cy5yZXN1bHRzKSB7XG4gICAgICAgIC8vIFdlIHJlc3RvcmUgdGhlIHNoYXBlIG9mIHRoZSByZXN1bHRzIHByb3ZpZGVkIHRvIHRoZSBpbnN0YW5jZSB0byByZXNwZWN0XG4gICAgICAgIC8vIHRoZSBoZWxwZXIncyBzdHJ1Y3R1cmUuXG4gICAgICAgIHZhciByZXN1bHRzID0gbmV3IGFsZ29saWFzZWFyY2hIZWxwZXIuU2VhcmNoUmVzdWx0cyhuZXcgYWxnb2xpYXNlYXJjaEhlbHBlci5TZWFyY2hQYXJhbWV0ZXJzKGluZGV4SW5pdGlhbFJlc3VsdHMuc3RhdGUpLCBpbmRleEluaXRpYWxSZXN1bHRzLnJlc3VsdHMpO1xuICAgICAgICBkZXJpdmVkSGVscGVyLmxhc3RSZXN1bHRzID0gcmVzdWx0cztcbiAgICAgICAgaGVscGVyLmxhc3RSZXN1bHRzID0gcmVzdWx0cztcbiAgICAgIH1cbiAgICAgIGlmIChpbmRleEluaXRpYWxSZXN1bHRzICE9PSBudWxsICYmIGluZGV4SW5pdGlhbFJlc3VsdHMgIT09IHZvaWQgMCAmJiBpbmRleEluaXRpYWxSZXN1bHRzLnJlY29tbWVuZFJlc3VsdHMpIHtcbiAgICAgICAgdmFyIHJlY29tbWVuZFJlc3VsdHMgPSBuZXcgYWxnb2xpYXNlYXJjaEhlbHBlci5SZWNvbW1lbmRSZXN1bHRzKG5ldyBhbGdvbGlhc2VhcmNoSGVscGVyLlJlY29tbWVuZFBhcmFtZXRlcnMoe1xuICAgICAgICAgIHBhcmFtczogaW5kZXhJbml0aWFsUmVzdWx0cy5yZWNvbW1lbmRSZXN1bHRzLnBhcmFtc1xuICAgICAgICB9KSwgaW5kZXhJbml0aWFsUmVzdWx0cy5yZWNvbW1lbmRSZXN1bHRzLnJlc3VsdHMpO1xuICAgICAgICBkZXJpdmVkSGVscGVyLmxhc3RSZWNvbW1lbmRSZXN1bHRzID0gcmVjb21tZW5kUmVzdWx0cztcbiAgICAgICAgaGVscGVyLmxhc3RSZWNvbW1lbmRSZXN1bHRzID0gcmVjb21tZW5kUmVzdWx0cztcbiAgICAgIH1cblxuICAgICAgLy8gU3Vic2NyaWJlIHRvIHRoZSBIZWxwZXIgc3RhdGUgY2hhbmdlcyBmb3IgdGhlIHBhZ2UgYmVmb3JlIHdpZGdldHNcbiAgICAgIC8vIGFyZSBpbml0aWFsaXplZC4gVGhpcyBiZWhhdmlvciBtaW1pY3MgdGhlIG9yaWdpbmFsIG9uZSBvZiB0aGUgSGVscGVyLlxuICAgICAgLy8gSXQgbWFrZXMgc2Vuc2UgdG8gcmVwbGljYXRlIGl0IGF0IHRoZSBgaW5pdGAgc3RlcC4gV2UgaGF2ZSBhbm90aGVyXG4gICAgICAvLyBsaXN0ZW5lciBvbiBgY2hhbmdlYCBiZWxvdywgb25jZSBgaW5pdGAgaXMgZG9uZS5cbiAgICAgIGhlbHBlci5vbignY2hhbmdlJywgZnVuY3Rpb24gKF9yZWYzKSB7XG4gICAgICAgIHZhciBpc1BhZ2VSZXNldCA9IF9yZWYzLmlzUGFnZVJlc2V0O1xuICAgICAgICBpZiAoaXNQYWdlUmVzZXQpIHtcbiAgICAgICAgICByZXNldFBhZ2VGcm9tV2lkZ2V0cyhsb2NhbFdpZGdldHMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGRlcml2ZWRIZWxwZXIub24oJ3NlYXJjaCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gVGhlIGluZGV4IGRvZXMgbm90IG1hbmFnZSB0aGUgXCJzdGFsZW5lc3NcIiBvZiB0aGUgc2VhcmNoLiBUaGlzIGlzIHRoZVxuICAgICAgICAvLyByZXNwb25zaWJpbGl0eSBvZiB0aGUgbWFpbiBpbnN0YW5jZS4gSXQgZG9lcyBub3QgbWFrZSBzZW5zZSB0byBtYW5hZ2VcbiAgICAgICAgLy8gaXQgYXQgdGhlIGluZGV4IGxldmVsIGJlY2F1c2UgaXQncyBlaXRoZXI6IGFsbCBvZiB0aGVtIG9yIG5vbmUgb2YgdGhlbVxuICAgICAgICAvLyB0aGF0IGFyZSBzdGFsbGVkLiBUaGUgcXVlcmllcyBhcmUgcGVyZm9ybWVkIGludG8gYSBzaW5nbGUgbmV0d29yayByZXF1ZXN0LlxuICAgICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2Uuc2NoZWR1bGVTdGFsbGVkUmVuZGVyKCk7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50Jykge1xuICAgICAgICAgIGNoZWNrSW5kZXhVaVN0YXRlKHtcbiAgICAgICAgICAgIGluZGV4OiBfdGhpczMsXG4gICAgICAgICAgICBpbmRleFVpU3RhdGU6IGxvY2FsVWlTdGF0ZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGRlcml2ZWRIZWxwZXIub24oJ3Jlc3VsdCcsIGZ1bmN0aW9uIChfcmVmNCkge1xuICAgICAgICB2YXIgcmVzdWx0cyA9IF9yZWY0LnJlc3VsdHM7XG4gICAgICAgIC8vIFRoZSBpbmRleCBkb2VzIG5vdCByZW5kZXIgdGhlIHJlc3VsdHMgaXQgc2NoZWR1bGVzIGEgbmV3IHJlbmRlclxuICAgICAgICAvLyB0byBsZXQgYWxsIHRoZSBvdGhlciBpbmRpY2VzIGVtaXQgdGhlaXIgb3duIHJlc3VsdHMuIEl0IGFsbG93cyB1cyB0b1xuICAgICAgICAvLyBydW4gdGhlIHJlbmRlciBwcm9jZXNzIGluIG9uZSBwYXNzLlxuICAgICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2Uuc2NoZWR1bGVSZW5kZXIoKTtcblxuICAgICAgICAvLyB0aGUgZGVyaXZlZCBoZWxwZXIgaXMgdGhlIG9uZSB3aGljaCBhY3R1YWxseSBzZWFyY2hlcywgYnV0IHRoZSBoZWxwZXJcbiAgICAgICAgLy8gd2hpY2ggaXMgZXhwb3NlZCBlLmcuIHZpYSBpbnN0YW5jZS5oZWxwZXIsIGRvZXNuJ3Qgc2VhcmNoLCBhbmQgdGh1c1xuICAgICAgICAvLyBkb2VzIG5vdCBoYXZlIGFjY2VzcyB0byBsYXN0UmVzdWx0cywgd2hpY2ggaXQgdXNlZCB0byBpbiBwcmUtZmVkZXJhdGVkXG4gICAgICAgIC8vIHNlYXJjaCBiZWhhdmlvci5cbiAgICAgICAgaGVscGVyLmxhc3RSZXN1bHRzID0gcmVzdWx0cztcbiAgICAgICAgbGFzdFZhbGlkU2VhcmNoUGFyYW1ldGVycyA9IHJlc3VsdHMgPT09IG51bGwgfHwgcmVzdWx0cyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVzdWx0cy5fc3RhdGU7XG4gICAgICB9KTtcblxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXdhcm5pbmctY29tbWVudHNcbiAgICAgIC8vIFRPRE86IGxpc3RlbiB0byBcInJlc3VsdFwiIGV2ZW50IHdoZW4gZXZlbnRzIGZvciBSZWNvbW1lbmQgYXJlIGltcGxlbWVudGVkXG4gICAgICBkZXJpdmVkSGVscGVyLm9uKCdyZWNvbW1lbmQ6cmVzdWx0JywgZnVuY3Rpb24gKF9yZWY1KSB7XG4gICAgICAgIHZhciByZWNvbW1lbmQgPSBfcmVmNS5yZWNvbW1lbmQ7XG4gICAgICAgIC8vIFRoZSBpbmRleCBkb2VzIG5vdCByZW5kZXIgdGhlIHJlc3VsdHMgaXQgc2NoZWR1bGVzIGEgbmV3IHJlbmRlclxuICAgICAgICAvLyB0byBsZXQgYWxsIHRoZSBvdGhlciBpbmRpY2VzIGVtaXQgdGhlaXIgb3duIHJlc3VsdHMuIEl0IGFsbG93cyB1cyB0b1xuICAgICAgICAvLyBydW4gdGhlIHJlbmRlciBwcm9jZXNzIGluIG9uZSBwYXNzLlxuICAgICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2Uuc2NoZWR1bGVSZW5kZXIoKTtcblxuICAgICAgICAvLyB0aGUgZGVyaXZlZCBoZWxwZXIgaXMgdGhlIG9uZSB3aGljaCBhY3R1YWxseSBzZWFyY2hlcywgYnV0IHRoZSBoZWxwZXJcbiAgICAgICAgLy8gd2hpY2ggaXMgZXhwb3NlZCBlLmcuIHZpYSBpbnN0YW5jZS5oZWxwZXIsIGRvZXNuJ3Qgc2VhcmNoLCBhbmQgdGh1c1xuICAgICAgICAvLyBkb2VzIG5vdCBoYXZlIGFjY2VzcyB0byBsYXN0UmVjb21tZW5kUmVzdWx0cy5cbiAgICAgICAgaGVscGVyLmxhc3RSZWNvbW1lbmRSZXN1bHRzID0gcmVjb21tZW5kLnJlc3VsdHM7XG4gICAgICB9KTtcblxuICAgICAgLy8gV2UgY29tcHV0ZSB0aGUgcmVuZGVyIHN0YXRlIGJlZm9yZSBjYWxsaW5nIGBpbml0YCBpbiBhIHNlcGFyYXRlIGxvb3BcbiAgICAgIC8vIHRvIGNvbnN0cnVjdCB0aGUgd2hvbGUgcmVuZGVyIHN0YXRlIG9iamVjdCB0aGF0IGlzIHRoZW4gcGFzc2VkIHRvXG4gICAgICAvLyBgaW5pdGAuXG4gICAgICBsb2NhbFdpZGdldHMuZm9yRWFjaChmdW5jdGlvbiAod2lkZ2V0KSB7XG4gICAgICAgIGlmICh3aWRnZXQuZ2V0UmVuZGVyU3RhdGUpIHtcbiAgICAgICAgICB2YXIgcmVuZGVyU3RhdGUgPSB3aWRnZXQuZ2V0UmVuZGVyU3RhdGUoaW5zdGFudFNlYXJjaEluc3RhbmNlLnJlbmRlclN0YXRlW190aGlzMy5nZXRJbmRleElkKCldIHx8IHt9LCBjcmVhdGVJbml0QXJncyhpbnN0YW50U2VhcmNoSW5zdGFuY2UsIF90aGlzMywgdWlTdGF0ZSkpO1xuICAgICAgICAgIHN0b3JlUmVuZGVyU3RhdGUoe1xuICAgICAgICAgICAgcmVuZGVyU3RhdGU6IHJlbmRlclN0YXRlLFxuICAgICAgICAgICAgaW5zdGFudFNlYXJjaEluc3RhbmNlOiBpbnN0YW50U2VhcmNoSW5zdGFuY2UsXG4gICAgICAgICAgICBwYXJlbnQ6IF90aGlzM1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGxvY2FsV2lkZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uICh3aWRnZXQpIHtcbiAgICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyB3YXJuaW5nKFxuICAgICAgICAvLyBpZiBpdCBoYXMgTk8gZ2V0V2lkZ2V0U3RhdGUgb3IgaWYgaXQgaGFzIGdldFdpZGdldFVpU3RhdGUsIHdlIGRvbid0IHdhcm5cbiAgICAgICAgLy8gYWthIHdlIHdhcm4gaWYgdGhlcmUncyBfb25seV8gZ2V0V2lkZ2V0U3RhdGVcbiAgICAgICAgIXdpZGdldC5nZXRXaWRnZXRTdGF0ZSB8fCBCb29sZWFuKHdpZGdldC5nZXRXaWRnZXRVaVN0YXRlKSwgJ1RoZSBgZ2V0V2lkZ2V0U3RhdGVgIG1ldGhvZCBpcyByZW5hbWVkIGBnZXRXaWRnZXRVaVN0YXRlYCBhbmQgd2lsbCBubyBsb25nZXIgZXhpc3QgdW5kZXIgdGhhdCBuYW1lIGluIEluc3RhbnRTZWFyY2guanMgNS54LiBQbGVhc2UgdXNlIGBnZXRXaWRnZXRVaVN0YXRlYCBpbnN0ZWFkLicpIDogdm9pZCAwO1xuICAgICAgICBpZiAod2lkZ2V0LmluaXQpIHtcbiAgICAgICAgICB3aWRnZXQuaW5pdChjcmVhdGVJbml0QXJncyhpbnN0YW50U2VhcmNoSW5zdGFuY2UsIF90aGlzMywgdWlTdGF0ZSkpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gU3Vic2NyaWJlIHRvIHRoZSBIZWxwZXIgc3RhdGUgY2hhbmdlcyBmb3IgdGhlIGB1aVN0YXRlYCBvbmNlIHdpZGdldHNcbiAgICAgIC8vIGFyZSBpbml0aWFsaXplZC4gVW50aWwgdGhlIGZpcnN0IHJlbmRlciwgc3RhdGUgY2hhbmdlcyBhcmUgcGFydCBvZiB0aGVcbiAgICAgIC8vIGNvbmZpZ3VyYXRpb24gc3RlcC4gVGhpcyBpcyBtYWlubHkgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCBjdXN0b21cbiAgICAgIC8vIHdpZGdldHMuIFdoZW4gdGhlIHN1YnNjcmlwdGlvbiBoYXBwZW5zIGJlZm9yZSB0aGUgYGluaXRgIHN0ZXAsIHRoZSAoc3RhdGljKVxuICAgICAgLy8gY29uZmlndXJhdGlvbiBvZiB0aGUgd2lkZ2V0IGlzIHB1c2hlZCBpbiB0aGUgVVJMLiBUaGF0J3Mgd2hhdCB3ZSB3YW50IHRvIGF2b2lkLlxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FsZ29saWEvaW5zdGFudHNlYXJjaC9wdWxsLzk5NC9jb21taXRzLzRhNjcyYWUzZmQ3ODgwOWUyMTNkZTAzNjg1NDllZjEyZTlkYzk0NTRcbiAgICAgIGhlbHBlci5vbignY2hhbmdlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IGV2ZW50LnN0YXRlO1xuICAgICAgICB2YXIgX3VpU3RhdGUgPSBldmVudC5fdWlTdGF0ZTtcbiAgICAgICAgbG9jYWxVaVN0YXRlID0gZ2V0TG9jYWxXaWRnZXRzVWlTdGF0ZShsb2NhbFdpZGdldHMsIHtcbiAgICAgICAgICBzZWFyY2hQYXJhbWV0ZXJzOiBzdGF0ZSxcbiAgICAgICAgICBoZWxwZXI6IGhlbHBlclxuICAgICAgICB9LCBfdWlTdGF0ZSB8fCB7fSk7XG5cbiAgICAgICAgLy8gV2UgZG9uJ3QgdHJpZ2dlciBhbiBpbnRlcm5hbCBjaGFuZ2Ugd2hlbiBjb250cm9sbGVkIGJlY2F1c2UgaXRcbiAgICAgICAgLy8gYmVjb21lcyB0aGUgcmVzcG9uc2liaWxpdHkgb2YgYHNldFVpU3RhdGVgLlxuICAgICAgICBpZiAoIWluc3RhbnRTZWFyY2hJbnN0YW5jZS5vblN0YXRlQ2hhbmdlKSB7XG4gICAgICAgICAgaW5zdGFudFNlYXJjaEluc3RhbmNlLm9uSW50ZXJuYWxTdGF0ZUNoYW5nZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChpbmRleEluaXRpYWxSZXN1bHRzKSB7XG4gICAgICAgIC8vIElmIHRoZXJlIGFyZSBpbml0aWFsIHJlc3VsdHMsIHdlJ3JlIG5vdCBub3RpZmllZCBvZiB0aGUgbmV4dCByZXN1bHRzXG4gICAgICAgIC8vIGJlY2F1c2Ugd2UgZG9uJ3QgdHJpZ2dlciBhbiBpbml0aWFsIHNlYXJjaC4gV2UgdGhlcmVmb3JlIG5lZWQgdG8gZGlyZWN0bHlcbiAgICAgICAgLy8gc2NoZWR1bGUgYSByZW5kZXIgdGhhdCB3aWxsIHJlbmRlciB0aGUgcmVzdWx0cyBpbmplY3RlZCBvbiB0aGUgaGVscGVyLlxuICAgICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2Uuc2NoZWR1bGVSZW5kZXIoKTtcbiAgICAgIH1cbiAgICAgIGlmIChoYXNSZWNvbW1lbmRXaWRnZXQpIHtcbiAgICAgICAgaW5zdGFudFNlYXJjaEluc3RhbmNlLl9oYXNSZWNvbW1lbmRXaWRnZXQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGhhc1NlYXJjaFdpZGdldCkge1xuICAgICAgICBpbnN0YW50U2VhcmNoSW5zdGFuY2UuX2hhc1NlYXJjaFdpZGdldCA9IHRydWU7XG4gICAgICB9XG4gICAgfSxcbiAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcihfcmVmNikge1xuICAgICAgdmFyIF9kZXJpdmVkSGVscGVyMixcbiAgICAgICAgX3RoaXM0ID0gdGhpcztcbiAgICAgIHZhciBpbnN0YW50U2VhcmNoSW5zdGFuY2UgPSBfcmVmNi5pbnN0YW50U2VhcmNoSW5zdGFuY2U7XG4gICAgICAvLyB3ZSBjYW4ndCBhdHRhY2ggYSBsaXN0ZW5lciB0byB0aGUgZXJyb3IgZXZlbnQgb2Ygc2VhcmNoLCBhcyB0aGUgZXJyb3JcbiAgICAgIC8vIHRoZW4gd291bGQgbm8gbG9uZ2VyIGJlIHRocm93biBmb3IgZ2xvYmFsIGhhbmRsZXJzLlxuICAgICAgaWYgKGluc3RhbnRTZWFyY2hJbnN0YW5jZS5zdGF0dXMgPT09ICdlcnJvcicgJiYgIWluc3RhbnRTZWFyY2hJbnN0YW5jZS5tYWluSGVscGVyLmhhc1BlbmRpbmdSZXF1ZXN0cygpICYmIGxhc3RWYWxpZFNlYXJjaFBhcmFtZXRlcnMpIHtcbiAgICAgICAgaGVscGVyLnNldFN0YXRlKGxhc3RWYWxpZFNlYXJjaFBhcmFtZXRlcnMpO1xuICAgICAgfVxuXG4gICAgICAvLyBXZSBvbmx5IHJlbmRlciBpbmRleCB3aWRnZXRzIGlmIHRoZXJlIGFyZSBubyByZXN1bHRzLlxuICAgICAgLy8gVGhpcyBtYWtlcyBzdXJlIGByZW5kZXJgIGlzIG5ldmVyIGNhbGxlZCB3aXRoIGByZXN1bHRzYCBiZWluZyBgbnVsbGAuXG4gICAgICAvLyBJZiBpdCdzIGFuIGlzb2xhdGVkIGluZGV4IHdpdGhvdXQgYW4gaW5kZXggbmFtZSwgd2UgcmVuZGVyIGFsbCB3aWRnZXRzLFxuICAgICAgLy8gYXMgdGhlcmUgYXJlIG5vIHJlc3VsdHMgdG8gZGlzcGxheSBmb3IgdGhlIGlzb2xhdGVkIGluZGV4IGl0c2VsZi5cbiAgICAgIHZhciB3aWRnZXRzVG9SZW5kZXIgPSB0aGlzLmdldFJlc3VsdHMoKSB8fCAoX2Rlcml2ZWRIZWxwZXIyID0gZGVyaXZlZEhlbHBlcikgIT09IG51bGwgJiYgX2Rlcml2ZWRIZWxwZXIyICE9PSB2b2lkIDAgJiYgX2Rlcml2ZWRIZWxwZXIyLmxhc3RSZWNvbW1lbmRSZXN1bHRzIHx8IGlzb2xhdGVkICYmICFpbmRleE5hbWUgPyBsb2NhbFdpZGdldHMgOiBsb2NhbFdpZGdldHMuZmlsdGVyKGZ1bmN0aW9uICh3aWRnZXQpIHtcbiAgICAgICAgcmV0dXJuIHdpZGdldC5zaG91bGRSZW5kZXI7XG4gICAgICB9KTtcbiAgICAgIHdpZGdldHNUb1JlbmRlciA9IHdpZGdldHNUb1JlbmRlci5maWx0ZXIoZnVuY3Rpb24gKHdpZGdldCkge1xuICAgICAgICBpZiAoIXdpZGdldC5zaG91bGRSZW5kZXIpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2lkZ2V0LnNob3VsZFJlbmRlcih7XG4gICAgICAgICAgaW5zdGFudFNlYXJjaEluc3RhbmNlOiBpbnN0YW50U2VhcmNoSW5zdGFuY2VcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHdpZGdldHNUb1JlbmRlci5mb3JFYWNoKGZ1bmN0aW9uICh3aWRnZXQpIHtcbiAgICAgICAgaWYgKHdpZGdldC5nZXRSZW5kZXJTdGF0ZSkge1xuICAgICAgICAgIHZhciByZW5kZXJTdGF0ZSA9IHdpZGdldC5nZXRSZW5kZXJTdGF0ZShpbnN0YW50U2VhcmNoSW5zdGFuY2UucmVuZGVyU3RhdGVbX3RoaXM0LmdldEluZGV4SWQoKV0gfHwge30sIGNyZWF0ZVJlbmRlckFyZ3MoaW5zdGFudFNlYXJjaEluc3RhbmNlLCBfdGhpczQsIHdpZGdldCkpO1xuICAgICAgICAgIHN0b3JlUmVuZGVyU3RhdGUoe1xuICAgICAgICAgICAgcmVuZGVyU3RhdGU6IHJlbmRlclN0YXRlLFxuICAgICAgICAgICAgaW5zdGFudFNlYXJjaEluc3RhbmNlOiBpbnN0YW50U2VhcmNoSW5zdGFuY2UsXG4gICAgICAgICAgICBwYXJlbnQ6IF90aGlzNFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHdpZGdldHNUb1JlbmRlci5mb3JFYWNoKGZ1bmN0aW9uICh3aWRnZXQpIHtcbiAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgYWxsIHRoZSB2YXJpYWJsZXMgdXNlZCBiZWxvdyBhcmUgc2V0LiBCb3RoIGBoZWxwZXJgXG4gICAgICAgIC8vIGFuZCBgZGVyaXZlZEhlbHBlcmAgaGF2ZSBiZWVuIGNyZWF0ZWQgYXQgdGhlIGBpbml0YCBzdGVwLiBUaGUgYXR0cmlidXRlXG4gICAgICAgIC8vIGBsYXN0UmVzdWx0c2AgbWlnaHQgYmUgYG51bGxgIHRob3VnaC4gSXQncyBwb3NzaWJsZSB0aGF0IGEgc3RhbGxlZCByZW5kZXJcbiAgICAgICAgLy8gaGFwcGVucyBiZWZvcmUgdGhlIHJlc3VsdCBlLmcgd2l0aCBhIGR5bmFtaWNhbGx5IGFkZGVkIGluZGV4IHRoZSByZXF1ZXN0IG1pZ2h0XG4gICAgICAgIC8vIGJlIGRlbGF5ZWQuIFRoZSByZW5kZXIgaXMgdHJpZ2dlcmVkIGZvciB0aGUgY29tcGxldGUgdHJlZSBidXQgc29tZSBwYXJ0cyBkb1xuICAgICAgICAvLyBub3QgaGF2ZSByZXN1bHRzIHlldC5cblxuICAgICAgICBpZiAod2lkZ2V0LnJlbmRlcikge1xuICAgICAgICAgIHdpZGdldC5yZW5kZXIoY3JlYXRlUmVuZGVyQXJncyhpbnN0YW50U2VhcmNoSW5zdGFuY2UsIF90aGlzNCwgd2lkZ2V0KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgZGlzcG9zZTogZnVuY3Rpb24gZGlzcG9zZSgpIHtcbiAgICAgIHZhciBfdGhpczUgPSB0aGlzLFxuICAgICAgICBfaGVscGVyMyxcbiAgICAgICAgX2Rlcml2ZWRIZWxwZXIzO1xuICAgICAgbG9jYWxXaWRnZXRzLmZvckVhY2goZnVuY3Rpb24gKHdpZGdldCkge1xuICAgICAgICBpZiAod2lkZ2V0LmRpc3Bvc2UgJiYgaGVscGVyKSB7XG4gICAgICAgICAgLy8gVGhlIGRpc3Bvc2UgZnVuY3Rpb24gaXMgYWx3YXlzIGNhbGxlZCBvbmNlIHRoZSBpbnN0YW5jZSBpcyBzdGFydGVkXG4gICAgICAgICAgLy8gKGl0J3MgYW4gZWZmZWN0IG9mIGByZW1vdmVXaWRnZXRzYCkuIFRoZSBpbmRleCBpcyBpbml0aWFsaXplZCBhbmRcbiAgICAgICAgICAvLyB0aGUgSGVscGVyIGlzIGF2YWlsYWJsZS4gV2UgZG9uJ3QgY2FyZSBhYm91dCB0aGUgcmV0dXJuIHZhbHVlIG9mXG4gICAgICAgICAgLy8gYGRpc3Bvc2VgIGJlY2F1c2UgdGhlIGluZGV4IGlzIHJlbW92ZWQuIFdlIGNhbid0IGNhbGwgYHJlbW92ZVdpZGdldHNgXG4gICAgICAgICAgLy8gYmVjYXVzZSB3ZSB3YW50IHRvIGtlZXAgdGhlIHdpZGdldHMgb24gdGhlIGluc3RhbmNlLCB0byBhbGxvdyBpZGVtcG90ZW50XG4gICAgICAgICAgLy8gb3BlcmF0aW9ucyBvbiBgYWRkYCAmIGByZW1vdmVgLlxuICAgICAgICAgIHdpZGdldC5kaXNwb3NlKHtcbiAgICAgICAgICAgIGhlbHBlcjogaGVscGVyLFxuICAgICAgICAgICAgc3RhdGU6IGhlbHBlci5zdGF0ZSxcbiAgICAgICAgICAgIHJlY29tbWVuZFN0YXRlOiBoZWxwZXIucmVjb21tZW5kU3RhdGUsXG4gICAgICAgICAgICBwYXJlbnQ6IF90aGlzNVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGxvY2FsSW5zdGFudFNlYXJjaEluc3RhbmNlID0gbnVsbDtcbiAgICAgIGxvY2FsUGFyZW50ID0gbnVsbDtcbiAgICAgIChfaGVscGVyMyA9IGhlbHBlcikgPT09IG51bGwgfHwgX2hlbHBlcjMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9oZWxwZXIzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgaGVscGVyID0gbnVsbDtcbiAgICAgIChfZGVyaXZlZEhlbHBlcjMgPSBkZXJpdmVkSGVscGVyKSA9PT0gbnVsbCB8fCBfZGVyaXZlZEhlbHBlcjMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kZXJpdmVkSGVscGVyMy5kZXRhY2goKTtcbiAgICAgIGRlcml2ZWRIZWxwZXIgPSBudWxsO1xuICAgIH0sXG4gICAgZ2V0V2lkZ2V0VWlTdGF0ZTogZnVuY3Rpb24gZ2V0V2lkZ2V0VWlTdGF0ZSh1aVN0YXRlKSB7XG4gICAgICByZXR1cm4gbG9jYWxXaWRnZXRzLmZpbHRlcihpc0luZGV4V2lkZ2V0KS5maWx0ZXIoZnVuY3Rpb24gKHcpIHtcbiAgICAgICAgcmV0dXJuICF3Ll9pc29sYXRlZDtcbiAgICAgIH0pLnJlZHVjZShmdW5jdGlvbiAocHJldmlvdXNVaVN0YXRlLCBpbm5lckluZGV4KSB7XG4gICAgICAgIHJldHVybiBpbm5lckluZGV4LmdldFdpZGdldFVpU3RhdGUocHJldmlvdXNVaVN0YXRlKTtcbiAgICAgIH0sIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdWlTdGF0ZSksIHt9LCBfZGVmaW5lUHJvcGVydHkoe30sIGluZGV4SWQsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdWlTdGF0ZVtpbmRleElkXSksIGxvY2FsVWlTdGF0ZSkpKSk7XG4gICAgfSxcbiAgICBnZXRXaWRnZXRTdGF0ZTogZnVuY3Rpb24gZ2V0V2lkZ2V0U3RhdGUodWlTdGF0ZSkge1xuICAgICAgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdkZXZlbG9wbWVudCcgPyB3YXJuaW5nKGZhbHNlLCAnVGhlIGBnZXRXaWRnZXRTdGF0ZWAgbWV0aG9kIGlzIHJlbmFtZWQgYGdldFdpZGdldFVpU3RhdGVgIGFuZCB3aWxsIG5vIGxvbmdlciBleGlzdCB1bmRlciB0aGF0IG5hbWUgaW4gSW5zdGFudFNlYXJjaC5qcyA1LnguIFBsZWFzZSB1c2UgYGdldFdpZGdldFVpU3RhdGVgIGluc3RlYWQuJykgOiB2b2lkIDA7XG4gICAgICByZXR1cm4gdGhpcy5nZXRXaWRnZXRVaVN0YXRlKHVpU3RhdGUpO1xuICAgIH0sXG4gICAgZ2V0V2lkZ2V0U2VhcmNoUGFyYW1ldGVyczogZnVuY3Rpb24gZ2V0V2lkZ2V0U2VhcmNoUGFyYW1ldGVycyhzZWFyY2hQYXJhbWV0ZXJzLCBfcmVmNykge1xuICAgICAgdmFyIHVpU3RhdGUgPSBfcmVmNy51aVN0YXRlO1xuICAgICAgcmV0dXJuIGdldExvY2FsV2lkZ2V0c1NlYXJjaFBhcmFtZXRlcnMobG9jYWxXaWRnZXRzLCB7XG4gICAgICAgIHVpU3RhdGU6IHVpU3RhdGUsXG4gICAgICAgIGluaXRpYWxTZWFyY2hQYXJhbWV0ZXJzOiBzZWFyY2hQYXJhbWV0ZXJzXG4gICAgICB9KTtcbiAgICB9LFxuICAgIHNob3VsZFJlbmRlcjogZnVuY3Rpb24gc2hvdWxkUmVuZGVyKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICByZWZyZXNoVWlTdGF0ZTogZnVuY3Rpb24gcmVmcmVzaFVpU3RhdGUoKSB7XG4gICAgICBsb2NhbFVpU3RhdGUgPSBnZXRMb2NhbFdpZGdldHNVaVN0YXRlKGxvY2FsV2lkZ2V0cywge1xuICAgICAgICBzZWFyY2hQYXJhbWV0ZXJzOiB0aGlzLmdldEhlbHBlcigpLnN0YXRlLFxuICAgICAgICBoZWxwZXI6IHRoaXMuZ2V0SGVscGVyKClcbiAgICAgIH0sIGxvY2FsVWlTdGF0ZSk7XG4gICAgfSxcbiAgICBzZXRJbmRleFVpU3RhdGU6IGZ1bmN0aW9uIHNldEluZGV4VWlTdGF0ZShpbmRleFVpU3RhdGUpIHtcbiAgICAgIHZhciBuZXh0SW5kZXhVaVN0YXRlID0gdHlwZW9mIGluZGV4VWlTdGF0ZSA9PT0gJ2Z1bmN0aW9uJyA/IGluZGV4VWlTdGF0ZShsb2NhbFVpU3RhdGUpIDogaW5kZXhVaVN0YXRlO1xuICAgICAgbG9jYWxJbnN0YW50U2VhcmNoSW5zdGFuY2Uuc2V0VWlTdGF0ZShmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc3RhdGUpLCB7fSwgX2RlZmluZVByb3BlcnR5KHt9LCBpbmRleElkLCBuZXh0SW5kZXhVaVN0YXRlKSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59O1xuZXhwb3J0IGRlZmF1bHQgaW5kZXg7XG5mdW5jdGlvbiBzdG9yZVJlbmRlclN0YXRlKF9yZWY4KSB7XG4gIHZhciByZW5kZXJTdGF0ZSA9IF9yZWY4LnJlbmRlclN0YXRlLFxuICAgIGluc3RhbnRTZWFyY2hJbnN0YW5jZSA9IF9yZWY4Lmluc3RhbnRTZWFyY2hJbnN0YW5jZSxcbiAgICBwYXJlbnQgPSBfcmVmOC5wYXJlbnQ7XG4gIHZhciBwYXJlbnRJbmRleE5hbWUgPSBwYXJlbnQgPyBwYXJlbnQuZ2V0SW5kZXhJZCgpIDogaW5zdGFudFNlYXJjaEluc3RhbmNlLm1haW5JbmRleC5nZXRJbmRleElkKCk7XG4gIGluc3RhbnRTZWFyY2hJbnN0YW5jZS5yZW5kZXJTdGF0ZSA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaW5zdGFudFNlYXJjaEluc3RhbmNlLnJlbmRlclN0YXRlKSwge30sIF9kZWZpbmVQcm9wZXJ0eSh7fSwgcGFyZW50SW5kZXhOYW1lLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGluc3RhbnRTZWFyY2hJbnN0YW5jZS5yZW5kZXJTdGF0ZVtwYXJlbnRJbmRleE5hbWVdKSwgcmVuZGVyU3RhdGUpKSk7XG59XG5cbi8qKlxuICogV2FsayB1cCB0aGUgcGFyZW50IGNoYWluIHRvIGZpbmQgdGhlIGNsb3Nlc3QgaXNvbGF0ZWQgaW5kZXgsIG9yIGZhbGwgYmFjayB0byBtYWluSGVscGVyXG4gKi9cbmZ1bmN0aW9uIG5lYXJlc3RJc29sYXRlZEhlbHBlcihjdXJyZW50LCBtYWluSGVscGVyKSB7XG4gIHdoaWxlIChjdXJyZW50KSB7XG4gICAgaWYgKGN1cnJlbnQuX2lzb2xhdGVkKSB7XG4gICAgICByZXR1cm4gY3VycmVudC5nZXRIZWxwZXIoKTtcbiAgICB9XG4gICAgY3VycmVudCA9IGN1cnJlbnQuZ2V0UGFyZW50KCk7XG4gIH1cbiAgcmV0dXJuIG1haW5IZWxwZXI7XG59Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/instantsearch.js/es/widgets/index/index.js\n");

/***/ })

};
;